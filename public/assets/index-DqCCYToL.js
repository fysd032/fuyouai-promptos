(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Cp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hu={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Py(){if(qm)return xi;qm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:r,type:l,key:h,ref:c!==void 0?c:null,props:d}}return xi.Fragment=a,xi.jsx=i,xi.jsxs=i,xi}var $m;function Jy(){return $m||($m=1,Hu.exports=Py()),Hu.exports}var f=Jy(),Gu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function Xy(){if(Hm)return de;Hm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function M(A,H,P){this.props=A,this.context=H,this.refs=N,this.updater=P||E}M.prototype.isReactComponent={},M.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=M.prototype;function U(A,H,P){this.props=A,this.context=H,this.refs=N,this.updater=P||E}var $=U.prototype=new V;$.constructor=U,R($,M.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function K(){}var X={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function W(A,H,P){var Q=P.ref;return{$$typeof:r,type:A,key:H,ref:Q!==void 0?Q:null,props:P}}function I(A,H){return W(A.type,H,A.props)}function he(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function Oe(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(P){return H[P]})}var Xe=/\/+/g;function De(A,H){return typeof A=="object"&&A!==null&&A.key!=null?Oe(""+A.key):H.toString(36)}function We(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(K,K):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,H,P,Q,re){var ce=typeof A;(ce==="undefined"||ce==="boolean")&&(A=null);var ye=!1;if(A===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(A.$$typeof){case r:case a:ye=!0;break;case b:return ye=A._init,B(ye(A._payload),H,P,Q,re)}}if(ye)return re=re(A),ye=Q===""?"."+De(A,0):Q,Y(re)?(P="",ye!=null&&(P=ye.replace(Xe,"$&/")+"/"),B(re,H,P,"",function(tn){return tn})):re!=null&&(he(re)&&(re=I(re,P+(re.key==null||A&&A.key===re.key?"":(""+re.key).replace(Xe,"$&/")+"/")+ye)),H.push(re)),1;ye=0;var et=Q===""?".":Q+":";if(Y(A))for(var Ee=0;Ee<A.length;Ee++)Q=A[Ee],ce=et+De(Q,Ee),ye+=B(Q,H,P,ce,re);else if(Ee=S(A),typeof Ee=="function")for(A=Ee.call(A),Ee=0;!(Q=A.next()).done;)Q=Q.value,ce=et+De(Q,Ee++),ye+=B(Q,H,P,ce,re);else if(ce==="object"){if(typeof A.then=="function")return B(We(A),H,P,Q,re);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(A,H,P){if(A==null)return A;var Q=[],re=0;return B(A,Q,"","",function(ce){return H.call(P,ce,re++)}),Q}function F(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(P){(A._status===0||A._status===-1)&&(A._status=1,A._result=P)},function(P){(A._status===0||A._status===-1)&&(A._status=2,A._result=P)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var ee=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ue={map:J,forEach:function(A,H,P){J(A,function(){H.apply(this,arguments)},P)},count:function(A){var H=0;return J(A,function(){H++}),H},toArray:function(A){return J(A,function(H){return H})||[]},only:function(A){if(!he(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return de.Activity=x,de.Children=ue,de.Component=M,de.Fragment=i,de.Profiler=c,de.PureComponent=U,de.StrictMode=l,de.Suspense=g,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,de.__COMPILER_RUNTIME={__proto__:null,c:function(A){return X.H.useMemoCache(A)}},de.cache=function(A){return function(){return A.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(A,H,P){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Q=R({},A.props),re=A.key;if(H!=null)for(ce in H.key!==void 0&&(re=""+H.key),H)!oe.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(Q[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)Q.children=P;else if(1<ce){for(var ye=Array(ce),et=0;et<ce;et++)ye[et]=arguments[et+2];Q.children=ye}return W(A.type,re,Q)},de.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},de.createElement=function(A,H,P){var Q,re={},ce=null;if(H!=null)for(Q in H.key!==void 0&&(ce=""+H.key),H)oe.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=H[Q]);var ye=arguments.length-2;if(ye===1)re.children=P;else if(1<ye){for(var et=Array(ye),Ee=0;Ee<ye;Ee++)et[Ee]=arguments[Ee+2];re.children=et}if(A&&A.defaultProps)for(Q in ye=A.defaultProps,ye)re[Q]===void 0&&(re[Q]=ye[Q]);return W(A,ce,re)},de.createRef=function(){return{current:null}},de.forwardRef=function(A){return{$$typeof:m,render:A}},de.isValidElement=he,de.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:F}},de.memo=function(A,H){return{$$typeof:y,type:A,compare:H===void 0?null:H}},de.startTransition=function(A){var H=X.T,P={};X.T=P;try{var Q=A(),re=X.S;re!==null&&re(P,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(K,ee)}catch(ce){ee(ce)}finally{H!==null&&P.types!==null&&(H.types=P.types),X.T=H}},de.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},de.use=function(A){return X.H.use(A)},de.useActionState=function(A,H,P){return X.H.useActionState(A,H,P)},de.useCallback=function(A,H){return X.H.useCallback(A,H)},de.useContext=function(A){return X.H.useContext(A)},de.useDebugValue=function(){},de.useDeferredValue=function(A,H){return X.H.useDeferredValue(A,H)},de.useEffect=function(A,H){return X.H.useEffect(A,H)},de.useEffectEvent=function(A){return X.H.useEffectEvent(A)},de.useId=function(){return X.H.useId()},de.useImperativeHandle=function(A,H,P){return X.H.useImperativeHandle(A,H,P)},de.useInsertionEffect=function(A,H){return X.H.useInsertionEffect(A,H)},de.useLayoutEffect=function(A,H){return X.H.useLayoutEffect(A,H)},de.useMemo=function(A,H){return X.H.useMemo(A,H)},de.useOptimistic=function(A,H){return X.H.useOptimistic(A,H)},de.useReducer=function(A,H,P){return X.H.useReducer(A,H,P)},de.useRef=function(A){return X.H.useRef(A)},de.useState=function(A){return X.H.useState(A)},de.useSyncExternalStore=function(A,H,P){return X.H.useSyncExternalStore(A,H,P)},de.useTransition=function(){return X.H.useTransition()},de.version="19.2.3",de}var Gm;function Sc(){return Gm||(Gm=1,Gu.exports=Xy()),Gu.exports}var T=Sc();const Qy=Cp(T);var Vu={exports:{}},wi={},Fu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function Zy(){return Vm||(Vm=1,(function(r){function a(B,J){var F=B.length;B.push(J);e:for(;0<F;){var ee=F-1>>>1,ue=B[ee];if(0<c(ue,J))B[ee]=J,B[F]=ue,F=ee;else break e}}function i(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var J=B[0],F=B.pop();if(F!==J){B[0]=F;e:for(var ee=0,ue=B.length,A=ue>>>1;ee<A;){var H=2*(ee+1)-1,P=B[H],Q=H+1,re=B[Q];if(0>c(P,F))Q<ue&&0>c(re,P)?(B[ee]=re,B[Q]=F,ee=Q):(B[ee]=P,B[H]=F,ee=H);else if(Q<ue&&0>c(re,F))B[ee]=re,B[Q]=F,ee=Q;else break e}}return J}function c(B,J){var F=B.sortIndex-J.sortIndex;return F!==0?F:B.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],y=[],b=1,x=null,w=3,S=!1,E=!1,R=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var J=i(y);J!==null;){if(J.callback===null)l(y);else if(J.startTime<=B)l(y),J.sortIndex=J.expirationTime,a(g,J);else break;J=i(y)}}function Y(B){if(R=!1,$(B),!E)if(i(g)!==null)E=!0,K||(K=!0,Oe());else{var J=i(y);J!==null&&We(Y,J.startTime-B)}}var K=!1,X=-1,oe=5,W=-1;function I(){return N?!0:!(r.unstable_now()-W<oe)}function he(){if(N=!1,K){var B=r.unstable_now();W=B;var J=!0;try{e:{E=!1,R&&(R=!1,V(X),X=-1),S=!0;var F=w;try{t:{for($(B),x=i(g);x!==null&&!(x.expirationTime>B&&I());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,w=x.priorityLevel;var ue=ee(x.expirationTime<=B);if(B=r.unstable_now(),typeof ue=="function"){x.callback=ue,$(B),J=!0;break t}x===i(g)&&l(g),$(B)}else l(g);x=i(g)}if(x!==null)J=!0;else{var A=i(y);A!==null&&We(Y,A.startTime-B),J=!1}}break e}finally{x=null,w=F,S=!1}J=void 0}}finally{J?Oe():K=!1}}}var Oe;if(typeof U=="function")Oe=function(){U(he)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,De=Xe.port2;Xe.port1.onmessage=he,Oe=function(){De.postMessage(null)}}else Oe=function(){M(he,0)};function We(B,J){X=M(function(){B(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(B){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var F=w;w=J;try{return B()}finally{w=F}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=w;w=B;try{return J()}finally{w=F}},r.unstable_scheduleCallback=function(B,J,F){var ee=r.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,B){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=F+ue,B={id:b++,callback:J,priorityLevel:B,startTime:F,expirationTime:ue,sortIndex:-1},F>ee?(B.sortIndex=F,a(y,B),i(g)===null&&B===i(y)&&(R?(V(X),X=-1):R=!0,We(Y,F-ee))):(B.sortIndex=ue,a(g,B),E||S||(E=!0,K||(K=!0,Oe()))),B},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(B){var J=w;return function(){var F=w;w=J;try{return B.apply(this,arguments)}finally{w=F}}}})(Iu)),Iu}var Fm;function Wy(){return Fm||(Fm=1,Fu.exports=Zy()),Fu.exports}var Ku={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function ev(){if(Im)return ct;Im=1;var r=Sc();function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return d(g,y,null,b)},ct.flushSync=function(g){var y=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=y,l.p=b,l.d.f()}},ct.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(g,y))},ct.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ct.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?l.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:S}):b==="script"&&l.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ct.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(g)},ct.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin);l.d.L(g,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ct.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);l.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(g)},ct.requestFormReset=function(g){l.d.r(g)},ct.unstable_batchedUpdates=function(g,y){return g(y)},ct.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var Km;function tv(){if(Km)return Ku.exports;Km=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Ku.exports=ev(),Ku.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function nv(){if(Ym)return wi;Ym=1;var r=Wy(),a=Sc(),i=tv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===s)return g(o),t;u=u.sibling}throw Error(l(188))}if(n.return!==s.return)n=o,s=u;else{for(var p=!1,v=o.child;v;){if(v===n){p=!0,n=o,s=u;break}if(v===s){p=!0,s=o,n=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===n){p=!0,n=u,s=o;break}if(v===s){p=!0,s=u,n=o;break}v=v.sibling}if(!p)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case K:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case U:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:De(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return De(e(t))}catch{}}return null}var We=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ee=[],ue=-1;function A(e){return{current:e}}function H(e){0>ue||(e.current=ee[ue],ee[ue]=null,ue--)}function P(e,t){ue++,ee[ue]=e.current,e.current=t}var Q=A(null),re=A(null),ce=A(null),ye=A(null);function et(e,t){switch(P(ce,t),P(re,e),P(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=om(t),e=um(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Q),P(Q,e)}function Ee(){H(Q),H(re),H(ce)}function tn(e){e.memoizedState!==null&&P(ye,e);var t=Q.current,n=um(t,e.type);t!==n&&(P(re,e),P(Q,n))}function Na(e){re.current===e&&(H(Q),H(re)),ye.current===e&&(H(ye),gi._currentValue=F)}var _l,Bc;function ra(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||"",Bc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_l+e+Bc}var Sl=!1;function El(e,t){if(!e||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(z){var D=z}Reflect.construct(e,[],G)}else{try{G.call()}catch(z){D=z}e.call(G.prototype)}}else{try{throw Error()}catch(z){D=z}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(z){if(z&&D&&typeof z.stack=="string")return[z.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),p=u[0],v=u[1];if(p&&v){var _=p.split(`
`),k=v.split(`
`);for(o=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(s===_.length||o===k.length)for(s=_.length-1,o=k.length-1;1<=s&&0<=o&&_[s]!==k[o];)o--;for(;1<=s&&0<=o;s--,o--)if(_[s]!==k[o]){if(s!==1||o!==1)do if(s--,o--,0>o||_[s]!==k[o]){var L=`
`+_[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=o);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ra(n):""}function Tg(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return El(e.type,!1);case 11:return El(e.type.render,!1);case 1:return El(e.type,!0);case 31:return ra("Activity");default:return""}}function Lc(e){try{var t="",n=null;do t+=Tg(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Tl=Object.prototype.hasOwnProperty,Al=r.unstable_scheduleCallback,jl=r.unstable_cancelCallback,Ag=r.unstable_shouldYield,jg=r.unstable_requestPaint,xt=r.unstable_now,Og=r.unstable_getCurrentPriorityLevel,qc=r.unstable_ImmediatePriority,$c=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Rg=r.unstable_LowPriority,Hc=r.unstable_IdlePriority,Ng=r.log,Cg=r.unstable_setDisableYieldValue,Or=null,wt=null;function Cn(e){if(typeof Ng=="function"&&Cg(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Or,e)}catch{}}var _t=Math.clz32?Math.clz32:Dg,kg=Math.log,Ug=Math.LN2;function Dg(e){return e>>>=0,e===0?32:31-(kg(e)/Ug|0)|0}var Hi=256,Gi=262144,Vi=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=ia(s):(p&=v,p!==0?o=ia(p):n||(n=v&~e,n!==0&&(o=ia(n))))):(v=s&~u,v!==0?o=ia(v):p!==0?o=ia(p):n||(n=s&~e,n!==0&&(o=ia(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Rr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var e=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),e}function Ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zg(e,t,n,s,o,u){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,k=e.hiddenUpdates;for(n=p&~n;0<n;){var L=31-_t(n),G=1<<L;v[L]=0,_[L]=-1;var D=k[L];if(D!==null)for(k[L]=null,L=0;L<D.length;L++){var z=D[L];z!==null&&(z.lane&=-536870913)}n&=~G}s!==0&&Vc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function Vc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-_t(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function Fc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_t(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function Ic(e,t){var n=t&-t;return n=(n&42)!==0?1:Rl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Rl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:km(e.type))}function Yc(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var kn=Math.random().toString(36).slice(2),at="__reactFiber$"+kn,ft="__reactProps$"+kn,Ca="__reactContainer$"+kn,Cl="__reactEvents$"+kn,Bg="__reactListeners$"+kn,Lg="__reactHandles$"+kn,Pc="__reactResources$"+kn,Cr="__reactMarker$"+kn;function kl(e){delete e[at],delete e[ft],delete e[Cl],delete e[Bg],delete e[Lg]}function ka(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ca]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gm(e);e!==null;){if(n=e[at])return n;e=gm(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){if(e=e[at]||e[Ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Da(e){var t=e[Pc];return t||(t=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Cr]=!0}var Jc=new Set,Xc={};function sa(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(Xc[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var qg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Zc={};function $g(e){return Tl.call(Zc,e)?!0:Tl.call(Qc,e)?!1:qg.test(e)?Zc[e]=!0:(Qc[e]=!0,!1)}function Ii(e,t,n){if($g(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ki(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function on(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hg(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){n=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ul(e){if(!e._valueTracker){var t=Wc(e)?"checked":"value";e._valueTracker=Hg(e,t,""+e[t])}}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Wc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gg=/[\n"\\]/g;function Bt(e){return e.replace(Gg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dl(e,t,n,s,o,u,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Ml(e,p,zt(t)):n!=null?Ml(e,p,zt(n)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+zt(v):e.removeAttribute("name")}function td(e,t,n,s,o,u,p,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ul(e);return}n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ul(e)}function Ml(e,t,n){t==="number"&&Yi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function nd(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function ad(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(We(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Ul(e)}function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Vg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function id(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&rd(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&rd(e,u,t[u])}function zl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(e){return Ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var Bl=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,qa=null;function sd(e){var t=Ua(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[ft]||null;if(!o)throw Error(l(90));Dl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&ed(s)}break e;case"textarea":nd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var ql=!1;function ld(e,t,n){if(ql)return e(t,n);ql=!0;try{var s=e(t);return s}finally{if(ql=!1,(La!==null||qa!==null)&&(Ms(),La&&(t=La,e=qa,qa=La=null,sd(t),e)))for(t=0;t<e.length;t++)sd(e[t])}}function Ur(e,t){var n=e.stateNode;if(n===null)return null;var s=n[ft]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(cn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{$l=!1}var Un=null,Hl=null,Ji=null;function od(){if(Ji)return Ji;var e,t=Hl,n=t.length,s,o="value"in Un?Un.value:Un.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var p=n-e;for(s=1;s<=p&&t[n-s]===o[u-s];s++);return Ji=o.slice(e,1<s?1-s:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function ud(){return!1}function mt(e){function t(n,s,o,u,p){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Qi:ud,this.isPropagationStopped=ud,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=mt(la),Mr=x({},la,{view:0,detail:0}),Kg=mt(Mr),Gl,Vl,zr,Wi=x({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zr&&(zr&&e.type==="mousemove"?(Gl=e.screenX-zr.screenX,Vl=e.screenY-zr.screenY):Vl=Gl=0,zr=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),cd=mt(Wi),Yg=x({},Wi,{dataTransfer:0}),Pg=mt(Yg),Jg=x({},Mr,{relatedTarget:0}),Fl=mt(Jg),Xg=x({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=mt(Xg),Zg=x({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wg=mt(Zg),e0=x({},la,{data:0}),dd=mt(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a0[e])?!!t[e]:!1}function Il(){return r0}var i0=x({},Mr,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=mt(i0),l0=x({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=mt(l0),o0=x({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),u0=mt(o0),c0=x({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=mt(c0),h0=x({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=mt(h0),m0=x({},la,{newState:0,oldState:0}),p0=mt(m0),g0=[9,13,27,32],Kl=cn&&"CompositionEvent"in window,Br=null;cn&&"documentMode"in document&&(Br=document.documentMode);var y0=cn&&"TextEvent"in window&&!Br,fd=cn&&(!Kl||Br&&8<Br&&11>=Br),md=" ",pd=!1;function gd(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function v0(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(pd=!0,md);case"textInput":return e=t.data,e===md&&pd?null:e;default:return null}}function b0(e,t){if($a)return e==="compositionend"||!Kl&&gd(e,t)?(e=od(),Ji=Hl=Un=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x0[e.type]:t==="textarea"}function bd(e,t,n,s){La?qa?qa.push(s):qa=[s]:La=s,t=Gs(t,"onChange"),0<t.length&&(n=new Zi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Lr=null,qr=null;function w0(e){nm(e,0)}function es(e){var t=kr(e);if(ed(t))return e}function xd(e,t){if(e==="change")return t}var wd=!1;if(cn){var Yl;if(cn){var Pl="oninput"in document;if(!Pl){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Pl=typeof _d.oninput=="function"}Yl=Pl}else Yl=!1;wd=Yl&&(!document.documentMode||9<document.documentMode)}function Sd(){Lr&&(Lr.detachEvent("onpropertychange",Ed),qr=Lr=null)}function Ed(e){if(e.propertyName==="value"&&es(qr)){var t=[];bd(t,qr,e,Ll(e)),ld(w0,t)}}function _0(e,t,n){e==="focusin"?(Sd(),Lr=t,qr=n,Lr.attachEvent("onpropertychange",Ed)):e==="focusout"&&Sd()}function S0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return es(qr)}function E0(e,t){if(e==="click")return es(t)}function T0(e,t){if(e==="input"||e==="change")return es(t)}function A0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:A0;function $r(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Tl.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,t){var n=Td(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Td(n)}}function jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yi(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j0=cn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Xl=null,Hr=null,Ql=!1;function Rd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||Ha==null||Ha!==Yi(s)||(s=Ha,"selectionStart"in s&&Jl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hr&&$r(Hr,s)||(Hr=s,s=Gs(Xl,"onSelect"),0<s.length&&(t=new Zi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ha)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ga={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Zl={},Nd={};cn&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ua(e){if(Zl[e])return Zl[e];if(!Ga[e])return e;var t=Ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nd)return Zl[e]=t[n];return e}var Cd=ua("animationend"),kd=ua("animationiteration"),Ud=ua("animationstart"),O0=ua("transitionrun"),R0=ua("transitionstart"),N0=ua("transitioncancel"),Dd=ua("transitionend"),Md=new Map,Wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wl.push("scrollEnd");function Pt(e,t){Md.set(e,t),sa(t,[e])}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Va=0,eo=0;function ns(){for(var e=Va,t=eo=Va=0;t<e;){var n=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var u=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var p=s.pending;p===null?o.next=o:(o.next=p.next,p.next=o),s.pending=o}u!==0&&zd(n,o,u)}}function as(e,t,n,s){Lt[Va++]=e,Lt[Va++]=t,Lt[Va++]=n,Lt[Va++]=s,eo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function to(e,t,n,s){return as(e,t,n,s),rs(e)}function ca(e,t){return as(e,null,null,t),rs(e)}function zd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-_t(n),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),u):null}function rs(e){if(50<ui)throw ui=0,du=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fa={};function C0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,s){return new C0(e,t,n,s)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function is(e,t,n,s,o,u){var p=0;if(s=e,typeof e=="function")no(e)&&(p=1);else if(typeof e=="string")p=zy(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Et(31,n,t,o),e.elementType=W,e.lanes=u,e;case R:return da(n.children,o,u,t);case N:p=8,o|=24;break;case M:return e=Et(12,n,t,o|2),e.elementType=M,e.lanes=u,e;case Y:return e=Et(13,n,t,o),e.elementType=Y,e.lanes=u,e;case K:return e=Et(19,n,t,o),e.elementType=K,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:p=10;break e;case V:p=9;break e;case $:p=11;break e;case X:p=14;break e;case oe:p=16,s=null;break e}p=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Et(p,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function da(e,t,n,s){return e=Et(7,e,s,t),e.lanes=n,e}function ao(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Ld(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function ro(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var n=qd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lc(t)},qd.set(e,t),t)}return{value:e,source:t,stack:Lc(t)}}var Ia=[],Ka=0,ss=null,Gr=0,$t=[],Ht=0,Dn=null,nn=1,an="";function hn(e,t){Ia[Ka++]=Gr,Ia[Ka++]=ss,ss=e,Gr=t}function $d(e,t,n){$t[Ht++]=nn,$t[Ht++]=an,$t[Ht++]=Dn,Dn=e;var s=nn;e=an;var o=32-_t(s)-1;s&=~(1<<o),n+=1;var u=32-_t(t)+o;if(30<u){var p=o-o%5;u=(s&(1<<p)-1).toString(32),s>>=p,o-=p,nn=1<<32-_t(t)+o|n<<o|s,an=u+e}else nn=1<<u|n<<o|s,an=e}function io(e){e.return!==null&&(hn(e,1),$d(e,1,0))}function so(e){for(;e===ss;)ss=Ia[--Ka],Ia[Ka]=null,Gr=Ia[--Ka],Ia[Ka]=null;for(;e===Dn;)Dn=$t[--Ht],$t[Ht]=null,an=$t[--Ht],$t[Ht]=null,nn=$t[--Ht],$t[Ht]=null}function Hd(e,t){$t[Ht++]=nn,$t[Ht++]=an,$t[Ht++]=Dn,nn=t.id,an=t.overflow,Dn=e}var rt=null,Me=null,xe=!1,Mn=null,Gt=!1,lo=Error(l(519));function zn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vr(qt(t,e)),lo}function Gd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[at]=e,t[ft]=s,n){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(n=0;n<di.length;n++)ge(di[n],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),td(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),ad(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||sm(t.textContent,n)?(s.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),s.onScroll!=null&&ge("scroll",t),s.onScrollEnd!=null&&ge("scrollend",t),s.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||zn(e,!0)}function Vd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:rt=rt.return}}function Ya(e){if(e!==rt)return!1;if(!xe)return Vd(e),xe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Au(e.type,e.memoizedProps)),n=!n),n&&Me&&zn(e),Vd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=pm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=pm(e)}else t===27?(t=Me,Xn(e.type)?(e=Cu,Cu=null,Me=e):Me=t):Me=rt?Ft(e.stateNode.nextSibling):null;return!0}function ha(){Me=rt=null,xe=!1}function oo(){var e=Mn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Mn=null),e}function Vr(e){Mn===null?Mn=[e]:Mn.push(e)}var uo=A(null),fa=null,fn=null;function Bn(e,t,n){P(uo,t._currentValue),t._currentValue=n}function mn(e){e._currentValue=uo.current,H(uo)}function co(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ho(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var p=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var _=0;_<t.length;_++)if(v.context===t[_]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),co(u.return,n,e),s||(p=null);break e}u=v.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(l(341));p.lanes|=n,u=p.alternate,u!==null&&(u.lanes|=n),co(p,n,e),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===e){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function Pa(e,t,n,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var v=o.type;St(o.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(o===ye.current){if(p=o.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(gi):e=[gi])}o=o.return}e!==null&&ho(t,e,n,s),t.flags|=262144}function ls(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){fa=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Fd(fa,e)}function os(e,t){return fa===null&&ma(e),Fd(e,t)}function Fd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fn===null){if(e===null)throw Error(l(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return n}var k0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},U0=r.unstable_scheduleCallback,D0=r.unstable_NormalPriority,Ie={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new k0,data:new Map,refCount:0}}function Fr(e){e.refCount--,e.refCount===0&&U0(D0,function(){e.controller.abort()})}var Ir=null,mo=0,Ja=0,Xa=null;function M0(e,t){if(Ir===null){var n=Ir=[];mo=0,Ja=yu(),Xa={status:"pending",value:void 0,then:function(s){n.push(s)}}}return mo++,t.then(Id,Id),t}function Id(){if(--mo===0&&Ir!==null){Xa!==null&&(Xa.status="fulfilled");var e=Ir;Ir=null,Ja=0,Xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function z0(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var Kd=B.S;B.S=function(e,t){Nf=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&M0(e,t),Kd!==null&&Kd(e,t)};var pa=A(null);function po(){var e=pa.current;return e!==null?e:ke.pooledCache}function us(e,t){t===null?P(pa,pa.current):P(pa,t.pool)}function Yd(){var e=po();return e===null?null:{parent:Ie._currentValue,pool:e}}var Qa=Error(l(460)),go=Error(l(474)),cs=Error(l(542)),ds={then:function(){}};function Pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e}throw ya=t,Qa}}function ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ya=n,Qa):n}}var ya=null;function Xd(){if(ya===null)throw Error(l(459));var e=ya;return ya=null,e}function Qd(e){if(e===Qa||e===cs)throw Error(l(483))}var Za=null,Kr=0;function hs(e){var t=Kr;return Kr+=1,Za===null&&(Za=[]),Jd(Za,e,t)}function Yr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fs(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zd(e){function t(O,j){if(e){var C=O.deletions;C===null?(O.deletions=[j],O.flags|=16):C.push(j)}}function n(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function s(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function o(O,j){return O=dn(O,j),O.index=0,O.sibling=null,O}function u(O,j,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<j?(O.flags|=67108866,j):C):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,j,C,q){return j===null||j.tag!==6?(j=ao(C,O.mode,q),j.return=O,j):(j=o(j,C),j.return=O,j)}function _(O,j,C,q){var ae=C.type;return ae===R?L(O,j,C.props.children,q,C.key):j!==null&&(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===oe&&ga(ae)===j.type)?(j=o(j,C.props),Yr(j,C),j.return=O,j):(j=is(C.type,C.key,C.props,null,O.mode,q),Yr(j,C),j.return=O,j)}function k(O,j,C,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation?(j=ro(C,O.mode,q),j.return=O,j):(j=o(j,C.children||[]),j.return=O,j)}function L(O,j,C,q,ae){return j===null||j.tag!==7?(j=da(C,O.mode,q,ae),j.return=O,j):(j=o(j,C),j.return=O,j)}function G(O,j,C){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ao(""+j,O.mode,C),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return C=is(j.type,j.key,j.props,null,O.mode,C),Yr(C,j),C.return=O,C;case E:return j=ro(j,O.mode,C),j.return=O,j;case oe:return j=ga(j),G(O,j,C)}if(We(j)||Oe(j))return j=da(j,O.mode,C,null),j.return=O,j;if(typeof j.then=="function")return G(O,hs(j),C);if(j.$$typeof===U)return G(O,os(O,j),C);fs(O,j)}return null}function D(O,j,C,q){var ae=j!==null?j.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:v(O,j,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return C.key===ae?_(O,j,C,q):null;case E:return C.key===ae?k(O,j,C,q):null;case oe:return C=ga(C),D(O,j,C,q)}if(We(C)||Oe(C))return ae!==null?null:L(O,j,C,q,null);if(typeof C.then=="function")return D(O,j,hs(C),q);if(C.$$typeof===U)return D(O,j,os(O,C),q);fs(O,C)}return null}function z(O,j,C,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return O=O.get(C)||null,v(j,O,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return O=O.get(q.key===null?C:q.key)||null,_(j,O,q,ae);case E:return O=O.get(q.key===null?C:q.key)||null,k(j,O,q,ae);case oe:return q=ga(q),z(O,j,C,q,ae)}if(We(q)||Oe(q))return O=O.get(C)||null,L(j,O,q,ae,null);if(typeof q.then=="function")return z(O,j,C,hs(q),ae);if(q.$$typeof===U)return z(O,j,C,os(j,q),ae);fs(j,q)}return null}function Z(O,j,C,q){for(var ae=null,we=null,te=j,me=j=0,be=null;te!==null&&me<C.length;me++){te.index>me?(be=te,te=null):be=te.sibling;var _e=D(O,te,C[me],q);if(_e===null){te===null&&(te=be);break}e&&te&&_e.alternate===null&&t(O,te),j=u(_e,j,me),we===null?ae=_e:we.sibling=_e,we=_e,te=be}if(me===C.length)return n(O,te),xe&&hn(O,me),ae;if(te===null){for(;me<C.length;me++)te=G(O,C[me],q),te!==null&&(j=u(te,j,me),we===null?ae=te:we.sibling=te,we=te);return xe&&hn(O,me),ae}for(te=s(te);me<C.length;me++)be=z(te,O,me,C[me],q),be!==null&&(e&&be.alternate!==null&&te.delete(be.key===null?me:be.key),j=u(be,j,me),we===null?ae=be:we.sibling=be,we=be);return e&&te.forEach(function(ta){return t(O,ta)}),xe&&hn(O,me),ae}function ie(O,j,C,q){if(C==null)throw Error(l(151));for(var ae=null,we=null,te=j,me=j=0,be=null,_e=C.next();te!==null&&!_e.done;me++,_e=C.next()){te.index>me?(be=te,te=null):be=te.sibling;var ta=D(O,te,_e.value,q);if(ta===null){te===null&&(te=be);break}e&&te&&ta.alternate===null&&t(O,te),j=u(ta,j,me),we===null?ae=ta:we.sibling=ta,we=ta,te=be}if(_e.done)return n(O,te),xe&&hn(O,me),ae;if(te===null){for(;!_e.done;me++,_e=C.next())_e=G(O,_e.value,q),_e!==null&&(j=u(_e,j,me),we===null?ae=_e:we.sibling=_e,we=_e);return xe&&hn(O,me),ae}for(te=s(te);!_e.done;me++,_e=C.next())_e=z(te,O,me,_e.value,q),_e!==null&&(e&&_e.alternate!==null&&te.delete(_e.key===null?me:_e.key),j=u(_e,j,me),we===null?ae=_e:we.sibling=_e,we=_e);return e&&te.forEach(function(Yy){return t(O,Yy)}),xe&&hn(O,me),ae}function Ce(O,j,C,q){if(typeof C=="object"&&C!==null&&C.type===R&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case S:e:{for(var ae=C.key;j!==null;){if(j.key===ae){if(ae=C.type,ae===R){if(j.tag===7){n(O,j.sibling),q=o(j,C.props.children),q.return=O,O=q;break e}}else if(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===oe&&ga(ae)===j.type){n(O,j.sibling),q=o(j,C.props),Yr(q,C),q.return=O,O=q;break e}n(O,j);break}else t(O,j);j=j.sibling}C.type===R?(q=da(C.props.children,O.mode,q,C.key),q.return=O,O=q):(q=is(C.type,C.key,C.props,null,O.mode,q),Yr(q,C),q.return=O,O=q)}return p(O);case E:e:{for(ae=C.key;j!==null;){if(j.key===ae)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){n(O,j.sibling),q=o(j,C.children||[]),q.return=O,O=q;break e}else{n(O,j);break}else t(O,j);j=j.sibling}q=ro(C,O.mode,q),q.return=O,O=q}return p(O);case oe:return C=ga(C),Ce(O,j,C,q)}if(We(C))return Z(O,j,C,q);if(Oe(C)){if(ae=Oe(C),typeof ae!="function")throw Error(l(150));return C=ae.call(C),ie(O,j,C,q)}if(typeof C.then=="function")return Ce(O,j,hs(C),q);if(C.$$typeof===U)return Ce(O,j,os(O,C),q);fs(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,j!==null&&j.tag===6?(n(O,j.sibling),q=o(j,C),q.return=O,O=q):(n(O,j),q=ao(C,O.mode,q),q.return=O,O=q),p(O)):n(O,j)}return function(O,j,C,q){try{Kr=0;var ae=Ce(O,j,C,q);return Za=null,ae}catch(te){if(te===Qa||te===cs)throw te;var we=Et(29,te,null,O.mode);return we.lanes=q,we.return=O,we}finally{}}}var va=Zd(!0),Wd=Zd(!1),Ln=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=rs(e),zd(e,null,n),t}return as(e,s,t,n),rs(e)}function Pr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fc(e,n)}}function bo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xo=!1;function Jr(){if(xo){var e=Xa;if(e!==null)throw e}}function Xr(e,t,n,s){xo=!1;var o=e.updateQueue;Ln=!1;var u=o.firstBaseUpdate,p=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var _=v,k=_.next;_.next=null,p===null?u=k:p.next=k,p=_;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==p&&(v===null?L.firstBaseUpdate=k:v.next=k,L.lastBaseUpdate=_))}if(u!==null){var G=o.baseState;p=0,L=k=_=null,v=u;do{var D=v.lane&-536870913,z=D!==v.lane;if(z?(ve&D)===D:(s&D)===D){D!==0&&D===Ja&&(xo=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Z=e,ie=v;D=t;var Ce=n;switch(ie.tag){case 1:if(Z=ie.payload,typeof Z=="function"){G=Z.call(Ce,G,D);break e}G=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ie.payload,D=typeof Z=="function"?Z.call(Ce,G,D):Z,D==null)break e;G=x({},G,D);break e;case 2:Ln=!0}}D=v.callback,D!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[D]:z.push(D))}else z={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(k=L=z,_=G):L=L.next=z,p|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;z=v,v=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);L===null&&(_=G),o.baseState=_,o.firstBaseUpdate=k,o.lastBaseUpdate=L,u===null&&(o.shared.lanes=0),In|=p,e.lanes=p,e.memoizedState=G}}function eh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function th(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eh(n[e],t)}var Wa=A(null),ms=A(0);function nh(e,t){e=Sn,P(ms,e),P(Wa,t),Sn=e|t.baseLanes}function wo(){P(ms,Sn),P(Wa,Wa.current)}function _o(){Sn=ms.current,H(Wa),H(ms)}var Tt=A(null),Vt=null;function Hn(e){var t=e.alternate;P(Ve,Ve.current&1),P(Tt,e),Vt===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(Vt=e)}function So(e){P(Ve,Ve.current),P(Tt,e),Vt===null&&(Vt=e)}function ah(e){e.tag===22?(P(Ve,Ve.current),P(Tt,e),Vt===null&&(Vt=e)):Gn()}function Gn(){P(Ve,Ve.current),P(Tt,Tt.current)}function At(e){H(Tt),Vt===e&&(Vt=null),H(Ve)}var Ve=A(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ru(n)||Nu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,fe=null,Re=null,Ke=null,gs=!1,er=!1,ba=!1,ys=0,Qr=0,tr=null,B0=0;function $e(){throw Error(l(321))}function Eo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function To(e,t,n,s,o,u){return pn=u,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?$h:$o,ba=!1,u=n(s,o),ba=!1,er&&(u=ih(t,n,s,o)),rh(e),u}function rh(e){B.H=ei;var t=Re!==null&&Re.next!==null;if(pn=0,Ke=Re=fe=null,gs=!1,Qr=0,tr=null,t)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&ls(e)&&(Ye=!0))}function ih(e,t,n,s){fe=e;var o=0;do{if(er&&(tr=null),Qr=0,er=!1,25<=o)throw Error(l(301));if(o+=1,Ke=Re=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}B.H=Hh,u=t(n,s)}while(er);return u}function L0(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Zr(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(fe.flags|=1024),t}function Ao(){var e=ys!==0;return ys=0,e}function jo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Oo(e){if(gs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gs=!1}pn=0,Ke=Re=fe=null,er=!1,Qr=ys=0,tr=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Fe(){if(Re===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ke===null?fe.memoizedState:Ke.next;if(t!==null)Ke=t,Re=e;else{if(e===null)throw fe.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function vs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(e){var t=Qr;return Qr+=1,tr===null&&(tr=[]),e=Jd(tr,e,t),t=fe,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?$h:$o),e}function bs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zr(e);if(e.$$typeof===U)return it(e)}throw Error(l(438,String(e)))}function Ro(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=fe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=vs(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=I;return t.index++,n}function gn(e,t){return typeof t=="function"?t(e):t}function xs(e){var t=Fe();return No(t,Re,e)}function No(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var p=o.next;o.next=u.next,u.next=p}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=p=null,_=null,k=t,L=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(ve&G)===G:(pn&G)===G){var D=k.revertLane;if(D===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===Ja&&(L=!0);else if((pn&D)===D){k=k.next,D===Ja&&(L=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(v=_=G,p=u):_=_.next=G,fe.lanes|=D,In|=D;G=k.action,ba&&n(u,G),u=k.hasEagerState?k.eagerState:n(u,G)}else D={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(v=_=D,p=u):_=_.next=D,fe.lanes|=G,In|=G;k=k.next}while(k!==null&&k!==t);if(_===null?p=u:_.next=v,!St(u,e.memoizedState)&&(Ye=!0,L&&(n=Xa,n!==null)))throw n;e.memoizedState=u,e.baseState=p,e.baseQueue=_,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Co(e){var t=Fe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var p=o=o.next;do u=e(u,p.action),p=p.next;while(p!==o);St(u,t.memoizedState)||(Ye=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function sh(e,t,n){var s=fe,o=Fe(),u=xe;if(u){if(n===void 0)throw Error(l(407));n=n()}else n=t();var p=!St((Re||o).memoizedState,n);if(p&&(o.memoizedState=n,Ye=!0),o=o.queue,Do(uh.bind(null,s,o,e),[e]),o.getSnapshot!==t||p||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,nr(9,{destroy:void 0},oh.bind(null,s,o,n,t),null),ke===null)throw Error(l(349));u||(pn&127)!==0||lh(s,t,n)}return n}function lh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=vs(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function oh(e,t,n,s){t.value=n,t.getSnapshot=s,ch(t)&&dh(e)}function uh(e,t,n){return n(function(){ch(t)&&dh(e)})}function ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function dh(e){var t=ca(e,2);t!==null&&bt(t,e,2)}function ko(e){var t=dt();if(typeof e=="function"){var n=e;if(e=n(),ba){Cn(!0);try{n()}finally{Cn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function hh(e,t,n,s){return e.baseState=n,No(e,Re,typeof s=="function"?s:gn)}function q0(e,t,n,s,o){if(Ss(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};B.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,fh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function fh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=B.T,p={};B.T=p;try{var v=n(o,s),_=B.S;_!==null&&_(p,v),mh(e,t,v)}catch(k){Uo(e,t,k)}finally{u!==null&&p.types!==null&&(u.types=p.types),B.T=u}}else try{u=n(o,s),mh(e,t,u)}catch(k){Uo(e,t,k)}}function mh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){ph(e,t,s)},function(s){return Uo(e,t,s)}):ph(e,t,n)}function ph(e,t,n){t.status="fulfilled",t.value=n,gh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,fh(e,n)))}function Uo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,gh(t),t=t.next;while(t!==s)}e.action=null}function gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function vh(e,t){if(xe){var n=ke.formState;if(n!==null){e:{var s=fe;if(xe){if(Me){t:{for(var o=Me,u=Gt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Me=Ft(o.nextSibling),s=o.data==="F!";break e}}zn(s)}s=!1}s&&(t=n[0])}}return n=dt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},n.queue=s,n=Bh.bind(null,fe,s),s.dispatch=n,s=ko(!1),u=qo.bind(null,fe,!1,s.queue),s=dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=q0.bind(null,fe,o,u,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function bh(e){var t=Fe();return xh(t,Re,e)}function xh(e,t,n){if(t=No(e,t,yh)[0],e=xs(gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Zr(t)}catch(p){throw p===Qa?cs:p}else s=t;t=Fe();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,nr(9,{destroy:void 0},$0.bind(null,o,n),null)),[s,u,e]}function $0(e,t){e.action=t}function wh(e){var t=Fe(),n=Re;if(n!==null)return xh(t,n,e);Fe(),t=t.memoizedState,n=Fe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function nr(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=fe.updateQueue,t===null&&(t=vs(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function _h(){return Fe().memoizedState}function ws(e,t,n,s){var o=dt();fe.flags|=e,o.memoizedState=nr(1|t,{destroy:void 0},n,s===void 0?null:s)}function _s(e,t,n,s){var o=Fe();s=s===void 0?null:s;var u=o.memoizedState.inst;Re!==null&&s!==null&&Eo(s,Re.memoizedState.deps)?o.memoizedState=nr(t,u,n,s):(fe.flags|=e,o.memoizedState=nr(1|t,u,n,s))}function Sh(e,t){ws(8390656,8,e,t)}function Do(e,t){_s(2048,8,e,t)}function H0(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=vs(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Eh(e){var t=Fe().memoizedState;return H0({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Th(e,t){return _s(4,2,e,t)}function Ah(e,t){return _s(4,4,e,t)}function jh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oh(e,t,n){n=n!=null?n.concat([e]):null,_s(4,4,jh.bind(null,t,e),n)}function Mo(){}function Rh(e,t){var n=Fe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Eo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Nh(e,t){var n=Fe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Eo(t,s[1]))return s[0];if(s=e(),ba){Cn(!0);try{e()}finally{Cn(!1)}}return n.memoizedState=[s,t],s}function zo(e,t,n){return n===void 0||(pn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=kf(),fe.lanes|=e,In|=e,n)}function Ch(e,t,n,s){return St(n,t)?n:Wa.current!==null?(e=zo(e,n,s),St(e,t)||(Ye=!0),e):(pn&42)===0||(pn&1073741824)!==0&&(ve&261930)===0?(Ye=!0,e.memoizedState=n):(e=kf(),fe.lanes|=e,In|=e,t)}function kh(e,t,n,s,o){var u=J.p;J.p=u!==0&&8>u?u:8;var p=B.T,v={};B.T=v,qo(e,!1,t,n);try{var _=o(),k=B.S;if(k!==null&&k(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=z0(_,s);Wr(e,t,L,Rt(e))}else Wr(e,t,s,Rt(e))}catch(G){Wr(e,t,{then:function(){},status:"rejected",reason:G},Rt())}finally{J.p=u,p!==null&&v.types!==null&&(p.types=v.types),B.T=p}}function G0(){}function Bo(e,t,n,s){if(e.tag!==5)throw Error(l(476));var o=Uh(e).queue;kh(e,o,t,F,n===null?G0:function(){return Dh(e),n(s)})}function Uh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:F},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dh(e){var t=Uh(e);t.next===null&&(t=e.alternate.memoizedState),Wr(e,t.next.queue,{},Rt())}function Lo(){return it(gi)}function Mh(){return Fe().memoizedState}function zh(){return Fe().memoizedState}function V0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=qn(n);var s=$n(t,e,n);s!==null&&(bt(s,t,n),Pr(s,t,n)),t={cache:fo()},e.payload=t;return}t=t.return}}function F0(e,t,n){var s=Rt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)?Lh(t,n):(n=to(e,t,n,s),n!==null&&(bt(n,e,s),qh(n,t,s)))}function Bh(e,t,n){var s=Rt();Wr(e,t,n,s)}function Wr(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))Lh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,n);if(o.hasEagerState=!0,o.eagerState=v,St(v,p))return as(e,t,o,0),ke===null&&ns(),!1}catch{}finally{}if(n=to(e,t,o,s),n!==null)return bt(n,e,s),qh(n,t,s),!0}return!1}function qo(e,t,n,s){if(s={lane:2,revertLane:yu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(l(479))}else t=to(e,n,s,2),t!==null&&bt(t,e,2)}function Ss(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Lh(e,t){er=gs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fc(e,n)}}var ei={readContext:it,use:bs,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};ei.useEffectEvent=$e;var $h={readContext:it,use:bs,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Sh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ws(4194308,4,jh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var n=dt();t=t===void 0?null:t;var s=e();if(ba){Cn(!0);try{e()}finally{Cn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=dt();if(n!==void 0){var o=n(t);if(ba){Cn(!0);try{n(t)}finally{Cn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=F0.bind(null,fe,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=ko(e);var t=e.queue,n=Bh.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Mo,useDeferredValue:function(e,t){var n=dt();return zo(n,e,t)},useTransition:function(){var e=ko(!1);return e=kh.bind(null,fe,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=fe,o=dt();if(xe){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),ke===null)throw Error(l(349));(ve&127)!==0||lh(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Sh(uh.bind(null,s,u,e),[e]),s.flags|=2048,nr(9,{destroy:void 0},oh.bind(null,s,u,n,t),null),n},useId:function(){var e=dt(),t=ke.identifierPrefix;if(xe){var n=an,s=nn;n=(s&~(1<<32-_t(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ys++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=B0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:vh,useActionState:vh,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qo.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ro,useCacheRefresh:function(){return dt().memoizedState=V0.bind(null,fe)},useEffectEvent:function(e){var t=dt(),n={impl:e};return t.memoizedState=n,function(){if((Se&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},$o={readContext:it,use:bs,useCallback:Rh,useContext:it,useEffect:Do,useImperativeHandle:Oh,useInsertionEffect:Th,useLayoutEffect:Ah,useMemo:Nh,useReducer:xs,useRef:_h,useState:function(){return xs(gn)},useDebugValue:Mo,useDeferredValue:function(e,t){var n=Fe();return Ch(n,Re.memoizedState,e,t)},useTransition:function(){var e=xs(gn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:sh,useId:Mh,useHostTransitionStatus:Lo,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var n=Fe();return hh(n,Re,e,t)},useMemoCache:Ro,useCacheRefresh:zh};$o.useEffectEvent=Eh;var Hh={readContext:it,use:bs,useCallback:Rh,useContext:it,useEffect:Do,useImperativeHandle:Oh,useInsertionEffect:Th,useLayoutEffect:Ah,useMemo:Nh,useReducer:Co,useRef:_h,useState:function(){return Co(gn)},useDebugValue:Mo,useDeferredValue:function(e,t){var n=Fe();return Re===null?zo(n,e,t):Ch(n,Re.memoizedState,e,t)},useTransition:function(){var e=Co(gn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:sh,useId:Mh,useHostTransitionStatus:Lo,useFormState:wh,useActionState:wh,useOptimistic:function(e,t){var n=Fe();return Re!==null?hh(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:zh};Hh.useEffectEvent=Eh;function Ho(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=qn(s);o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,s),t!==null&&(bt(t,e,s),Pr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Rt(),o=qn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,s),t!==null&&(bt(t,e,s),Pr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),s=qn(n);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,n),t!==null&&(bt(t,e,n),Pr(t,e,n))}};function Gh(e,t,n,s,o,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!$r(n,s)||!$r(o,u):!0}function Vh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Fh(e){ts(e)}function Ih(e){console.error(e)}function Kh(e){ts(e)}function Es(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Yh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Vo(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function Ph(e){return e=qn(e),e.tag=3,e}function Jh(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Yh(t,n,s)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Yh(t,n,s),typeof o!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function I0(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Pa(t,n,o,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Vt===null?zs():n.alternate===null&&He===0&&(He=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===ds?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),mu(e,s,o)),!1;case 22:return n.flags|=65536,s===ds?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),mu(e,s,o)),!1}throw Error(l(435,n.tag))}return mu(e,s,o),zs(),!1}if(xe)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==lo&&(e=Error(l(422),{cause:s}),Vr(qt(e,n)))):(s!==lo&&(t=Error(l(423),{cause:s}),Vr(qt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=qt(s,n),o=Vo(e.stateNode,s,o),bo(e,o),He!==4&&(He=2)),!1;var u=Error(l(520),{cause:s});if(u=qt(u,n),oi===null?oi=[u]:oi.push(u),He!==4&&(He=2),t===null)return!0;s=qt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Vo(n.stateNode,s,e),bo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Kn===null||!Kn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Ph(o),Jh(o,e,n,s),bo(n,o),!1}n=n.return}while(n!==null);return!1}var Fo=Error(l(461)),Ye=!1;function st(e,t,n,s){t.child=e===null?Wd(t,null,n,s):va(t,e.child,n,s)}function Xh(e,t,n,s,o){n=n.render;var u=t.ref;if("ref"in s){var p={};for(var v in s)v!=="ref"&&(p[v]=s[v])}else p=s;return ma(t),s=To(e,t,n,p,u,o),v=Ao(),e!==null&&!Ye?(jo(e,t,o),yn(e,t,o)):(xe&&v&&io(t),t.flags|=1,st(e,t,s,o),t.child)}function Qh(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!no(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Zh(e,t,u,s,o)):(e=is(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Zo(e,o)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(p,s)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=dn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if($r(u,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=u,Zo(e,o))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Io(e,t,n,s,o)}function Wh(e,t,n,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return ef(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&us(t,u!==null?u.cachePool:null),u!==null?nh(t,u):wo(),ah(t);else return s=t.lanes=536870912,ef(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(us(t,u.cachePool),nh(t,u),Gn(),t.memoizedState=null):(e!==null&&us(t,null),wo(),Gn());return st(e,t,o,n),t.child}function ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ef(e,t,n,s,o){var u=po();return u=u===null?null:{parent:Ie._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&us(t,null),wo(),ah(t),e!==null&&Pa(e,t,s,!0),t.childLanes=o,null}function Ts(e,t){return t=js({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function tf(e,t,n){return va(t,e.child,null,n),e=Ts(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function K0(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(s.mode==="hidden")return e=Ts(t,s),t.lanes=536870912,ti(null,e);if(So(t),(e=Me)?(e=mm(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},n=Ld(e),n.return=t,t.child=n,rt=t,Me=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return Ts(t,s)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(So(t),o)if(t.flags&256)t.flags&=-257,t=tf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ye||Pa(e,t,n,!1),o=(n&e.childLanes)!==0,Ye||o){if(s=ke,s!==null&&(p=Ic(s,n),p!==0&&p!==u.retryLane))throw u.retryLane=p,ca(e,p),bt(s,e,p),Fo;zs(),t=tf(e,t,n)}else e=u.treeContext,Me=Ft(p.nextSibling),rt=t,xe=!0,Mn=null,Gt=!1,e!==null&&Hd(t,e),t=Ts(t,s),t.flags|=4096;return t}return e=dn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function As(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Io(e,t,n,s,o){return ma(t),n=To(e,t,n,s,void 0,o),s=Ao(),e!==null&&!Ye?(jo(e,t,o),yn(e,t,o)):(xe&&s&&io(t),t.flags|=1,st(e,t,n,o),t.child)}function nf(e,t,n,s,o,u){return ma(t),t.updateQueue=null,n=ih(t,s,n,o),rh(e),s=Ao(),e!==null&&!Ye?(jo(e,t,u),yn(e,t,u)):(xe&&s&&io(t),t.flags|=1,st(e,t,n,u),t.child)}function af(e,t,n,s,o){if(ma(t),t.stateNode===null){var u=Fa,p=n.contextType;typeof p=="object"&&p!==null&&(u=it(p)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Go,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},yo(t),p=n.contextType,u.context=typeof p=="object"&&p!==null?it(p):Fa,u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ho(t,n,p,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&Go.enqueueReplaceState(u,u.state,null),Xr(t,s,u,o),Jr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,_=xa(n,v);u.props=_;var k=u.context,L=n.contextType;p=Fa,typeof L=="object"&&L!==null&&(p=it(L));var G=n.getDerivedStateFromProps;L=typeof G=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,L||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||k!==p)&&Vh(t,u,s,p),Ln=!1;var D=t.memoizedState;u.state=D,Xr(t,s,u,o),Jr(),k=t.memoizedState,v||D!==k||Ln?(typeof G=="function"&&(Ho(t,n,G,s),k=t.memoizedState),(_=Ln||Gh(t,n,_,s,D,k,p))?(L||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),u.props=s,u.state=k,u.context=p,s=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,vo(e,t),p=t.memoizedProps,L=xa(n,p),u.props=L,G=t.pendingProps,D=u.context,k=n.contextType,_=Fa,typeof k=="object"&&k!==null&&(_=it(k)),v=n.getDerivedStateFromProps,(k=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==G||D!==_)&&Vh(t,u,s,_),Ln=!1,D=t.memoizedState,u.state=D,Xr(t,s,u,o),Jr();var z=t.memoizedState;p!==G||D!==z||Ln||e!==null&&e.dependencies!==null&&ls(e.dependencies)?(typeof v=="function"&&(Ho(t,n,v,s),z=t.memoizedState),(L=Ln||Gh(t,n,L,s,D,z,_)||e!==null&&e.dependencies!==null&&ls(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=_,s=L):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,As(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=va(t,e.child,null,o),t.child=va(t,null,n,o)):st(e,t,n,o),t.memoizedState=u.state,e=t.child):e=yn(e,t,o),e}function rf(e,t,n,s){return ha(),t.flags|=256,st(e,t,n,s),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Yd()}}function Po(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ot),e}function sf(e,t,n){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),p&&(o=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(o?Hn(t):Gn(),(e=Me)?(e=mm(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},n=Ld(e),n.return=t,t.child=n,rt=t,Me=null)):e=null,e===null)throw zn(t);return Nu(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Gn(),o=t.mode,v=js({mode:"hidden",children:v},o),s=da(s,o,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Yo(n),s.childLanes=Po(e,p,n),t.memoizedState=Ko,ti(null,s)):(Hn(t),Jo(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(u)t.flags&256?(Hn(t),t.flags&=-257,t=Xo(e,t,n)):t.memoizedState!==null?(Gn(),t.child=e.child,t.flags|=128,t=null):(Gn(),v=s.fallback,o=t.mode,s=js({mode:"visible",children:s.children},o),v=da(v,o,n,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,va(t,e.child,null,n),s=t.child,s.memoizedState=Yo(n),s.childLanes=Po(e,p,n),t.memoizedState=Ko,t=ti(null,s));else if(Hn(t),Nu(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var k=p.dgst;p=k,s=Error(l(419)),s.stack="",s.digest=p,Vr({value:s,source:null,stack:null}),t=Xo(e,t,n)}else if(Ye||Pa(e,t,n,!1),p=(n&e.childLanes)!==0,Ye||p){if(p=ke,p!==null&&(s=Ic(p,n),s!==0&&s!==_.retryLane))throw _.retryLane=s,ca(e,s),bt(p,e,s),Fo;Ru(v)||zs(),t=Xo(e,t,n)}else Ru(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Me=Ft(v.nextSibling),rt=t,xe=!0,Mn=null,Gt=!1,e!==null&&Hd(t,e),t=Jo(t,s.children),t.flags|=4096);return t}return o?(Gn(),v=s.fallback,o=t.mode,_=e.child,k=_.sibling,s=dn(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,k!==null?v=dn(k,v):(v=da(v,o,n,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,ti(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Yo(n):(o=v.cachePool,o!==null?(_=Ie._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=Yd(),v={baseLanes:v.baseLanes|n,cachePool:o}),s.memoizedState=v,s.childLanes=Po(e,p,n),t.memoizedState=Ko,ti(e.child,s)):(Hn(t),n=e.child,e=n.sibling,n=dn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Jo(e,t){return t=js({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function js(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function Xo(e,t,n){return va(t,e.child,null,n),e=Jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lf(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),co(e.return,t,n)}function Qo(e,t,n,s,o,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=n,p.tailMode=o,p.treeForkCount=u)}function of(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var p=Ve.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,P(Ve,p),st(e,t,s,n),s=xe?Gr:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,n,t);else if(e.tag===19)lf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Qo(t,!1,o,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ps(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Qo(t,!0,n,null,u,s);break;case"together":Qo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Pa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ls(e)))}function Y0(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),Bn(t,Ie,e.memoizedState.cache),ha();break;case 27:case 5:tn(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,So(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Hn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?sf(e,t,n):(Hn(t),e=yn(e,t,n),e!==null?e.sibling:null);Hn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Pa(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return of(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,Wh(e,t,n,t.pendingProps);case 24:Bn(t,Ie,e.memoizedState.cache)}return yn(e,t,n)}function uf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!Zo(e,n)&&(t.flags&128)===0)return Ye=!1,Y0(e,t,n);Ye=(e.flags&131072)!==0}else Ye=!1,xe&&(t.flags&1048576)!==0&&$d(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ga(t.elementType),t.type=e,typeof e=="function")no(e)?(s=xa(e,s),t.tag=1,t=af(null,t,e,s,n)):(t.tag=0,t=Io(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===$){t.tag=11,t=Xh(null,t,e,s,n);break e}else if(o===X){t.tag=14,t=Qh(null,t,e,s,n);break e}}throw t=De(e)||e,Error(l(306,t,""))}}return t;case 0:return Io(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=xa(s,t.pendingProps),af(e,t,s,o,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,vo(e,t),Xr(t,s,null,n);var p=t.memoizedState;if(s=p.cache,Bn(t,Ie,s),s!==u.cache&&ho(t,[Ie],n,!0),Jr(),s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=rf(e,t,s,n);break e}else if(s!==o){o=qt(Error(l(424)),t),Vr(o),t=rf(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Ft(e.firstChild),rt=t,xe=!0,Mn=null,Gt=!0,n=Wd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ha(),s===o){t=yn(e,t,n);break e}st(e,t,s,n)}t=t.child}return t;case 26:return As(e,t),e===null?(n=xm(t.type,null,t.pendingProps,null))?t.memoizedState=n:xe||(n=t.type,e=t.pendingProps,s=Vs(ce.current).createElement(n),s[at]=t,s[ft]=e,lt(s,n,e),tt(s),t.stateNode=s):t.memoizedState=xm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tn(t),e===null&&xe&&(s=t.stateNode=ym(t.type,t.pendingProps,ce.current),rt=t,Gt=!0,o=Me,Xn(t.type)?(Cu=o,Me=Ft(s.firstChild)):Me=o),st(e,t,t.pendingProps.children,n),As(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((o=s=Me)&&(s=Sy(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,rt=t,Me=Ft(s.firstChild),Gt=!1,o=!0):o=!1),o||zn(t)),tn(t),o=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,s=u.children,Au(o,u)?s=null:p!==null&&Au(o,p)&&(t.flags|=32),t.memoizedState!==null&&(o=To(e,t,L0,null,null,n),gi._currentValue=o),As(e,t),st(e,t,s,n),t.child;case 6:return e===null&&xe&&((e=n=Me)&&(n=Ey(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,rt=t,Me=null,e=!0):e=!1),e||zn(t)),null;case 13:return sf(e,t,n);case 4:return et(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=va(t,null,s,n):st(e,t,s,n),t.child;case 11:return Xh(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Bn(t,t.type,s.value),st(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ma(t),o=it(o),s=s(o),t.flags|=1,st(e,t,s,n),t.child;case 14:return Qh(e,t,t.type,t.pendingProps,n);case 15:return Zh(e,t,t.type,t.pendingProps,n);case 19:return of(e,t,n);case 31:return K0(e,t,n);case 22:return Wh(e,t,n,t.pendingProps);case 24:return ma(t),s=it(Ie),e===null?(o=po(),o===null&&(o=ke,u=fo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:s,cache:o},yo(t),Bn(t,Ie,o)):((e.lanes&n)!==0&&(vo(e,t),Xr(t,null,null,n),Jr()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Bn(t,Ie,s)):(s=u.cache,Bn(t,Ie,s),s!==o.cache&&ho(t,[Ie],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function vn(e){e.flags|=4}function Wo(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw ya=ds,go}else e.flags&=-16777217}function cf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tm(t))if(zf())e.flags|=8192;else throw ya=ds,go}function Os(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gc():536870912,e.lanes|=t,sr|=t)}function ni(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function P0(e,t,n){var s=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),mn(Ie),Ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,oo())),ze(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(vn(t),u!==null?(ze(t),cf(t,u)):(ze(t),Wo(t,o,null,s,n))):u?u!==e.memoizedState?(vn(t),ze(t),cf(t,u)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&vn(t),ze(t),Wo(t,o,e,s,n)),null;case 27:if(Na(t),n=ce.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=Q.current,Ya(t)?Gd(t):(e=ym(o,s,n),t.stateNode=e,vn(t))}return ze(t),null;case 5:if(Na(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(u=Q.current,Ya(t))Gd(t);else{var p=Vs(ce.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?p.createElement(o,{is:s.is}):p.createElement(o)}}u[at]=t,u[ft]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(lt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vn(t)}}return ze(t),Wo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&vn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ce.current,Ya(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=rt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||sm(e.nodeValue,n)),e||zn(t,!0)}else e=Vs(e).createTextNode(s),e[at]=t,t.stateNode=e}return ze(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ya(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[at]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else n=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(l(558))}return ze(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ya(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[at]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else o=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Os(t,t.updateQueue),ze(t),null);case 4:return Ee(),e===null&&wu(t.stateNode.containerInfo),ze(t),null;case 10:return mn(t.type),ze(t),null;case 19:if(H(Ve),s=t.memoizedState,s===null)return ze(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)ni(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ps(e),u!==null){for(t.flags|=128,ni(s,!1),e=u.updateQueue,t.updateQueue=e,Os(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Bd(n,e),n=n.sibling;return P(Ve,Ve.current&1|2),xe&&hn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&xt()>Us&&(t.flags|=128,o=!0,ni(s,!1),t.lanes=4194304)}else{if(!o)if(e=ps(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Os(t,e),ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!xe)return ze(t),null}else 2*xt()-s.renderingStartTime>Us&&n!==536870912&&(t.flags|=128,o=!0,ni(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,n=Ve.current,P(Ve,o?n&1|2:n&1),xe&&hn(t,s.treeForkCount),e):(ze(t),null);case 22:case 23:return At(t),_o(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),n=t.updateQueue,n!==null&&Os(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&H(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),mn(Ie),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function J0(e,t){switch(so(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mn(Ie),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Na(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(l(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Ve),null;case 4:return Ee(),null;case 10:return mn(t.type),null;case 22:case 23:return At(t),_o(),e!==null&&H(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return mn(Ie),null;case 25:return null;default:return null}}function df(e,t){switch(so(t),t.tag){case 3:mn(Ie),Ee();break;case 26:case 27:case 5:Na(t);break;case 4:Ee();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:H(Ve);break;case 10:mn(t.type);break;case 22:case 23:At(t),_o(),e!==null&&H(pa);break;case 24:mn(Ie)}}function ai(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var u=n.create,p=n.inst;s=u(),p.destroy=s}n=n.next}while(n!==o)}}catch(v){Ae(t,t.return,v)}}function Vn(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var p=s.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,o=t;var _=n,k=v;try{k()}catch(L){Ae(o,_,L)}}}s=s.next}while(s!==u)}}catch(L){Ae(t,t.return,L)}}function hf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{th(t,n)}catch(s){Ae(e,e.return,s)}}}function ff(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ae(e,t,s)}}function ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){Ae(e,t,o)}}function rn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function mf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){Ae(e,e.return,o)}}function eu(e,t,n){try{var s=e.stateNode;yy(s,e.type,n,t),s[ft]=t}catch(o){Ae(e,e.return,o)}}function pf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(s!==4&&(s===27&&Xn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(nu(e,t,n),e=e.sibling;e!==null;)nu(e,t,n),e=e.sibling}function Rs(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Xn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Rs(e,t,n),e=e.sibling;e!==null;)Rs(e,t,n),e=e.sibling}function gf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,s,n),t[at]=e,t[ft]=n}catch(u){Ae(e,e.return,u)}}var bn=!1,Pe=!1,au=!1,yf=typeof WeakSet=="function"?WeakSet:Set,nt=null;function X0(e,t){if(e=e.containerInfo,Eu=Xs,e=Od(e),Jl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,k=0,L=0,G=e,D=null;t:for(;;){for(var z;G!==n||o!==0&&G.nodeType!==3||(v=p+o),G!==u||s!==0&&G.nodeType!==3||(_=p+s),G.nodeType===3&&(p+=G.nodeValue.length),(z=G.firstChild)!==null;)D=G,G=z;for(;;){if(G===e)break t;if(D===n&&++k===o&&(v=p),D===u&&++L===s&&(_=p),(z=G.nextSibling)!==null)break;G=D,D=G.parentNode}G=z}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tu={focusedElem:e,selectionRange:n},Xs=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var Z=xa(n.type,o);e=s.getSnapshotBeforeUpdate(Z,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ae(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ou(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function vf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:wn(e,n),s&4&&ai(5,n);break;case 1:if(wn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Ae(n,n.return,p)}else{var o=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ae(n,n.return,p)}}s&64&&hf(n),s&512&&ri(n,n.return);break;case 3:if(wn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{th(e,t)}catch(p){Ae(n,n.return,p)}}break;case 27:t===null&&s&4&&gf(n);case 26:case 5:wn(e,n),t===null&&s&4&&mf(n),s&512&&ri(n,n.return);break;case 12:wn(e,n);break;case 31:wn(e,n),s&4&&wf(e,n);break;case 13:wn(e,n),s&4&&_f(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iy.bind(null,n),Ty(e,n))));break;case 22:if(s=n.memoizedState!==null||bn,!s){t=t!==null&&t.memoizedState!==null||Pe,o=bn;var u=Pe;bn=s,(Pe=t)&&!u?_n(e,n,(n.subtreeFlags&8772)!==0):wn(e,n),bn=o,Pe=u}break;case 30:break;default:wn(e,n)}}function bf(e){var t=e.alternate;t!==null&&(e.alternate=null,bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,pt=!1;function xn(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Or,n)}catch{}switch(n.tag){case 26:Pe||rn(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pe||rn(n,t);var s=Be,o=pt;Xn(n.type)&&(Be=n.stateNode,pt=!1),xn(e,t,n),fi(n.stateNode),Be=s,pt=o;break;case 5:Pe||rn(n,t);case 6:if(s=Be,o=pt,Be=null,xn(e,t,n),Be=s,pt=o,Be!==null)if(pt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(u){Ae(n,t,u)}else try{Be.removeChild(n.stateNode)}catch(u){Ae(n,t,u)}break;case 18:Be!==null&&(pt?(e=Be,hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mr(e)):hm(Be,n.stateNode));break;case 4:s=Be,o=pt,Be=n.stateNode.containerInfo,pt=!0,xn(e,t,n),Be=s,pt=o;break;case 0:case 11:case 14:case 15:Vn(2,n,t),Pe||Vn(4,n,t),xn(e,t,n);break;case 1:Pe||(rn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&ff(n,t,s)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:Pe=(s=Pe)||n.memoizedState!==null,xn(e,t,n),Pe=s;break;default:xn(e,t,n)}}function wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(n){Ae(t,t.return,n)}}}function _f(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(n){Ae(t,t.return,n)}}function Q0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yf),t;default:throw Error(l(435,e.tag))}}function Ns(e,t){var n=Q0(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=sy.bind(null,e,s);s.then(o,o)}})}function gt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Xn(v.type)){Be=v.stateNode,pt=!1;break e}break;case 5:Be=v.stateNode,pt=!1;break e;case 3:case 4:Be=v.stateNode.containerInfo,pt=!0;break e}v=v.return}if(Be===null)throw Error(l(160));xf(u,p,o),Be=null,pt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sf(t,e),t=t.sibling}var Jt=null;function Sf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),s&4&&(Vn(3,e,e.return),ai(3,e),Vn(5,e,e.return));break;case 1:gt(t,e),yt(e),s&512&&(Pe||n===null||rn(n,n.return)),s&64&&bn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=Jt;if(gt(t,e),yt(e),s&512&&(Pe||n===null||rn(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Cr]||u[at]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),lt(u,s,n),u[at]=e,tt(u),s=u;break e;case"link":var p=Sm("link","href",o).get(s+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(u=p[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}u=o.createElement(s),lt(u,s,n),o.head.appendChild(u);break;case"meta":if(p=Sm("meta","content",o).get(s+(n.content||""))){for(v=0;v<p.length;v++)if(u=p[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}u=o.createElement(s),lt(u,s,n),o.head.appendChild(u);break;default:throw Error(l(468,s))}u[at]=e,tt(u),s=u}e.stateNode=s}else Em(o,e.type,e.stateNode);else e.stateNode=_m(o,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?Em(o,e.type,e.stateNode):_m(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&eu(e,e.memoizedProps,n.memoizedProps)}break;case 27:gt(t,e),yt(e),s&512&&(Pe||n===null||rn(n,n.return)),n!==null&&s&4&&eu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gt(t,e),yt(e),s&512&&(Pe||n===null||rn(n,n.return)),e.flags&32){o=e.stateNode;try{Ba(o,"")}catch(Z){Ae(e,e.return,Z)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,eu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(au=!0);break;case 6:if(gt(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(Z){Ae(e,e.return,Z)}}break;case 3:if(Ks=null,o=Jt,Jt=Fs(t.containerInfo),gt(t,e),Jt=o,yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(Z){Ae(e,e.return,Z)}au&&(au=!1,Ef(e));break;case 4:s=Jt,Jt=Fs(e.stateNode.containerInfo),gt(t,e),yt(e),Jt=s;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ns(e,s)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ks=xt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ns(e,s)));break;case 22:o=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,k=bn,L=Pe;if(bn=k||o,Pe=L||_,gt(t,e),Pe=L,bn=k,yt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||_||bn||Pe||wa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,o)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var G=_.memoizedProps.style,D=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Z){Ae(_,_.return,Z)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(Z){Ae(_,_.return,Z)}}}else if(t.tag===18){if(n===null){_=t;try{var z=_.stateNode;o?fm(z,!0):fm(_.stateNode,!1)}catch(Z){Ae(_,_.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Ns(e,n))));break;case 19:gt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ns(e,s)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(pf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,u=tu(e);Rs(e,u,o);break;case 5:var p=n.stateNode;n.flags&32&&(Ba(p,""),n.flags&=-33);var v=tu(e);Rs(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,k=tu(e);nu(e,k,_);break;default:throw Error(l(161))}}catch(L){Ae(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ef(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ef(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vf(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),wa(t);break;case 1:rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ff(t,t.return,n),wa(t);break;case 27:fi(t.stateNode);case 26:case 5:rn(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function _n(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:_n(o,u,n),ai(4,u);break;case 1:if(_n(o,u,n),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){Ae(s,s.return,k)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)eh(_[o],v)}catch(k){Ae(s,s.return,k)}}n&&p&64&&hf(u),ri(u,u.return);break;case 27:gf(u);case 26:case 5:_n(o,u,n),n&&s===null&&p&4&&mf(u),ri(u,u.return);break;case 12:_n(o,u,n);break;case 31:_n(o,u,n),n&&p&4&&wf(o,u);break;case 13:_n(o,u,n),n&&p&4&&_f(o,u);break;case 22:u.memoizedState===null&&_n(o,u,n),ri(u,u.return);break;case 30:break;default:_n(o,u,n)}t=t.sibling}}function ru(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Fr(n))}function iu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fr(e))}function Xt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tf(e,t,n,s),t=t.sibling}function Tf(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,n,s),o&2048&&ai(9,t);break;case 1:Xt(e,t,n,s);break;case 3:Xt(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fr(e)));break;case 12:if(o&2048){Xt(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,v=u.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ae(t,t.return,_)}}else Xt(e,t,n,s);break;case 31:Xt(e,t,n,s);break;case 13:Xt(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?Xt(e,t,n,s):ii(e,t):u._visibility&2?Xt(e,t,n,s):(u._visibility|=2,ar(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ru(p,t);break;case 24:Xt(e,t,n,s),o&2048&&iu(t.alternate,t);break;default:Xt(e,t,n,s)}}function ar(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,v=n,_=s,k=p.flags;switch(p.tag){case 0:case 11:case 15:ar(u,p,v,_,o),ai(8,p);break;case 23:break;case 22:var L=p.stateNode;p.memoizedState!==null?L._visibility&2?ar(u,p,v,_,o):ii(u,p):(L._visibility|=2,ar(u,p,v,_,o)),o&&k&2048&&ru(p.alternate,p);break;case 24:ar(u,p,v,_,o),o&&k&2048&&iu(p.alternate,p);break;default:ar(u,p,v,_,o)}t=t.sibling}}function ii(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:ii(n,s),o&2048&&ru(s.alternate,s);break;case 24:ii(n,s),o&2048&&iu(s.alternate,s);break;default:ii(n,s)}t=t.sibling}}var si=8192;function rr(e,t,n){if(e.subtreeFlags&si)for(e=e.child;e!==null;)Af(e,t,n),e=e.sibling}function Af(e,t,n){switch(e.tag){case 26:rr(e,t,n),e.flags&si&&e.memoizedState!==null&&By(n,Jt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,n);break;case 3:case 4:var s=Jt;Jt=Fs(e.stateNode.containerInfo),rr(e,t,n),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=si,si=16777216,rr(e,t,n),si=s):rr(e,t,n));break;default:rr(e,t,n)}}function jf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Rf(s,e)}jf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Of(e),e=e.sibling}function Of(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cs(e)):li(e);break;default:li(e)}}function Cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];nt=s,Rf(s,e)}jf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),Cs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Cs(t));break;default:Cs(t)}e=e.sibling}}function Rf(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Fr(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,nt=s;else e:for(n=e;nt!==null;){s=nt;var o=s.sibling,u=s.return;if(bf(s),s===n){nt=null;break e}if(o!==null){o.return=u,nt=o;break e}nt=u}}}var Z0={getCacheForType:function(e){var t=it(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return it(Ie).controller.signal}},W0=typeof WeakMap=="function"?WeakMap:Map,Se=0,ke=null,pe=null,ve=0,Te=0,jt=null,Fn=!1,ir=!1,su=!1,Sn=0,He=0,In=0,_a=0,lu=0,Ot=0,sr=0,oi=null,vt=null,ou=!1,ks=0,Nf=0,Us=1/0,Ds=null,Kn=null,Qe=0,Yn=null,lr=null,En=0,uu=0,cu=null,Cf=null,ui=0,du=null;function Rt(){return(Se&2)!==0&&ve!==0?ve&-ve:B.T!==null?yu():Kc()}function kf(){if(Ot===0)if((ve&536870912)===0||xe){var e=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),Ot=e}else Ot=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Ot}function bt(e,t,n){(e===ke&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(or(e,0),Pn(e,ve,Ot,!1)),Nr(e,n),((Se&2)===0||e!==ke)&&(e===ke&&((Se&2)===0&&(_a|=n),He===4&&Pn(e,ve,Ot,!1)),sn(e))}function Uf(e,t,n){if((Se&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Rr(e,t),o=s?ny(e,t):fu(e,t,!0),u=s;do{if(o===0){ir&&!s&&Pn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!ey(n)){o=fu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;o=oi;var _=v.current.memoizedState.isDehydrated;if(_&&(or(v,p).flags|=256),p=fu(v,p,!1),p!==2){if(su&&!_){v.errorRecoveryDisabledLanes|=u,_a|=u,o=4;break e}u=vt,vt=o,u!==null&&(vt===null?vt=u:vt.push.apply(vt,u))}o=p}if(u=!1,o!==2)continue}}if(o===1){or(e,0),Pn(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Pn(s,t,Ot,!Fn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=ks+300-xt(),10<o)){if(Pn(s,t,Ot,!Fn),Fi(s,0,!0)!==0)break e;En=t,s.timeoutHandle=cm(Df.bind(null,s,n,vt,Ds,ou,t,Ot,_a,sr,Fn,u,"Throttled",-0,0),o);break e}Df(s,n,vt,Ds,ou,t,Ot,_a,sr,Fn,u,null,-0,0)}}break}while(!0);sn(e)}function Df(e,t,n,s,o,u,p,v,_,k,L,G,D,z){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Af(t,u,G);var Z=(u&62914560)===u?ks-xt():(u&4194048)===u?Nf-xt():0;if(Z=Ly(G,Z),Z!==null){En=u,e.cancelPendingCommit=Z(Gf.bind(null,e,t,u,n,s,o,p,v,_,L,G,null,D,z)),Pn(e,u,p,!k);return}}Gf(e,t,u,n,s,o,p,v,_)}function ey(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!St(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,n,s){t&=~lu,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-_t(o),p=1<<u;s[u]=-1,o&=~p}n!==0&&Vc(e,n,t)}function Ms(){return(Se&6)===0?(ci(0),!1):!0}function hu(){if(pe!==null){if(Te===0)var e=pe.return;else e=pe,fn=fa=null,Oo(e),Za=null,Kr=0,e=pe;for(;e!==null;)df(e.alternate,e),e=e.return;pe=null}}function or(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,xy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,hu(),ke=e,pe=n=dn(e.current,null),ve=t,Te=0,jt=null,Fn=!1,ir=Rr(e,t),su=!1,sr=Ot=lu=_a=In=He=0,vt=oi=null,ou=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-_t(s),u=1<<o;t|=e[o],s&=~u}return Sn=t,ns(),n}function Mf(e,t){fe=null,B.H=ei,t===Qa||t===cs?(t=Xd(),Te=3):t===go?(t=Xd(),Te=4):Te=t===Fo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,pe===null&&(He=1,Es(e,qt(t,e.current)))}function zf(){var e=Tt.current;return e===null?!0:(ve&4194048)===ve?Vt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Vt:!1}function Bf(){var e=B.H;return B.H=ei,e===null?ei:e}function Lf(){var e=B.A;return B.A=Z0,e}function zs(){He=4,Fn||(ve&4194048)!==ve&&Tt.current!==null||(ir=!0),(In&134217727)===0&&(_a&134217727)===0||ke===null||Pn(ke,ve,Ot,!1)}function fu(e,t,n){var s=Se;Se|=2;var o=Bf(),u=Lf();(ke!==e||ve!==t)&&(Ds=null,or(e,t)),t=!1;var p=He;e:do try{if(Te!==0&&pe!==null){var v=pe,_=jt;switch(Te){case 8:hu(),p=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var k=Te;if(Te=0,jt=null,ur(e,v,_,k),n&&ir){p=0;break e}break;default:k=Te,Te=0,jt=null,ur(e,v,_,k)}}ty(),p=He;break}catch(L){Mf(e,L)}while(!0);return t&&e.shellSuspendCounter++,fn=fa=null,Se=s,B.H=o,B.A=u,pe===null&&(ke=null,ve=0,ns()),p}function ty(){for(;pe!==null;)qf(pe)}function ny(e,t){var n=Se;Se|=2;var s=Bf(),o=Lf();ke!==e||ve!==t?(Ds=null,Us=xt()+500,or(e,t)):ir=Rr(e,t);e:do try{if(Te!==0&&pe!==null){t=pe;var u=jt;t:switch(Te){case 1:Te=0,jt=null,ur(e,t,u,1);break;case 2:case 9:if(Pd(u)){Te=0,jt=null,$f(t);break}t=function(){Te!==2&&Te!==9||ke!==e||(Te=7),sn(e)},u.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Pd(u)?(Te=0,jt=null,$f(t)):(Te=0,jt=null,ur(e,t,u,7));break;case 5:var p=null;switch(pe.tag){case 26:p=pe.memoizedState;case 5:case 27:var v=pe;if(p?Tm(p):v.stateNode.complete){Te=0,jt=null;var _=v.sibling;if(_!==null)pe=_;else{var k=v.return;k!==null?(pe=k,Bs(k)):pe=null}break t}}Te=0,jt=null,ur(e,t,u,5);break;case 6:Te=0,jt=null,ur(e,t,u,6);break;case 8:hu(),He=6;break e;default:throw Error(l(462))}}ay();break}catch(L){Mf(e,L)}while(!0);return fn=fa=null,B.H=s,B.A=o,Se=n,pe!==null?0:(ke=null,ve=0,ns(),He)}function ay(){for(;pe!==null&&!Ag();)qf(pe)}function qf(e){var t=uf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Bs(e):pe=t}function $f(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=nf(n,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=nf(n,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Oo(t);default:df(n,t),t=pe=Bd(t,Sn),t=uf(n,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Bs(e):pe=t}function ur(e,t,n,s){fn=fa=null,Oo(t),Za=null,Kr=0;var o=t.return;try{if(I0(e,o,t,n,ve)){He=1,Es(e,qt(n,e.current)),pe=null;return}}catch(u){if(o!==null)throw pe=o,u;He=1,Es(e,qt(n,e.current)),pe=null;return}t.flags&32768?(xe||s===1?e=!0:ir||(ve&536870912)!==0?e=!1:(Fn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Hf(t,e)):Bs(t)}function Bs(e){var t=e;do{if((t.flags&32768)!==0){Hf(t,Fn);return}e=t.return;var n=P0(t.alternate,t,Sn);if(n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);He===0&&(He=5)}function Hf(e,t){do{var n=J0(e.alternate,e);if(n!==null){n.flags&=32767,pe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=n}while(e!==null);He=6,pe=null}function Gf(e,t,n,s,o,u,p,v,_){e.cancelPendingCommit=null;do Ls();while(Qe!==0);if((Se&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=eo,zg(e,n,u,p,v,_),e===ke&&(pe=ke=null,ve=0),lr=t,Yn=e,En=n,uu=u,cu=o,Cf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ly($i,function(){return Yf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,o=J.p,J.p=2,p=Se,Se|=4;try{X0(e,t,n)}finally{Se=p,J.p=o,B.T=s}}Qe=1,Vf(),Ff(),If()}}function Vf(){if(Qe===1){Qe=0;var e=Yn,t=lr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var s=J.p;J.p=2;var o=Se;Se|=4;try{Sf(t,e);var u=Tu,p=Od(e.containerInfo),v=u.focusedElem,_=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&jd(v.ownerDocument.documentElement,v)){if(_!==null&&Jl(v)){var k=_.start,L=_.end;if(L===void 0&&(L=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(L,v.value.length);else{var G=v.ownerDocument||document,D=G&&G.defaultView||window;if(D.getSelection){var z=D.getSelection(),Z=v.textContent.length,ie=Math.min(_.start,Z),Ce=_.end===void 0?ie:Math.min(_.end,Z);!z.extend&&ie>Ce&&(p=Ce,Ce=ie,ie=p);var O=Ad(v,ie),j=Ad(v,Ce);if(O&&j&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==j.node||z.focusOffset!==j.offset)){var C=G.createRange();C.setStart(O.node,O.offset),z.removeAllRanges(),ie>Ce?(z.addRange(C),z.extend(j.node,j.offset)):(C.setEnd(j.node,j.offset),z.addRange(C))}}}}for(G=[],z=v;z=z.parentNode;)z.nodeType===1&&G.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var q=G[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Xs=!!Eu,Tu=Eu=null}finally{Se=o,J.p=s,B.T=n}}e.current=t,Qe=2}}function Ff(){if(Qe===2){Qe=0;var e=Yn,t=lr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var s=J.p;J.p=2;var o=Se;Se|=4;try{vf(e,t.alternate,t)}finally{Se=o,J.p=s,B.T=n}}Qe=3}}function If(){if(Qe===4||Qe===3){Qe=0,jg();var e=Yn,t=lr,n=En,s=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,lr=Yn=null,Kf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Kn=null),Nl(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Or,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=B.T,o=J.p,J.p=2,B.T=null;try{for(var u=e.onRecoverableError,p=0;p<s.length;p++){var v=s[p];u(v.value,{componentStack:v.stack})}}finally{B.T=t,J.p=o}}(En&3)!==0&&Ls(),sn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===du?ui++:(ui=0,du=e):ui=0,ci(0)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fr(t)))}function Ls(){return Vf(),Ff(),If(),Yf()}function Yf(){if(Qe!==5)return!1;var e=Yn,t=uu;uu=0;var n=Nl(En),s=B.T,o=J.p;try{J.p=32>n?32:n,B.T=null,n=cu,cu=null;var u=Yn,p=En;if(Qe=0,lr=Yn=null,En=0,(Se&6)!==0)throw Error(l(331));var v=Se;if(Se|=4,Of(u.current),Tf(u,u.current,p,n),Se=v,ci(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Or,u)}catch{}return!0}finally{J.p=o,B.T=s,Kf(e,t)}}function Pf(e,t,n){t=qt(n,t),t=Vo(e.stateNode,t,2),e=$n(e,t,2),e!==null&&(Nr(e,2),sn(e))}function Ae(e,t,n){if(e.tag===3)Pf(e,e,n);else for(;t!==null;){if(t.tag===3){Pf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=qt(n,e),n=Ph(2),s=$n(t,n,2),s!==null&&(Jh(n,s,t,e),Nr(s,2),sn(s));break}}t=t.return}}function mu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new W0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(su=!0,o.add(n),e=ry.bind(null,e,t,n),t.then(e,e))}function ry(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(ve&n)===n&&(He===4||He===3&&(ve&62914560)===ve&&300>xt()-ks?(Se&2)===0&&or(e,0):lu|=n,sr===ve&&(sr=0)),sn(e)}function Jf(e,t){t===0&&(t=Gc()),e=ca(e,t),e!==null&&(Nr(e,t),sn(e))}function iy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jf(e,n)}function sy(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Jf(e,n)}function ly(e,t){return Al(e,t)}var qs=null,cr=null,pu=!1,$s=!1,gu=!1,Jn=0;function sn(e){e!==cr&&e.next===null&&(cr===null?qs=cr=e:cr=cr.next=e),$s=!0,pu||(pu=!0,uy())}function ci(e,t){if(!gu&&$s){gu=!0;do for(var n=!1,s=qs;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var p=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-_t(42|e)+1)-1,u&=o&~(p&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Wf(s,u))}else u=ve,u=Fi(s,s===ke?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Rr(s,u)||(n=!0,Wf(s,u));s=s.next}while(n);gu=!1}}function oy(){Xf()}function Xf(){$s=pu=!1;var e=0;Jn!==0&&by()&&(e=Jn);for(var t=xt(),n=null,s=qs;s!==null;){var o=s.next,u=Qf(s,t);u===0?(s.next=null,n===null?qs=o:n.next=o,o===null&&(cr=n)):(n=s,(e!==0||(u&3)!==0)&&($s=!0)),s=o}Qe!==0&&Qe!==5||ci(e),Jn!==0&&(Jn=0)}function Qf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-_t(u),v=1<<p,_=o[p];_===-1?((v&n)===0||(v&s)!==0)&&(o[p]=Mg(v,t)):_<=t&&(e.expiredLanes|=v),u&=~v}if(t=ke,n=ve,n=Fi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&jl(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Rr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&jl(s),Nl(n)){case 2:case 8:n=$c;break;case 32:n=$i;break;case 268435456:n=Hc;break;default:n=$i}return s=Zf.bind(null,e),n=Al(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&jl(s),e.callbackPriority=2,e.callbackNode=null,2}function Zf(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ls()&&e.callbackNode!==n)return null;var s=ve;return s=Fi(e,e===ke?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Uf(e,s,t),Qf(e,xt()),e.callbackNode!=null&&e.callbackNode===n?Zf.bind(null,e):null)}function Wf(e,t){if(Ls())return null;Uf(e,t,!0)}function uy(){wy(function(){(Se&6)!==0?Al(qc,oy):Xf()})}function yu(){if(Jn===0){var e=Ja;e===0&&(e=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Jn=e}return Jn}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pi(""+e)}function tm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function cy(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var u=em((o[ft]||null).action),p=s.submitter;p&&(t=(t=p[ft]||null)?em(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var v=new Zi("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Jn!==0){var _=p?tm(o,p):new FormData(o);Bo(n,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(v.preventDefault(),_=p?tm(o,p):new FormData(o),Bo(n,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var vu=0;vu<Wl.length;vu++){var bu=Wl[vu],dy=bu.toLowerCase(),hy=bu[0].toUpperCase()+bu.slice(1);Pt(dy,"on"+hy)}Pt(Cd,"onAnimationEnd"),Pt(kd,"onAnimationIteration"),Pt(Ud,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(O0,"onTransitionRun"),Pt(R0,"onTransitionStart"),Pt(N0,"onTransitionCancel"),Pt(Dd,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function nm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],_=v.instance,k=v.currentTarget;if(v=v.listener,_!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch(L){ts(L)}o.currentTarget=null,u=_}else for(p=0;p<s.length;p++){if(v=s[p],_=v.instance,k=v.currentTarget,v=v.listener,_!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch(L){ts(L)}o.currentTarget=null,u=_}}}}function ge(e,t){var n=t[Cl];n===void 0&&(n=t[Cl]=new Set);var s=e+"__bubble";n.has(s)||(am(t,e,2,!1),n.add(s))}function xu(e,t,n){var s=0;t&&(s|=4),am(n,e,s,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[Hs]){e[Hs]=!0,Jc.forEach(function(n){n!=="selectionchange"&&(fy.has(n)||xu(n,!1,e),xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,xu("selectionchange",!1,t))}}function am(e,t,n,s){switch(km(t)){case 2:var o=Hy;break;case 8:o=Gy;break;default:o=zu}n=o.bind(null,t,n,e),o=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function _u(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===o)break;if(p===4)for(p=s.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;v!==null;){if(p=ka(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){s=u=p;continue e}v=v.parentNode}}s=s.return}ld(function(){var k=u,L=Ll(n),G=[];e:{var D=Md.get(e);if(D!==void 0){var z=Zi,Z=e;switch(e){case"keypress":if(Xi(n)===0)break e;case"keydown":case"keyup":z=s0;break;case"focusin":Z="focus",z=Fl;break;case"focusout":Z="blur",z=Fl;break;case"beforeblur":case"afterblur":z=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=u0;break;case Cd:case kd:case Ud:z=Qg;break;case Dd:z=d0;break;case"scroll":case"scrollend":z=Kg;break;case"wheel":z=f0;break;case"copy":case"cut":case"paste":z=Wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=hd;break;case"toggle":case"beforetoggle":z=p0}var ie=(t&4)!==0,Ce=!ie&&(e==="scroll"||e==="scrollend"),O=ie?D!==null?D+"Capture":null:D;ie=[];for(var j=k,C;j!==null;){var q=j;if(C=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||C===null||O===null||(q=Ur(j,O),q!=null&&ie.push(hi(j,q,C))),Ce)break;j=j.return}0<ie.length&&(D=new z(D,Z,null,n,L),G.push({event:D,listeners:ie}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",D&&n!==Bl&&(Z=n.relatedTarget||n.fromElement)&&(ka(Z)||Z[Ca]))break e;if((z||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,z?(Z=n.relatedTarget||n.toElement,z=k,Z=Z?ka(Z):null,Z!==null&&(Ce=d(Z),ie=Z.tag,Z!==Ce||ie!==5&&ie!==27&&ie!==6)&&(Z=null)):(z=null,Z=k),z!==Z)){if(ie=cd,q="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ie=hd,q="onPointerLeave",O="onPointerEnter",j="pointer"),Ce=z==null?D:kr(z),C=Z==null?D:kr(Z),D=new ie(q,j+"leave",z,n,L),D.target=Ce,D.relatedTarget=C,q=null,ka(L)===k&&(ie=new ie(O,j+"enter",Z,n,L),ie.target=C,ie.relatedTarget=Ce,q=ie),Ce=q,z&&Z)t:{for(ie=my,O=z,j=Z,C=0,q=O;q;q=ie(q))C++;q=0;for(var ae=j;ae;ae=ie(ae))q++;for(;0<C-q;)O=ie(O),C--;for(;0<q-C;)j=ie(j),q--;for(;C--;){if(O===j||j!==null&&O===j.alternate){ie=O;break t}O=ie(O),j=ie(j)}ie=null}else ie=null;z!==null&&rm(G,D,z,ie,!1),Z!==null&&Ce!==null&&rm(G,Ce,Z,ie,!0)}}e:{if(D=k?kr(k):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var we=xd;else if(vd(D))if(wd)we=T0;else{we=S0;var te=_0}else z=D.nodeName,!z||z.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?k&&zl(k.elementType)&&(we=xd):we=E0;if(we&&(we=we(e,k))){bd(G,we,n,L);break e}te&&te(e,D,k),e==="focusout"&&k&&D.type==="number"&&k.memoizedProps.value!=null&&Ml(D,"number",D.value)}switch(te=k?kr(k):window,e){case"focusin":(vd(te)||te.contentEditable==="true")&&(Ha=te,Xl=k,Hr=null);break;case"focusout":Hr=Xl=Ha=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Rd(G,n,L);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":Rd(G,n,L)}var me;if(Kl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else $a?gd(e,n)&&(be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(be="onCompositionStart");be&&(fd&&n.locale!=="ko"&&($a||be!=="onCompositionStart"?be==="onCompositionEnd"&&$a&&(me=od()):(Un=L,Hl="value"in Un?Un.value:Un.textContent,$a=!0)),te=Gs(k,be),0<te.length&&(be=new dd(be,e,null,n,L),G.push({event:be,listeners:te}),me?be.data=me:(me=yd(n),me!==null&&(be.data=me)))),(me=y0?v0(e,n):b0(e,n))&&(be=Gs(k,"onBeforeInput"),0<be.length&&(te=new dd("onBeforeInput","beforeinput",null,n,L),G.push({event:te,listeners:be}),te.data=me)),cy(G,e,k,n,L)}nm(G,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gs(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Ur(e,n),o!=null&&s.unshift(hi(e,o,u)),o=Ur(e,t),o!=null&&s.push(hi(e,o,u))),e.tag===3)return s;e=e.return}return[]}function my(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rm(e,t,n,s,o){for(var u=t._reactName,p=[];n!==null&&n!==s;){var v=n,_=v.alternate,k=v.stateNode;if(v=v.tag,_!==null&&_===s)break;v!==5&&v!==26&&v!==27||k===null||(_=k,o?(k=Ur(n,u),k!=null&&p.unshift(hi(n,k,_))):o||(k=Ur(n,u),k!=null&&p.push(hi(n,k,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var py=/\r\n?/g,gy=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(py,`
`).replace(gy,"")}function sm(e,t){return t=im(t),im(e)===t}function Ne(e,t,n,s,o,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ba(e,""+s);break;case"className":Ki(e,"class",s);break;case"tabIndex":Ki(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,n,s);break;case"style":id(e,s,u);break;case"data":if(t!=="object"){Ki(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Pi(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Pi(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=un);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Pi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Ii(e,"popover",s);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ii(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Fg.get(n)||n,Ii(e,n,s))}}function Su(e,t,n,s,o,u){switch(n){case"style":id(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&Ba(e,""+s);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"onClick":s!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[ft]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ii(e,n,s)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var s=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var p=n[u];if(p!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,u,p,n,null)}}o&&Ne(e,t,"srcSet",n.srcSet,n,null),s&&Ne(e,t,"src",n.src,n,null);return;case"input":ge("invalid",e);var v=u=p=o=null,_=null,k=null;for(s in n)if(n.hasOwnProperty(s)){var L=n[s];if(L!=null)switch(s){case"name":o=L;break;case"type":p=L;break;case"checked":_=L;break;case"defaultChecked":k=L;break;case"value":u=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Ne(e,t,s,L,n,null)}}td(e,u,v,_,k,p,o,!1);return;case"select":ge("invalid",e),s=p=u=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":p=v;break;case"multiple":s=v;default:Ne(e,t,o,v,n,null)}t=u,n=p,e.multiple=!!s,t!=null?za(e,!!s,t,!1):n!=null&&za(e,!!s,n,!0);return;case"textarea":ge("invalid",e),u=o=s=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ne(e,t,p,v,n,null)}ad(e,s,o,u);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(s=n[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,_,s,n,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(s=0;s<di.length;s++)ge(di[s],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in n)if(n.hasOwnProperty(k)&&(s=n[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,k,s,n,null)}return;default:if(zl(t)){for(L in n)n.hasOwnProperty(L)&&(s=n[L],s!==void 0&&Su(e,t,L,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&Ne(e,t,v,s,n,null))}function yy(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,p=null,v=null,_=null,k=null,L=null;for(z in n){var G=n[z];if(n.hasOwnProperty(z)&&G!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=G;default:s.hasOwnProperty(z)||Ne(e,t,z,null,s,G)}}for(var D in s){var z=s[D];if(G=n[D],s.hasOwnProperty(D)&&(z!=null||G!=null))switch(D){case"type":u=z;break;case"name":o=z;break;case"checked":k=z;break;case"defaultChecked":L=z;break;case"value":p=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:z!==G&&Ne(e,t,D,z,s,G)}}Dl(e,p,v,_,k,L,u,o);return;case"select":z=p=v=D=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":z=_;default:s.hasOwnProperty(u)||Ne(e,t,u,null,s,_)}for(o in s)if(u=s[o],_=n[o],s.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":p=u;default:u!==_&&Ne(e,t,o,u,s,_)}t=v,n=p,s=z,D!=null?za(e,!!n,D,!1):!!s!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":z=D=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ne(e,t,v,null,s,o)}for(p in s)if(o=s[p],u=n[p],s.hasOwnProperty(p)&&(o!=null||u!=null))switch(p){case"value":D=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ne(e,t,p,o,s,u)}nd(e,D,z);return;case"option":for(var Z in n)if(D=n[Z],n.hasOwnProperty(Z)&&D!=null&&!s.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ne(e,t,Z,null,s,D)}for(_ in s)if(D=s[_],z=n[_],s.hasOwnProperty(_)&&D!==z&&(D!=null||z!=null))switch(_){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ne(e,t,_,D,s,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)D=n[ie],n.hasOwnProperty(ie)&&D!=null&&!s.hasOwnProperty(ie)&&Ne(e,t,ie,null,s,D);for(k in s)if(D=s[k],z=n[k],s.hasOwnProperty(k)&&D!==z&&(D!=null||z!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ne(e,t,k,D,s,z)}return;default:if(zl(t)){for(var Ce in n)D=n[Ce],n.hasOwnProperty(Ce)&&D!==void 0&&!s.hasOwnProperty(Ce)&&Su(e,t,Ce,void 0,s,D);for(L in s)D=s[L],z=n[L],!s.hasOwnProperty(L)||D===z||D===void 0&&z===void 0||Su(e,t,L,D,s,z);return}}for(var O in n)D=n[O],n.hasOwnProperty(O)&&D!=null&&!s.hasOwnProperty(O)&&Ne(e,t,O,null,s,D);for(G in s)D=s[G],z=n[G],!s.hasOwnProperty(G)||D===z||D==null&&z==null||Ne(e,t,G,D,s,z)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],u=o.transferSize,p=o.initiatorType,v=o.duration;if(u&&v&&lm(p)){for(p=0,v=o.responseEnd,s+=1;s<n.length;s++){var _=n[s],k=_.startTime;if(k>v)break;var L=_.transferSize,G=_.initiatorType;L&&lm(G)&&(_=_.responseEnd,p+=L*(_<v?1:(v-k)/(_-k)))}if(--s,t+=8*(u+p)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Eu=null,Tu=null;function Vs(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function um(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=null;function by(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,xy=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(e){return dm.resolve(null).then(e).catch(_y)}:cm;function _y(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function hm(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),mr(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")fi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,fi(n);for(var u=n.firstChild;u;){var p=u.nextSibling,v=u.nodeName;u[Cr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=p}}else n==="body"&&fi(e.ownerDocument.body);n=o}while(n);mr(t)}function fm(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ou(n),kl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sy(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Cr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Ey(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ft(e.nextSibling),e===null))return null;return e}function mm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Ru(e){return e.data==="$?"||e.data==="$~"}function Nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ty(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function pm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ft(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ym(e,t,n){switch(t=Vs(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function fi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kl(e)}var It=new Map,vm=new Set;function Fs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=J.d;J.d={f:Ay,r:jy,D:Oy,C:Ry,L:Ny,m:Cy,X:Uy,S:ky,M:Dy};function Ay(){var e=Tn.f(),t=Ms();return e||t}function jy(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Dh(t):Tn.r(e)}var dr=typeof document>"u"?null:document;function bm(e,t,n){var s=dr;if(s&&typeof t=="string"&&t){var o=Bt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),vm.has(o)||(vm.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),lt(t,"link",e),tt(t),s.head.appendChild(t)))}}function Oy(e){Tn.D(e),bm("dns-prefetch",e,null)}function Ry(e,t){Tn.C(e,t),bm("preconnect",e,t)}function Ny(e,t,n){Tn.L(e,t,n);var s=dr;if(s&&e&&t){var o='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Bt(n.imageSizes)+'"]')):o+='[href="'+Bt(e)+'"]';var u=o;switch(t){case"style":u=hr(e);break;case"script":u=fr(e)}It.has(u)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),It.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(mi(u))||t==="script"&&s.querySelector(pi(u))||(t=s.createElement("link"),lt(t,"link",e),tt(t),s.head.appendChild(t)))}}function Cy(e,t){Tn.m(e,t);var n=dr;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Bt(s)+'"][href="'+Bt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=fr(e)}if(!It.has(u)&&(e=x({rel:"modulepreload",href:e},t),It.set(u,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pi(u)))return}s=n.createElement("link"),lt(s,"link",e),tt(s),n.head.appendChild(s)}}}function ky(e,t,n){Tn.S(e,t,n);var s=dr;if(s&&e){var o=Da(s).hoistableStyles,u=hr(e);t=t||"default";var p=o.get(u);if(!p){var v={loading:0,preload:null};if(p=s.querySelector(mi(u)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=It.get(u))&&ku(e,n);var _=p=s.createElement("link");tt(_),lt(_,"link",e),_._p=new Promise(function(k,L){_.onload=k,_.onerror=L}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Is(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:v},o.set(u,p)}}}function Uy(e,t){Tn.X(e,t);var n=dr;if(n&&e){var s=Da(n).hoistableScripts,o=fr(e),u=s.get(o);u||(u=n.querySelector(pi(o)),u||(e=x({src:e,async:!0},t),(t=It.get(o))&&Uu(e,t),u=n.createElement("script"),tt(u),lt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Dy(e,t){Tn.M(e,t);var n=dr;if(n&&e){var s=Da(n).hoistableScripts,o=fr(e),u=s.get(o);u||(u=n.querySelector(pi(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=It.get(o))&&Uu(e,t),u=n.createElement("script"),tt(u),lt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function xm(e,t,n,s){var o=(o=ce.current)?Fs(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=hr(n.href),n=Da(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=hr(n.href);var u=Da(o).hoistableStyles,p=u.get(e);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=o.querySelector(mi(e)))&&!u._p&&(p.instance=u,p.state.loading=5),It.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},It.set(e,n),u||My(o,e,n,p.state))),t&&s===null)throw Error(l(528,""));return p}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fr(n),n=Da(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function hr(e){return'href="'+Bt(e)+'"'}function mi(e){return'link[rel="stylesheet"]['+e+"]"}function wm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function My(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),lt(t,"link",n),tt(t),e.head.appendChild(t))}function fr(e){return'[src="'+Bt(e)+'"]'}function pi(e){return"script[async]"+e}function _m(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Bt(n.href)+'"]');if(s)return t.instance=s,tt(s),s;var o=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),lt(s,"style",o),Is(s,n.precedence,e),t.instance=s;case"stylesheet":o=hr(n.href);var u=e.querySelector(mi(o));if(u)return t.state.loading|=4,t.instance=u,tt(u),u;s=wm(n),(o=It.get(o))&&ku(s,o),u=(e.ownerDocument||e).createElement("link"),tt(u);var p=u;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),lt(u,"link",s),t.state.loading|=4,Is(u,n.precedence,e),t.instance=u;case"script":return u=fr(n.src),(o=e.querySelector(pi(u)))?(t.instance=o,tt(o),o):(s=n,(o=It.get(u))&&(s=x({},n),Uu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),lt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Is(s,n.precedence,e));return t.instance}function Is(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,p=0;p<s.length;p++){var v=s[p];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ks=null;function Sm(e,t,n){if(Ks===null){var s=new Map,o=Ks=new Map;o.set(n,s)}else o=Ks,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Cr]||u[at]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var v=s.get(p);v?v.push(u):s.set(p,[u])}}return s}function Em(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function zy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function By(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=hr(s.href),u=t.querySelector(mi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ys.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,tt(u);return}u=t.ownerDocument||t,s=wm(s),(o=It.get(o))&&ku(s,o),u=u.createElement("link"),tt(u);var p=u;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),lt(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ys.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Du=0;function Ly(e,t){return e.stylesheets&&e.count===0&&Js(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Js(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Du===0&&(Du=62500*vy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Js(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Du?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Ys(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Js(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ps=null;function Js(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ps=new Map,t.forEach(qy,e),Ps=null,Ys.call(e))}function qy(e,t){if(!(t.state.loading&4)){var n=Ps.get(e);if(n)var s=n.get(null);else{n=new Map,Ps.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var p=o[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),s=p)}s&&n.set(null,s)}o=t.instance,p=o.getAttribute("data-precedence"),u=n.get(p)||s,u===s&&n.set(null,o),n.set(p,o),this.count++,s=Ys.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var gi={$$typeof:U,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function $y(e,t,n,s,o,u,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.hiddenUpdates=Ol(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Am(e,t,n,s,o,u,p,v,_,k,L,G){return e=new $y(e,t,n,p,_,k,L,G,v),t=1,u===!0&&(t|=24),u=Et(3,null,null,t),e.current=u,u.stateNode=e,t=fo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},yo(u),e}function jm(e){return e?(e=Fa,e):Fa}function Om(e,t,n,s,o,u){o=jm(o),s.context===null?s.context=o:s.pendingContext=o,s=qn(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=$n(e,s,t),n!==null&&(bt(n,e,t),Pr(n,e,t))}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mu(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=ca(e,67108864);t!==null&&bt(t,e,67108864),Mu(e,67108864)}}function Cm(e){if(e.tag===13||e.tag===31){var t=Rt();t=Rl(t);var n=ca(e,t);n!==null&&bt(n,e,t),Mu(e,t)}}var Xs=!0;function Hy(e,t,n,s){var o=B.T;B.T=null;var u=J.p;try{J.p=2,zu(e,t,n,s)}finally{J.p=u,B.T=o}}function Gy(e,t,n,s){var o=B.T;B.T=null;var u=J.p;try{J.p=8,zu(e,t,n,s)}finally{J.p=u,B.T=o}}function zu(e,t,n,s){if(Xs){var o=Bu(s);if(o===null)_u(e,t,s,Qs,n),Um(e,s);else if(Fy(o,e,t,n,s))s.stopPropagation();else if(Um(e,s),t&4&&-1<Vy.indexOf(e)){for(;o!==null;){var u=Ua(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=ia(u.pendingLanes);if(p!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-_t(p);v.entanglements[1]|=_,p&=~_}sn(u),(Se&6)===0&&(Us=xt()+500,ci(0))}}break;case 31:case 13:v=ca(u,2),v!==null&&bt(v,u,2),Ms(),Mu(u,2)}if(u=Bu(s),u===null&&_u(e,t,s,Qs,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else _u(e,t,s,null,n)}}function Bu(e){return e=Ll(e),Lu(e)}var Qs=null;function Lu(e){if(Qs=null,e=ka(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qs=e,null}function km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Og()){case qc:return 2;case $c:return 8;case $i:case Rg:return 32;case Hc:return 268435456;default:return 32}default:return 32}}var qu=!1,Qn=null,Zn=null,Wn=null,yi=new Map,vi=new Map,ea=[],Vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Um(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function bi(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ua(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Fy(e,t,n,s,o){switch(t){case"focusin":return Qn=bi(Qn,e,t,n,s,o),!0;case"dragenter":return Zn=bi(Zn,e,t,n,s,o),!0;case"mouseover":return Wn=bi(Wn,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return yi.set(u,bi(yi.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,vi.set(u,bi(vi.get(u)||null,e,t,n,s,o)),!0}return!1}function Dm(e){var t=ka(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Yc(e.priority,function(){Cm(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Yc(e.priority,function(){Cm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Bl=s,n.target.dispatchEvent(s),Bl=null}else return t=Ua(n),t!==null&&Nm(t),e.blockedOn=n,!1;t.shift()}return!0}function Mm(e,t,n){Zs(e)&&n.delete(t)}function Iy(){qu=!1,Qn!==null&&Zs(Qn)&&(Qn=null),Zn!==null&&Zs(Zn)&&(Zn=null),Wn!==null&&Zs(Wn)&&(Wn=null),yi.forEach(Mm),vi.forEach(Mm)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Iy)))}var el=null;function zm(e){el!==e&&(el=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Lu(s||n)===null)continue;break}var u=Ua(n);u!==null&&(e.splice(t,3),t-=3,Bo(u,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function mr(e){function t(_){return Ws(_,e)}Qn!==null&&Ws(Qn,e),Zn!==null&&Ws(Zn,e),Wn!==null&&Ws(Wn,e),yi.forEach(t),vi.forEach(t);for(var n=0;n<ea.length;n++){var s=ea[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)Dm(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],p=o[ft]||null;if(typeof u=="function")p||zm(n);else if(p){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,p=u[ft]||null)v=p.formAction;else if(Lu(o)!==null)continue}else v=p.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),zm(n)}}}function Bm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return o=p})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function $u(e){this._internalRoot=e}tl.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Rt();Om(n,s,e,t,null,null)},tl.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(e.current,2,null,e,null,null),Ms(),t[Ca]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&Dm(e)}};var Lm=a.version;if(Lm!=="19.2.3")throw Error(l(527,Lm,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ky={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Or=nl.inject(Ky),wt=nl}catch{}}return wi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,s="",o=Fh,u=Ih,p=Kh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Am(e,1,!1,null,null,n,s,null,o,u,p,Bm),e[Ca]=t.current,wu(e),new $u(t)},wi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var s=!1,o="",u=Fh,p=Ih,v=Kh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Am(e,1,!0,t,n??null,s,o,_,u,p,v,Bm),t.context=jm(null),n=t.current,s=Rt(),s=Rl(s),o=qn(s),o.callback=null,$n(n,o,s),n=s,t.current.lanes=n,Nr(t,n),sn(t),e[Ca]=t.current,wu(e),new tl(t)},wi.version="19.2.3",wi}var Pm;function av(){if(Pm)return Vu.exports;Pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Vu.exports=nv(),Vu.exports}var rv=av();const iv=Cp(rv);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jm="popstate";function sv(r={}){function a(c,d){let{pathname:h="/",search:m="",hash:g=""}=Ra(c.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),cc("",{pathname:h,search:m,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(c,d){let h=c.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=c.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof d=="string"?d:Oi(d))}function l(c,d){Ut(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return ov(a,i,l,r)}function Le(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Ut(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function lv(){return Math.random().toString(36).substring(2,10)}function Xm(r,a){return{usr:r.state,key:r.key,idx:a}}function cc(r,a,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?Ra(a):a,state:i,key:a&&a.key||l||lv()}}function Oi({pathname:r="/",search:a="",hash:i=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ra(r){let a={};if(r){let i=r.indexOf("#");i>=0&&(a.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(a.search=r.substring(l),r=r.substring(0,l)),r&&(a.pathname=r)}return a}function ov(r,a,i,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,h=c.history,m="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let N=b(),M=N==null?null:N-y;y=N,g&&g({action:m,location:R.location,delta:M})}function w(N,M){m="PUSH";let V=cc(R.location,N,M);i&&i(V,N),y=b()+1;let U=Xm(V,y),$=R.createHref(V);try{h.pushState(U,"",$)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;c.location.assign($)}d&&g&&g({action:m,location:R.location,delta:1})}function S(N,M){m="REPLACE";let V=cc(R.location,N,M);i&&i(V,N),y=b();let U=Xm(V,y),$=R.createHref(V);h.replaceState(U,"",$),d&&g&&g({action:m,location:R.location,delta:0})}function E(N){return uv(N)}let R={get action(){return m},get location(){return r(c,h)},listen(N){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Jm,x),g=N,()=>{c.removeEventListener(Jm,x),g=null}},createHref(N){return a(c,N)},createURL:E,encodeLocation(N){let M=E(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:S,go(N){return h.go(N)}};return R}function uv(r,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Le(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Oi(r);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function kp(r,a,i="/"){return cv(r,a,i,!1)}function cv(r,a,i,l){let c=typeof a=="string"?Ra(a):a,d=Rn(c.pathname||"/",i);if(d==null)return null;let h=Up(r);dv(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=_v(d);m=xv(h[g],y,l)}return m}function Up(r,a=[],i=[],l="",c=!1){let d=(h,m,g=c,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&g)return;Le(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let x=On([l,b.relativePath]),w=i.concat(b);h.children&&h.children.length>0&&(Le(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Up(h.children,a,w,x,g)),!(h.path==null&&!h.index)&&a.push({path:x,score:vv(x,h.index),routesMeta:w})};return r.forEach((h,m)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))d(h,m);else for(let y of Dp(h.path))d(h,m,!0,y)}),a}function Dp(r){let a=r.split("/");if(a.length===0)return[];let[i,...l]=a,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let h=Dp(l.join("/")),m=[];return m.push(...h.map(g=>g===""?d:[d,g].join("/"))),c&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function dv(r){r.sort((a,i)=>a.score!==i.score?i.score-a.score:bv(a.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var hv=/^:[\w-]+$/,fv=3,mv=2,pv=1,gv=10,yv=-2,Qm=r=>r==="*";function vv(r,a){let i=r.split("/"),l=i.length;return i.some(Qm)&&(l+=yv),a&&(l+=mv),i.filter(c=>!Qm(c)).reduce((c,d)=>c+(hv.test(d)?fv:d===""?pv:gv),l)}function bv(r,a){return r.length===a.length&&r.slice(0,-1).every((l,c)=>l===a[c])?r[r.length-1]-a[a.length-1]:0}function xv(r,a,i=!1){let{routesMeta:l}=r,c={},d="/",h=[];for(let m=0;m<l.length;++m){let g=l[m],y=m===l.length-1,b=d==="/"?a:a.slice(d.length)||"/",x=hl({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),w=g.route;if(!x&&y&&i&&!l[l.length-1].route.index&&(x=hl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!x)return null;Object.assign(c,x.params),h.push({params:c,pathname:On([d,x.pathname]),pathnameBase:Av(On([d,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(d=On([d,x.pathnameBase]))}return h}function hl(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=wv(r.path,r.caseSensitive,r.end),c=a.match(i);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:l.reduce((y,{paramName:b,isOptional:x},w)=>{if(b==="*"){let E=m[w]||"";h=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const S=m[w];return x&&!S?y[b]=void 0:y[b]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:h,pattern:r}}function wv(r,a=!1,i=!0){Ut(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(l.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),l]}function _v(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ut(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function Rn(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var Mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=r=>Mp.test(r);function Ev(r,a="/"){let{pathname:i,search:l="",hash:c=""}=typeof r=="string"?Ra(r):r,d;if(i)if(Sv(i))d=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),Ut(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?d=Zm(i.substring(1),"/"):d=Zm(i,a)}else d=a;return{pathname:d,search:jv(l),hash:Ov(c)}}function Zm(r,a){let i=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Yu(r,a,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tv(r){return r.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function Ec(r){let a=Tv(r);return a.map((i,l)=>l===a.length-1?i.pathname:i.pathnameBase)}function Tc(r,a,i,l=!1){let c;typeof r=="string"?c=Ra(r):(c={...r},Le(!c.pathname||!c.pathname.includes("?"),Yu("?","pathname","search",c)),Le(!c.pathname||!c.pathname.includes("#"),Yu("#","pathname","hash",c)),Le(!c.search||!c.search.includes("#"),Yu("#","search","hash",c)));let d=r===""||c.pathname==="",h=d?"/":c.pathname,m;if(h==null)m=i;else{let x=a.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;c.pathname=w.join("/")}m=x>=0?a[x]:"/"}let g=Ev(c,m),y=h&&h!=="/"&&h.endsWith("/"),b=(d||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var On=r=>r.join("/").replace(/\/\/+/g,"/"),Av=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ov=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Rv=class{constructor(r,a,i,l=!1){this.status=r,this.statusText=a||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Nv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Cv(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bp(r,a){let i=r;if(typeof i!="string"||!Mp.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,c=!1;if(zp)try{let d=new URL(window.location.href),h=i.startsWith("//")?new URL(d.protocol+i):new URL(i),m=Rn(h.pathname,a);h.origin===d.origin&&m!=null?i=m+h.search+h.hash:c=!0}catch{Ut(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lp=["POST","PUT","PATCH","DELETE"];new Set(Lp);var kv=["GET",...Lp];new Set(kv);var Ar=T.createContext(null);Ar.displayName="DataRouter";var yl=T.createContext(null);yl.displayName="DataRouterState";var Uv=T.createContext(!1),qp=T.createContext({isTransitioning:!1});qp.displayName="ViewTransition";var Dv=T.createContext(new Map);Dv.displayName="Fetchers";var Mv=T.createContext(null);Mv.displayName="Await";var Dt=T.createContext(null);Dt.displayName="Navigation";var Bi=T.createContext(null);Bi.displayName="Location";var Yt=T.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var Ac=T.createContext(null);Ac.displayName="RouteError";var $p="REACT_ROUTER_ERROR",zv="REDIRECT",Bv="ROUTE_ERROR_RESPONSE";function Lv(r){if(r.startsWith(`${$p}:${zv}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function qv(r){if(r.startsWith(`${$p}:${Bv}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Rv(a.status,a.statusText,a.data)}catch{}}function $v(r,{relative:a}={}){Le(jr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=T.useContext(Dt),{hash:c,pathname:d,search:h}=Li(r,{relative:a}),m=d;return i!=="/"&&(m=d==="/"?i:On([i,d])),l.createHref({pathname:m,search:h,hash:c})}function jr(){return T.useContext(Bi)!=null}function Mt(){return Le(jr(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Bi).location}var Hp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gp(r){T.useContext(Dt).static||T.useLayoutEffect(r)}function ln(){let{isDataRoute:r}=T.useContext(Yt);return r?tb():Hv()}function Hv(){Le(jr(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Ar),{basename:a,navigator:i}=T.useContext(Dt),{matches:l}=T.useContext(Yt),{pathname:c}=Mt(),d=JSON.stringify(Ec(l)),h=T.useRef(!1);return Gp(()=>{h.current=!0}),T.useCallback((g,y={})=>{if(Ut(h.current,Hp),!h.current)return;if(typeof g=="number"){i.go(g);return}let b=Tc(g,JSON.parse(d),c,y.relative==="path");r==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:On([a,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[a,i,d,c,r])}var Gv=T.createContext(null);function Vv(r){let a=T.useContext(Yt).outlet;return T.useMemo(()=>a&&T.createElement(Gv.Provider,{value:r},a),[a,r])}function Vp(){let{matches:r}=T.useContext(Yt),a=r[r.length-1];return a?a.params:{}}function Li(r,{relative:a}={}){let{matches:i}=T.useContext(Yt),{pathname:l}=Mt(),c=JSON.stringify(Ec(i));return T.useMemo(()=>Tc(r,JSON.parse(c),l,a==="path"),[r,c,l,a])}function Fv(r,a){return Fp(r,a)}function Fp(r,a,i,l,c){var V;Le(jr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(Dt),{matches:h}=T.useContext(Yt),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",x=m&&m.route;{let U=x&&x.path||"";Kp(y,!x||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Mt(),S;if(a){let U=typeof a=="string"?Ra(a):a;Le(b==="/"||((V=U.pathname)==null?void 0:V.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=w;let E=S.pathname||"/",R=E;if(b!=="/"){let U=b.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let N=kp(r,{pathname:R});Ut(x||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ut(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Jv(N&&N.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:On([b,d.encodeLocation?d.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:On([b,d.encodeLocation?d.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),h,i,l,c);return a&&M?T.createElement(Bi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function Iv(){let r=eb(),a=Nv(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:c},i):null,h)}var Kv=T.createElement(Iv,null),Ip=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=qv(r.digest);i&&(r=i)}let a=r!==void 0?T.createElement(Yt.Provider,{value:this.props.routeContext},T.createElement(Ac.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?T.createElement(Yv,{error:r},a):a}};Ip.contextType=Uv;var Pu=new WeakMap;function Yv({children:r,error:a}){let{basename:i}=T.useContext(Dt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=Lv(a.digest);if(l){let c=Pu.get(a);if(c)throw c;let d=Bp(l.location,i);if(zp&&!Pu.get(a))if(d.isExternal||l.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:l.replace}));throw Pu.set(a,h),h}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return r}function Pv({routeContext:r,match:a,children:i}){let l=T.useContext(Ar);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(Yt.Provider,{value:r},i)}function Jv(r,a=[],i=null,l=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,h=i==null?void 0:i.errors;if(h!=null){let b=d.findIndex(x=>x.route.id&&(h==null?void 0:h[x.route.id])!==void 0);Le(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,b+1))}let m=!1,g=-1;if(i)for(let b=0;b<d.length;b++){let x=d[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=b),x.route.id){let{loaderData:w,errors:S}=i,E=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||E){m=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let y=i&&l?(b,x)=>{var w,S;l(b,{location:i.location,params:((S=(w=i.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:Cv(i.matches),errorInfo:x})}:void 0;return d.reduceRight((b,x,w)=>{let S,E=!1,R=null,N=null;i&&(S=h&&x.route.id?h[x.route.id]:void 0,R=x.route.errorElement||Kv,m&&(g<0&&w===0?(Kp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):g===w&&(E=!0,N=x.route.hydrateFallbackElement||null)));let M=a.concat(d.slice(0,w+1)),V=()=>{let U;return S?U=R:E?U=N:x.route.Component?U=T.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=b,T.createElement(Pv,{match:x,routeContext:{outlet:b,matches:M,isDataRoute:i!=null},children:U})};return i&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?T.createElement(Ip,{location:i.location,revalidation:i.revalidation,component:R,error:S,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:y}):V()},null)}function jc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xv(r){let a=T.useContext(Ar);return Le(a,jc(r)),a}function Qv(r){let a=T.useContext(yl);return Le(a,jc(r)),a}function Zv(r){let a=T.useContext(Yt);return Le(a,jc(r)),a}function Oc(r){let a=Zv(r),i=a.matches[a.matches.length-1];return Le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Wv(){return Oc("useRouteId")}function eb(){var l;let r=T.useContext(Ac),a=Qv("useRouteError"),i=Oc("useRouteError");return r!==void 0?r:(l=a.errors)==null?void 0:l[i]}function tb(){let{router:r}=Xv("useNavigate"),a=Oc("useNavigate"),i=T.useRef(!1);return Gp(()=>{i.current=!0}),T.useCallback(async(c,d={})=>{Ut(i.current,Hp),i.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:a,...d}))},[r,a])}var Wm={};function Kp(r,a,i){!a&&!Wm[r]&&(Wm[r]=!0,Ut(!1,i))}T.memo(nb);function nb({routes:r,future:a,state:i,onError:l}){return Fp(r,void 0,i,l,a)}function ul({to:r,replace:a,state:i,relative:l}){Le(jr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=T.useContext(Dt);Ut(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(Yt),{pathname:h}=Mt(),m=ln(),g=Tc(r,Ec(d),h,l==="path"),y=JSON.stringify(g);return T.useEffect(()=>{m(JSON.parse(y),{replace:a,state:i,relative:l})},[m,y,l,a,i]),null}function ab(r){return Vv(r.context)}function ht(r){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rb({basename:r="/",children:a=null,location:i,navigationType:l="POP",navigator:c,static:d=!1,unstable_useTransitions:h}){Le(!jr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:m,navigator:c,static:d,unstable_useTransitions:h,future:{}}),[m,c,d,h]);typeof i=="string"&&(i=Ra(i));let{pathname:y="/",search:b="",hash:x="",state:w=null,key:S="default"}=i,E=T.useMemo(()=>{let R=Rn(y,m);return R==null?null:{location:{pathname:R,search:b,hash:x,state:w,key:S},navigationType:l}},[m,y,b,x,w,S,l]);return Ut(E!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Dt.Provider,{value:g},T.createElement(Bi.Provider,{children:a,value:E}))}function ib({children:r,location:a}){return Fv(dc(r),a)}function dc(r,a=[]){let i=[];return T.Children.forEach(r,(l,c)=>{if(!T.isValidElement(l))return;let d=[...a,c];if(l.type===T.Fragment){i.push.apply(i,dc(l.props.children,d));return}Le(l.type===ht,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=dc(l.props.children,d)),i.push(h)}),i}var cl="get",dl="application/x-www-form-urlencoded";function vl(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sb(r){return vl(r)&&r.tagName.toLowerCase()==="button"}function lb(r){return vl(r)&&r.tagName.toLowerCase()==="form"}function ob(r){return vl(r)&&r.tagName.toLowerCase()==="input"}function ub(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cb(r,a){return r.button===0&&(!a||a==="_self")&&!ub(r)}var al=null;function db(){if(al===null)try{new FormData(document.createElement("form"),0),al=!1}catch{al=!0}return al}var hb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ju(r){return r!=null&&!hb.has(r)?(Ut(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dl}"`),null):r}function fb(r,a){let i,l,c,d,h;if(lb(r)){let m=r.getAttribute("action");l=m?Rn(m,a):null,i=r.getAttribute("method")||cl,c=Ju(r.getAttribute("enctype"))||dl,d=new FormData(r)}else if(sb(r)||ob(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(l=g?Rn(g,a):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||cl,c=Ju(r.getAttribute("formenctype"))||Ju(m.getAttribute("enctype"))||dl,d=new FormData(m,r),!db()){let{name:y,type:b,value:x}=r;if(b==="image"){let w=y?`${y}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else y&&d.append(y,x)}}else{if(vl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=cl,l=null,c=dl,h=r}return d&&c==="text/plain"&&(h=d,d=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rc(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function mb(r,a,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:a&&Rn(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function pb(r,a){if(r.id in a)return a[r.id];try{let i=await import(r.module);return a[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yb(r,a,i){let l=await Promise.all(r.map(async c=>{let d=a.routes[c.route.id];if(d){let h=await pb(d,i);return h.links?h.links():[]}return[]}));return wb(l.flat(1).filter(gb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ep(r,a,i,l,c,d){let h=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>{var b;return i[y].pathname!==g.pathname||((b=i[y].route.path)==null?void 0:b.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return d==="assets"?a.filter((g,y)=>h(g,y)||m(g,y)):d==="data"?a.filter((g,y)=>{var x;let b=l.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((x=i[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function vb(r,a,{includeHydrateFallback:i}={}){return bb(r.map(l=>{let c=a.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function bb(r){return[...new Set(r)]}function xb(r){let a={},i=Object.keys(r).sort();for(let l of i)a[l]=r[l];return a}function wb(r,a){let i=new Set;return new Set(a),r.reduce((l,c)=>{let d=JSON.stringify(xb(c));return i.has(d)||(i.add(d),l.push({key:d,link:c})),l},[])}function Yp(){let r=T.useContext(Ar);return Rc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _b(){let r=T.useContext(yl);return Rc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Nc=T.createContext(void 0);Nc.displayName="FrameworkContext";function Pp(){let r=T.useContext(Nc);return Rc(r,"You must render this element inside a <HydratedRouter> element"),r}function Sb(r,a){let i=T.useContext(Nc),[l,c]=T.useState(!1),[d,h]=T.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:x}=a,w=T.useRef(null);T.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let R=M=>{M.forEach(V=>{h(V.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[r]),T.useEffect(()=>{if(l){let R=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(R)}}},[l]);let S=()=>{c(!0)},E=()=>{c(!1),h(!1)};return i?r!=="intent"?[d,w,{}]:[d,w,{onFocus:_i(m,S),onBlur:_i(g,E),onMouseEnter:_i(y,S),onMouseLeave:_i(b,E),onTouchStart:_i(x,S)}]:[!1,w,{}]}function _i(r,a){return i=>{r&&r(i),i.defaultPrevented||a(i)}}function Eb({page:r,...a}){let{router:i}=Yp(),l=T.useMemo(()=>kp(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?T.createElement(Ab,{page:r,matches:l,...a}):null}function Tb(r){let{manifest:a,routeModules:i}=Pp(),[l,c]=T.useState([]);return T.useEffect(()=>{let d=!1;return yb(r,a,i).then(h=>{d||c(h)}),()=>{d=!0}},[r,a,i]),l}function Ab({page:r,matches:a,...i}){let l=Mt(),{manifest:c,routeModules:d}=Pp(),{basename:h}=Yp(),{loaderData:m,matches:g}=_b(),y=T.useMemo(()=>ep(r,a,g,c,l,"data"),[r,a,g,c,l]),b=T.useMemo(()=>ep(r,a,g,c,l,"assets"),[r,a,g,c,l]),x=T.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let E=new Set,R=!1;if(a.forEach(M=>{var U;let V=c.routes[M.route.id];!V||!V.hasLoader||(!y.some($=>$.route.id===M.route.id)&&M.route.id in m&&((U=d[M.route.id])!=null&&U.shouldRevalidate)||V.hasClientLoader?R=!0:E.add(M.route.id))}),E.size===0)return[];let N=mb(r,h,"data");return R&&E.size>0&&N.searchParams.set("_routes",a.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[h,m,l,c,y,a,r,d]),w=T.useMemo(()=>vb(b,c),[b,c]),S=Tb(b);return T.createElement(T.Fragment,null,x.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),w.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),S.map(({key:E,link:R})=>T.createElement("link",{key:E,nonce:i.nonce,...R})))}function jb(...r){return a=>{r.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.11.0")}catch{}function Rb({basename:r,children:a,unstable_useTransitions:i,window:l}){let c=T.useRef();c.current==null&&(c.current=sv({window:l,v5Compat:!0}));let d=c.current,[h,m]=T.useState({action:d.action,location:d.location}),g=T.useCallback(y=>{i===!1?m(y):T.startTransition(()=>m(y))},[i]);return T.useLayoutEffect(()=>d.listen(g),[d,g]),T.createElement(rb,{basename:r,children:a,location:h.location,navigationType:h.action,navigator:d,unstable_useTransitions:i})}var Jp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=T.forwardRef(function({onClick:a,discover:i="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:m,target:g,to:y,preventScrollReset:b,viewTransition:x,unstable_defaultShouldRevalidate:w,...S},E){let{basename:R,unstable_useTransitions:N}=T.useContext(Dt),M=typeof y=="string"&&Jp.test(y),V=Bp(y,R);y=V.to;let U=$v(y,{relative:c}),[$,Y,K]=Sb(l,S),X=kb(y,{replace:h,state:m,target:g,preventScrollReset:b,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:w,unstable_useTransitions:N});function oe(I){a&&a(I),I.defaultPrevented||X(I)}let W=T.createElement("a",{...S,...K,href:V.absoluteURL||U,onClick:V.isExternal||d?a:oe,ref:jb(E,Y),target:g,"data-discover":!M&&i==="render"?"true":void 0});return $&&!M?T.createElement(T.Fragment,null,W,T.createElement(Eb,{page:U})):W});en.displayName="Link";var Ei=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:l="",end:c=!1,style:d,to:h,viewTransition:m,children:g,...y},b){let x=Li(h,{relative:y.relative}),w=Mt(),S=T.useContext(yl),{navigator:E,basename:R}=T.useContext(Dt),N=S!=null&&Bb(x)&&m===!0,M=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,V=w.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(V=V.toLowerCase(),U=U?U.toLowerCase():null,M=M.toLowerCase()),U&&R&&(U=Rn(U,R)||U);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Y=V===M||!c&&V.startsWith(M)&&V.charAt($)==="/",K=U!=null&&(U===M||!c&&U.startsWith(M)&&U.charAt(M.length)==="/"),X={isActive:Y,isPending:K,isTransitioning:N},oe=Y?a:void 0,W;typeof l=="function"?W=l(X):W=[l,Y?"active":null,K?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof d=="function"?d(X):d;return T.createElement(en,{...y,"aria-current":oe,className:W,ref:b,style:I,to:h,viewTransition:m},typeof g=="function"?g(X):g)});Ei.displayName="NavLink";var Nb=T.forwardRef(({discover:r="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:c,state:d,method:h=cl,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:x,unstable_defaultShouldRevalidate:w,...S},E)=>{let{unstable_useTransitions:R}=T.useContext(Dt),N=Mb(),M=zb(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&Jp.test(m),$=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let K=Y.nativeEvent.submitter,X=(K==null?void 0:K.getAttribute("formmethod"))||h,oe=()=>N(K||Y.currentTarget,{fetcherKey:a,method:X,navigate:i,replace:c,state:d,relative:y,preventScrollReset:b,viewTransition:x,unstable_defaultShouldRevalidate:w});R&&i!==!1?T.startTransition(()=>oe()):oe()};return T.createElement("form",{ref:E,method:V,action:M,onSubmit:l?g:$,...S,"data-discover":!U&&r==="render"?"true":void 0})});Nb.displayName="Form";function Cb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xp(r){let a=T.useContext(Ar);return Le(a,Cb(r)),a}function kb(r,{target:a,replace:i,state:l,preventScrollReset:c,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=ln(),b=Mt(),x=Li(r,{relative:d});return T.useCallback(w=>{if(cb(w,a)){w.preventDefault();let S=i!==void 0?i:Oi(b)===Oi(x),E=()=>y(r,{replace:S,state:l,preventScrollReset:c,relative:d,viewTransition:h,unstable_defaultShouldRevalidate:m});g?T.startTransition(()=>E()):E()}},[b,y,x,i,l,a,r,c,d,h,m,g])}var Ub=0,Db=()=>`__${String(++Ub)}__`;function Mb(){let{router:r}=Xp("useSubmit"),{basename:a}=T.useContext(Dt),i=Wv(),l=r.fetch,c=r.navigate;return T.useCallback(async(d,h={})=>{let{action:m,method:g,encType:y,formData:b,body:x}=fb(d,a);if(h.navigate===!1){let w=h.fetcherKey||Db();await l(w,i,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:x,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:x,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,a,i])}function zb(r,{relative:a}={}){let{basename:i}=T.useContext(Dt),l=T.useContext(Yt);Le(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...Li(r||".",{relative:a})},h=Mt();if(r==null){d.search=h.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();d.search=b?`?${b}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:On([i,d.pathname])),Oi(d)}function Bb(r,{relative:a}={}){let i=T.useContext(qp);Le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Xp("useViewTransitionState"),c=Li(r,{relative:a});if(!i.isTransitioning)return!1;let d=Rn(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=Rn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return hl(c.pathname,h)!=null||hl(c.pathname,d)!=null}/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,l)=>l?l.toUpperCase():i.toLowerCase()),tp=r=>{const a=qb(r);return a.charAt(0).toUpperCase()+a.slice(1)},Qp=(...r)=>r.filter((a,i,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===i).join(" ").trim(),$b=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=T.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:h,...m},g)=>T.createElement("svg",{ref:g,...Hb,width:a,height:a,stroke:r,strokeWidth:l?Number(i)*24/Number(a):i,className:Qp("lucide",c),...!d&&!$b(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,b])=>T.createElement(y,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(r,a)=>{const i=T.forwardRef(({className:l,...c},d)=>T.createElement(Gb,{ref:d,iconNode:a,className:Qp(`lucide-${Lb(tp(r))}`,`lucide-${r}`,l),...c}));return i.displayName=tp(r),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fb=je("activity",Vb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zp=je("arrow-left",Ib);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ti=je("arrow-right",Kb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pb=je("book-open",Yb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Xb=je("box",Jb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Wp=je("briefcase",Qb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ri=je("check",Zb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fl=je("chevron-right",Wb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tx=je("chevron-left",ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ax=je("circle-check-big",nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ix=je("circle-check",rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lx=je("circle-x",sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eg=je("copy",ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],cx=je("cpu",ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hx=je("database",dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mx=je("info",fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tg=je("layers",px);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ni=je("loader-circle",gx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vx=je("lock",yx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xx=je("log-out",bx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_x=je("mail",wx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ex=je("menu",Sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ax=je("mic",Tx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ng=je("play",jx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Rx=je("sparkles",Ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ag=je("terminal",Nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kx=je("trash-2",Cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dx=je("upload",Ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rg=je("x",Mx),zx=({forceMobile:r,isOpen:a,onClose:i})=>{const l=typeof a=="boolean",c=!!a;T.useEffect(()=>{if(!l||!c)return;const h=g=>{g.key==="Escape"&&(i==null||i())};window.addEventListener("keydown",h);const m=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",h),document.body.style.overflow=m}},[l,c,i]);const d=[{path:"/modules/core",label:"Core Frameworks",icon:f.jsx(tg,{size:18}),desc:"Methodologies"},{path:"/modules/general",label:"General Modules",icon:f.jsx(Xb,{size:18}),desc:"General Modules"},{path:"/modules/industry",label:"Industry Templates",icon:f.jsx(Wp,{size:18}),desc:"Industry Templates"}];return f.jsxs(f.Fragment,{children:[l&&f.jsx("div",{className:`lg:hidden fixed inset-0 z-40 ${c?"":"pointer-events-none"}`,children:f.jsx("div",{className:`absolute inset-0 bg-black/60 transition-opacity duration-200 ${c?"opacity-100":"opacity-0"}`,onClick:i})}),f.jsxs("aside",{id:"app-sidebar",className:`${l?`fixed inset-y-0 left-0 z-50 w-64 flex flex-col flex-shrink-0 bg-[#0A0F1C] border-r border-[#1F2937] transition-transform duration-200 ${c?"translate-x-0":"-translate-x-full"} pointer-events-none lg:pointer-events-auto lg:translate-x-0 lg:static lg:z-20`:`${r?"flex":"hidden lg:flex"} w-64 flex flex-col flex-shrink-0 bg-[#0A0F1C] border-r border-[#1F2937] z-20`} ${l&&c?"pointer-events-auto":""}`,children:[f.jsx("div",{className:"px-5 pt-6 pb-4",children:f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-[#9CA3AF]/60 mb-2",children:"Module Center"}),f.jsx("h2",{className:"text-sm font-semibold text-[#F9FAFB]",children:"Module Center"})]}),l&&f.jsx("button",{type:"button",onClick:i,className:"lg:hidden p-2 rounded-lg text-[#9CA3AF] hover:text-white hover:bg-[#111827] transition-colors","aria-label":"Close menu",children:f.jsx(rg,{size:16})})]})}),f.jsx("nav",{className:"flex-1 px-3 space-y-1.5",children:d.map(h=>f.jsx(Ei,{to:h.path,onClick:()=>{l&&(i==null||i())},className:({isActive:m})=>`
                w-full text-left px-4 py-3.5 rounded-xl transition-all duration-200 group relative border
                ${m?"bg-[#111827] border-[#1F2937] shadow-sm":"bg-transparent border-transparent hover:bg-[#111827]/50"}
              `,children:({isActive:m})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[f.jsx("span",{className:`transition-colors ${m?"text-[#3B82F6]":"text-[#6B7280] group-hover:text-[#9CA3AF]"}`,children:h.icon}),f.jsxs("div",{children:[f.jsx("div",{className:`text-sm font-medium leading-none mb-1.5 transition-colors ${m?"text-[#F9FAFB]":"text-[#9CA3AF] group-hover:text-[#F9FAFB]"}`,children:h.label}),f.jsx("div",{className:"text-[10px] text-[#6B7280] leading-tight font-medium",children:h.desc})]})]}),m&&f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#3B82F6]",children:f.jsx(fl,{size:14})}),m&&f.jsx("div",{className:"absolute left-0 top-3 bottom-3 w-1 bg-[#3B82F6] rounded-r-full"})]})},h.path))}),f.jsx("div",{className:"p-4 border-t border-[#1F2937]",children:f.jsxs("div",{className:"bg-[#111827]/50 border border-[#1F2937] rounded-xl p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),f.jsx("span",{className:"text-[10px] font-medium text-emerald-400",children:"System Online"})]}),f.jsx("p",{className:"text-[10px] text-[#6B7280]",children:"PromptOS v1"})]})})]})]})},Bx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"https://fuyouai.com",VITE_ENABLE_MOBILE_ENTRY:"true",VITE_SUPABASE_ANON_KEY:"sb_publishable_11G0mKSMrM5842g1W7D4WA_K5UW9Ctc",VITE_SUPABASE_URL:"https://fzhelxtappicqvaokoso.supabase.co"};function Lx(r){return typeof r!="string"||r.trim().length===0}function qx(r){var i;const a=(r==null?void 0:r.output)??(r==null?void 0:r.modelOutput)??(r==null?void 0:r.aiOutput)??(r==null?void 0:r.result)??((i=r==null?void 0:r.data)==null?void 0:i.output)??"";return typeof a=="string"?a:JSON.stringify(a??"",null,2)}async function $x(r){try{return await r.json()}catch{return{ok:!1,error:{code:"NON_JSON_RESPONSE",message:`Non-JSON response (HTTP ${r.status})`}}}}async function Hx(r){try{return await r.text()}catch{return""}}function Gx(r,a){var d,h,m,g;const i=((d=a==null?void 0:a.error)==null?void 0:d.message)||(a==null?void 0:a.message)||(a==null?void 0:a.error)||`Core run failed (HTTP ${r.status})`,l=(h=a==null?void 0:a.error)!=null&&h.hint?` | hint: ${a.error.hint}`:"",c=(m=a==null?void 0:a.meta)!=null&&m.requestId||a!=null&&a.requestId?` | requestId: ${((g=a==null?void 0:a.meta)==null?void 0:g.requestId)??(a==null?void 0:a.requestId)}`:"";return`[POST /api/core/run] ${i}${l}${c}`}function Vx(r){return((r||"").trim()||(typeof import.meta<"u"&&Bx&&"https://fuyouai.com"||"")).trim().replace(/\/+$/,"")}async function Fx(r){var S;const{coreKey:a,userInput:i,tier:l="basic",engineType:c="deepseek",industryId:d=null,timeoutMs:h=6e4,withCredentials:m=!1,apiBase:g}=r;if(!a)throw new Error("coreKey ");if(Lx(i))throw new Error("userInput ");const b=`${Vx(g)}/api/core/run`,x=new AbortController,w=setTimeout(()=>x.abort(),h);try{const E=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},signal:x.signal,credentials:m?"include":"same-origin",body:JSON.stringify({coreKey:a,tier:l,userInput:i,engineType:c,industryId:d})}),R=await $x(E);if(!E.ok||(R==null?void 0:R.ok)===!1){if(((S=R==null?void 0:R.error)==null?void 0:S.code)==="NON_JSON_RESPONSE"){const N=await Hx(E),M=N?` | body: ${N.slice(0,500)}`:"";throw new Error(`[POST /api/core/run] Non-JSON response${M}`)}throw new Error(Gx(E,R))}return{ok:!0,output:qx(R),finalPrompt:R==null?void 0:R.finalPrompt,meta:R==null?void 0:R.meta,raw:R}}catch(E){throw(E==null?void 0:E.name)==="AbortError"?new Error(`[POST /api/core/run] Request timeout after ${h}ms. | url: ${b}`):(E instanceof Error&&(E.message=`${E.message} | url: ${b}`),E)}finally{clearTimeout(w)}}const Ix={"task-decomposition-v3":"task_breakdown","reasoning-engine-v3":"cot_reasoning","content-builder-v3":"content_builder","analytical-engine-v3":"analytical_engine","task-tree-v3":"task_tree"},Kx=({status:r,message:a,onRetry:i,className:l})=>{if(r==="idle")return null;const d={loading:{bg:"bg-[#3B82F6]/10",border:"border-[#3B82F6]/20",text:"text-[#3B82F6]",icon:f.jsx(Ni,{size:18,className:"animate-spin"}),defaultMsg:"..."},success:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",icon:f.jsx(ix,{size:18}),defaultMsg:""},error:{bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400",icon:f.jsx(lx,{size:18}),defaultMsg:""}}[r];return f.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${d.bg} ${d.border} ${d.text} ${l||""} animate-in fade-in slide-in-from-top-2 duration-300`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[d.icon,f.jsx("span",{className:"text-sm font-medium",children:a||d.defaultMsg})]}),r==="error"&&i&&f.jsx("button",{onClick:i,className:"text-xs px-3 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 transition-colors",children:""})]})},rl=[{key:"task-decomposition-v3",title:"Task Decomposition",fullTitle:"Task Decomposition Framework",desc:"Turn a vague request into clear execution steps, constraints, and deliverables.",bullets:["Identify core objectives and hidden constraints","Break down into a step-by-step execution flow","Define a clear deliverable format"],prompt:"(Waiting to generate...)"},{key:"reasoning-engine-v3",title:"CoT Reasoning",fullTitle:"CoT Deep Reasoning Framework (Chain of Thought)",desc:"Force step-by-step reasoning to reduce intuition errors and handle complex logic analysis.",bullets:["Restate the problem and highlight key signals","Explore multiple reasoning paths","Converge on a verified conclusion"],prompt:"(Waiting to generate...)"},{key:"content-builder-v3",title:"Content Builder",fullTitle:"Structured Content Framework (Content Builder)",desc:"Define audience and outline first, then fill sections to keep long-form logic and tone consistent.",bullets:["Clarify audience and core pain points","Build a pyramid outline","Fill content by modules"],prompt:"(Waiting to generate...)"},{key:"analytical-engine-v3",title:"Deep Analysis",fullTitle:"Analytical Reasoning Framework (Analytical Engine)",desc:"Analyze business or social problems from a consultant view with evidence-backed recommendations.",bullets:["Define the problem boundary","Run a 3-5 dimension MECE analysis","Create an evidence-based action plan"],prompt:"(Waiting to generate...)"},{key:"task-tree-v3",title:"Task Tree",fullTitle:"Complex Task Structure (Task Tree / ToT)",desc:"Build a hierarchical task tree for large projects and mark dependencies and risks.",bullets:["Define Level 0-2 task hierarchy","Identify task dependencies","Plan an execution path"],prompt:"(Waiting to generate...)"}],Yx=()=>{const[r,a]=T.useState(rl[0].key),[i,l]=T.useState("preview"),[c,d]=T.useState(1),[h,m]=T.useState("basic"),[g,y]=T.useState("deepseek"),[b,x]=T.useState(""),[w,S]=T.useState("idle"),[E,R]=T.useState(""),[N,M]=T.useState(""),[V,U]=T.useState(""),[$,Y]=T.useState(!1),K=T.useMemo(()=>rl.find(W=>W.key===r)||rl[0],[r]),X=T.useCallback(async()=>{if(!b.trim()){alert("Please enter your request.");return}S("loading"),R(""),l("output"),d(2),M(""),Y(!1),U("");try{const W=r,I=Ix[W];if(!I)throw new Error(`Missing core-map mapping: tabKey="${W}". Please add mapping in src/data/core-map.ts.`);if(I.includes("-"))throw new Error(`Invalid mapping: coreKey="${I}" contains "-". Map "${W}" to task_tree/task_breakdown/cot_reasoning/content_builder/analytical_engine.`);console.log("[CoreRun]",{tabKey:W,coreKey:I,tier:h,engineType:g,len:b.length});const he=await Fx({coreKey:I,tier:h,userInput:b,engineType:g});M(he.output??""),S("success"),he.finalPrompt&&U(he.finalPrompt)}catch(W){S("error"),R((W==null?void 0:W.message)??String(W))}},[r,b,h,g]),oe=T.useCallback(async()=>{const W=i==="preview"?V||K.prompt||"":N||"";if(W.trim())try{await navigator.clipboard.writeText(W),Y(!0),window.setTimeout(()=>Y(!1),1200)}catch{try{const I=document.createElement("textarea");I.value=W,I.style.position="fixed",I.style.left="-9999px",I.style.top="-9999px",document.body.appendChild(I),I.focus(),I.select(),document.execCommand("copy"),document.body.removeChild(I),Y(!0),window.setTimeout(()=>Y(!1),1200)}catch(I){console.error("Copy failed",I)}}},[i,V,N,K.prompt]);return f.jsxs("div",{className:"flex flex-col w-full h-full",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#9CA3AF] mb-2 pt-2",children:[f.jsx(en,{to:"/modules",className:"hover:text-[#F9FAFB] transition-colors",children:"Module Center"}),f.jsx("span",{className:"text-[#4B5563]",children:"/"}),f.jsx("span",{className:"text-[#F9FAFB]",children:"Core Frameworks"})]}),f.jsxs("div",{className:"relative pt-4 pb-10 text-center z-10",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-[32px] leading-tight font-semibold text-[#F9FAFB] tracking-tight mb-2 drop-shadow-sm",children:"Core Frameworks (Core Methodologies)"}),f.jsx("p",{className:"text-[#9CA3AF] text-sm sm:text-base leading-relaxed max-w-2xl mx-auto mb-8",children:"Five core engines based on CoT and structured engineering to keep AI output stable and controllable."}),f.jsx("div",{className:"inline-flex p-1 bg-[#111827] border border-[#1F2937] rounded-xl shadow-lg",children:rl.map(W=>{const I=r===W.key;return f.jsx("button",{onClick:()=>{a(W.key),d(1),S("idle"),R(""),M(""),U(""),Y(!1)},className:`
                  px-5 py-2 rounded-lg text-sm font-medium transition-all duration-200
                  ${I?"bg-[#3B82F6] text-white shadow-md shadow-blue-900/20":"text-[#9CA3AF] hover:text-[#F9FAFB] hover:bg-[#1F2937]"}
                `,children:W.title},W.key)})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_480px] gap-8 items-start pb-20",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-[#111827] border border-[#1F2937] rounded-2xl p-6 shadow-sm",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-medium text-[#F9FAFB] mb-2",children:K.fullTitle}),f.jsx("p",{className:"text-[#9CA3AF] text-sm leading-relaxed max-w-xl",children:K.desc})]}),f.jsx("div",{className:"p-2 bg-[#3B82F6]/10 rounded-lg text-[#3B82F6]",children:f.jsx(mx,{size:20})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:K.bullets.map((W,I)=>f.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#9CA3AF] bg-[#1F2937]/50 px-3 py-2 rounded-lg border border-[#1F2937]",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#3B82F6] flex-shrink-0"}),W]},I))})]}),f.jsxs("div",{className:"bg-[#111827] border border-[#1F2937] rounded-2xl overflow-hidden shadow-xl shadow-black/20",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-[#1F2937] flex items-center gap-3 bg-[#1F2937]/30",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold border ${c===1?"border-[#3B82F6] text-[#3B82F6] bg-[#3B82F6]/10":"border-emerald-500 text-emerald-400 bg-emerald-500/10"}`,children:c===1?"1":f.jsx(Ri,{size:16})}),f.jsx("span",{className:"text-sm font-medium text-[#F9FAFB]",children:c===1?"Input Context":"Execution Done"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("textarea",{value:b,onChange:W=>x(W.target.value),placeholder:`Enter your task here...
Example: Break down an annual growth goal for a SaaS product, including marketing spend and sales conversion.`,className:"w-full h-[240px] bg-[#0A0F1C] border border-[#1F2937] rounded-xl p-5 text-[15px] text-[#F9FAFB] placeholder:text-[#6B7280] focus:outline-none focus:border-[#3B82F6]/50 focus:ring-1 focus:ring-[#3B82F6]/20 transition-all resize-none leading-relaxed"}),f.jsx("div",{className:"mt-6 flex sm:justify-end",children:f.jsxs("button",{onClick:X,disabled:w==="loading"||!b.trim(),className:"w-full sm:w-auto flex items-center gap-2 px-8 py-3 bg-[#3B82F6] hover:bg-blue-600 text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-900/30 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[w==="loading"?f.jsx(Ni,{size:18,className:"animate-spin"}):f.jsx(ng,{size:18,fill:"currentColor"}),w==="loading"?"Generating...":"Generate Prompt & Run"]})})]})]})]}),f.jsxs("div",{className:"sticky top-6 flex flex-col h-[640px] bg-[#111827] border border-[#1F2937] rounded-2xl overflow-hidden shadow-xl shadow-black/40",children:[f.jsxs("div",{className:"flex items-center border-b border-[#1F2937] bg-[#1F2937]/30",children:[f.jsxs("button",{onClick:()=>l("preview"),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors relative ${i==="preview"?"text-[#3B82F6]":"text-[#9CA3AF] hover:text-[#F9FAFB]"}`,children:[f.jsx(ag,{size:16}),"Prompt Preview",i==="preview"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#3B82F6]"})]}),f.jsx("div",{className:"w-[1px] h-6 bg-[#1F2937]"}),f.jsxs("button",{onClick:()=>l("output"),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 transition-colors relative ${i==="output"?"text-emerald-400":"text-[#9CA3AF] hover:text-[#F9FAFB]"}`,children:[f.jsx(Rx,{size:16}),"AI Output",i==="output"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-500"})]})]}),w!=="idle"&&w!=="success"&&f.jsx("div",{className:"px-4 pt-4",children:f.jsx(Kx,{status:w,message:E,onRetry:X})}),f.jsxs("div",{className:"flex-1 overflow-hidden relative bg-[#0A0F1C]/50",children:[f.jsx("div",{className:"absolute top-4 right-4 z-10",children:f.jsx("button",{onClick:oe,className:"p-2 rounded-lg bg-[#1F2937] border border-[#374151] text-[#9CA3AF] hover:text-white transition-colors",title:"Copy content",children:$?f.jsx(Ri,{size:14,className:"text-green-500"}):f.jsx(eg,{size:14})})}),i==="preview"&&f.jsx("div",{className:"h-full overflow-y-auto p-6 custom-scrollbar",children:f.jsx("pre",{className:"font-mono text-xs md:text-sm text-[#D1D5DB] whitespace-pre-wrap leading-relaxed",children:V||K.prompt||"// Waiting for finalPrompt from the backend..."})}),i==="output"&&f.jsx("div",{className:"h-full overflow-y-auto p-6 custom-scrollbar",children:N?f.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:f.jsx("pre",{className:"whitespace-pre-wrap font-sans text-[15px] text-[#E5E7EB] leading-[1.7]",children:N})}):f.jsx("div",{className:"h-full flex flex-col items-center justify-center text-[#6B7280] space-y-3",children:w==="loading"?f.jsxs(f.Fragment,{children:[f.jsx(Ni,{size:32,className:"animate-spin text-[#3B82F6]"}),f.jsx("span",{className:"text-sm",children:"Thinking..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(cx,{size:32,className:"opacity-20"}),f.jsx("span",{className:"text-sm opacity-50",children:"Run to see results here."})]})})})]})]})]})]})},Xu={};var Qu={};const Px=typeof import.meta<"u"&&(Xu==null?void 0:Xu.VITE_PROMPTOS_API_BASE)||typeof process<"u"&&(Qu==null?void 0:Qu.REACT_APP_PROMPTOS_API_BASE)||"https://fuyouai-promptos.vercel.app";async function Cc(){const r=`${Px}/api/registry`,a=await fetch(r);if(!a.ok)throw new Error(`fetchRegistry failed: ${a.status}`);return a.json()}const Jx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE:"https://fuyouai.com",VITE_ENABLE_MOBILE_ENTRY:"true",VITE_SUPABASE_ANON_KEY:"sb_publishable_11G0mKSMrM5842g1W7D4WA_K5UW9Ctc",VITE_SUPABASE_URL:"https://fzhelxtappicqvaokoso.supabase.co"};function np(r){return typeof r!="string"||r.trim().length===0}function Xx(r){var i;const a=(r==null?void 0:r.output)??(r==null?void 0:r.modelOutput)??(r==null?void 0:r.aiOutput)??(r==null?void 0:r.result)??((i=r==null?void 0:r.data)==null?void 0:i.output)??"";return typeof a=="string"?a:JSON.stringify(a??"",null,2)}async function Qx(r){try{return await r.json()}catch{return{ok:!1,error:{code:"NON_JSON_RESPONSE",message:`Non-JSON response (HTTP ${r.status})`}}}}async function Zx(r){try{return await r.text()}catch{return""}}function Wx(r,a,i){var h,m,g,y;const l=((h=i==null?void 0:i.error)==null?void 0:h.message)||(i==null?void 0:i.message)||(i==null?void 0:i.error)||`${r} failed (HTTP ${a.status})`,c=(m=i==null?void 0:i.error)!=null&&m.hint?` | hint: ${i.error.hint}`:"",d=(g=i==null?void 0:i.meta)!=null&&g.requestId||i!=null&&i.requestId?` | requestId: ${((y=i==null?void 0:i.meta)==null?void 0:y.requestId)??(i==null?void 0:i.requestId)}`:"";return`${r} ${l}${c}${d}`}function ew(r){return((r||"").trim()||(typeof import.meta<"u"&&Jx&&"https://fuyouai.com"||"")).trim().replace(/\/+$/,"")}async function tw(r){var S;const{promptKey:a,userInput:i,engineType:l,mode:c,options:d,timeoutMs:h=6e4,withCredentials:m=!1,apiBase:g}=r;if(np(a))throw new Error("promptKey ");if(np(i))throw new Error("userInput ");const b=`${ew(g)}/api/generate`,x=new AbortController,w=setTimeout(()=>x.abort(),h);try{const E={promptKey:String(a).trim(),userInput:String(i)};l&&l!=="auto"&&(E.engineType=l),c&&(E.mode=c),d&&typeof d=="object"&&(E.options=d);const R=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},signal:x.signal,credentials:m?"include":"same-origin",body:JSON.stringify(E)}),N=await Qx(R);if(!R.ok||(N==null?void 0:N.ok)===!1){if(((S=N==null?void 0:N.error)==null?void 0:S.code)==="NON_JSON_RESPONSE"){const M=await Zx(R),V=M?` | body: ${M.slice(0,500)}`:"";throw new Error(`[POST /api/run] Non-JSON response${V}`)}throw new Error(Wx("[POST /api/run]",R,N))}return{ok:!0,output:Xx(N),finalPrompt:N==null?void 0:N.finalPrompt,meta:N==null?void 0:N.meta,raw:N}}catch(E){throw(E==null?void 0:E.name)==="AbortError"?new Error(`[POST /api/run] Request timeout after ${h}ms. | url: ${b}`):(E instanceof Error&&(E.message=`${E.message} | url: ${b}`),E)}finally{clearTimeout(w)}}function ap(){return typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`}function Zu(r){if(r<1024)return`${r} B`;const a=r/1024;return a<1024?`${a.toFixed(1)} KB`:`${(a/1024).toFixed(1)} MB`}const rp=8e3,ig=({moduleKey:r,moduleData:a,onBack:i})=>{const[l,c]=T.useState(""),[d,h]=T.useState("idle"),[m,g]=T.useState(""),[y,b]=T.useState(!1),[x,w]=T.useState([]),[S,E]=T.useState(null),R=T.useRef(null),N=T.useRef(null),[M,V]=T.useState(!1),[U,$]=T.useState(!1),[Y,K]=T.useState(""),X=!!r&&!!l.trim()&&d!=="loading",oe=T.useMemo(()=>S?x.find(F=>F.id===S)??null:null,[x,S]),W=T.useMemo(()=>{const F=l.trim();if(x.length===0)return F;const ee=x.map(ue=>`

---
Attachment${ue.name}
${ue.text}`).join("");return F?`${F}${ee}`:`Attachment Content${ee}`},[l,x]);T.useEffect(()=>{var F,ee;g(""),h("idle"),c(""),w([]),E(null);try{(ee=(F=N.current)==null?void 0:F.stop)==null||ee.call(F)}catch{}$(!1),K("")},[r]),T.useEffect(()=>{const F=window,ee=F.SpeechRecognition||F.webkitSpeechRecognition;if(!ee){V(!1);return}V(!0);const ue=new ee;return ue.lang="zh-CN",ue.continuous=!0,ue.interimResults=!0,ue.onresult=A=>{var Q;let H="",P="";for(let re=A.resultIndex;re<A.results.length;re++){const ce=A.results[re],ye=((Q=ce==null?void 0:ce[0])==null?void 0:Q.transcript)??"";ce.isFinal?P+=ye:H+=ye}P.trim()&&c(re=>(re.trim()?re+`
`:"")+P.trim()),K(H)},ue.onerror=()=>{$(!1),K("")},ue.onend=()=>{$(!1),K("")},N.current=ue,()=>{try{ue.stop()}catch{}N.current=null}},[]);const I=()=>{const F=N.current;if(F)try{F.start(),$(!0),K("")}catch{}},he=()=>{const F=N.current;if(F){try{F.stop()}catch{}$(!1),K("")}},Oe=()=>{var F;(F=R.current)==null||F.click()},Xe=async F=>{var et;const ee=(et=F.target.files)==null?void 0:et[0];if(!ee)return;F.target.value="";const ue=await ee.text(),A={id:ap(),name:ee.name,text:ue,size:ee.size},P=l.length+x.reduce((Ee,tn)=>Ee+tn.text.length,0)+ue.length;if(P>rp){alert(` ${P}  ${rp}
`);return}w(Ee=>[A,...Ee]),E(A.id);const Q=ee.name.toLowerCase(),re=ee.type==="text/plain"||Q.endsWith(".txt"),ce=Q.endsWith(".md");if(!re&&!ce){alert(" .txt / .md ");return}const ye=500*1024;if(ee.size>ye){alert(`${Zu(ee.size)} ${Zu(ye)}`);return}try{const Ee=await ee.text(),tn={id:ap(),name:ee.name,text:Ee,size:ee.size};w(Na=>[tn,...Na]),E(tn.id)}catch(Ee){console.error(Ee),alert("")}},De=F=>{w(ee=>ee.filter(ue=>ue.id!==F)),E(ee=>{if(ee!==F)return ee;const ue=x.filter(A=>A.id!==F);return ue.length?ue[0].id:null})},We=()=>{w([]),E(null)},B=async()=>{if(X){h("loading"),g(""),U&&he();try{const F=await tw({promptKey:r,userInput:W}),ee=((F==null?void 0:F.output)??(F==null?void 0:F.text)??(F==null?void 0:F.modelOutput)??"").toString();g(ee.trim()?ee:"AI returned empty response."),h("success")}catch(F){const ee=F instanceof Error?F.message:"Execution failed";g(ee),h("error")}}},J=async()=>{if(m)try{await navigator.clipboard.writeText(m),b(!0),setTimeout(()=>b(!1),1500)}catch{}};return f.jsxs("div",{className:"h-full bg-[#111827] border border-[#1F2937] rounded-xl flex flex-col",children:[f.jsx("div",{className:"p-4 border-b border-[#1F2937] flex justify-between items-center",children:f.jsxs("div",{className:"flex items-center gap-3",children:[i&&f.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:f.jsx(Zp,{size:18})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-white font-semibold",children:a.title}),f.jsxs("div",{className:"text-xs text-blue-400",children:["Sub-feature",a.variant.label??""]}),f.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:["promptKey: ",r]})]})]})}),f.jsxs("div",{className:"p-4 sm:p-6 flex flex-col gap-4 flex-1 min-h-0 w-full",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[f.jsxs("div",{className:"text-xs text-gray-400",children:["Attachment",x.length?`${x.length} `:"None"," ",x.length?f.jsx("span",{className:"ml-2 text-gray-500",children:""}):null]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsxs("button",{type:"button",disabled:!M,onClick:()=>U?he():I(),className:`px-3 py-1.5 rounded-lg text-xs border bg-[#0A0F1C] flex items-center gap-2 ${M?U?"border-red-500 text-red-300 hover:bg-red-500/10":"border-[#374151] text-gray-200 hover:bg-[#1F2937]":"border-[#1F2937] text-gray-500 cursor-not-allowed"}`,title:M?"Voice Input (Chrome / Edge recommended)":"This browser does not support voice input.",children:[f.jsx(Ax,{size:14}),U?"Stop Voice Input":"Voice Input"]}),f.jsx("input",{ref:R,type:"file",accept:".txt,.md,text/plain",className:"hidden",onChange:Xe}),f.jsxs("button",{type:"button",onClick:Oe,className:"px-3 py-1.5 rounded-lg text-xs border border-[#374151] bg-[#0A0F1C] text-gray-200 hover:bg-[#1F2937] flex items-center gap-2",title:" .txt/.md ",children:[f.jsx(Dx,{size:14}),"Upload"]}),f.jsxs("button",{type:"button",onClick:We,disabled:x.length===0,className:`px-3 py-1.5 rounded-lg text-xs border bg-[#0A0F1C] flex items-center gap-2 ${x.length?"border-[#374151] text-gray-200 hover:bg-[#1F2937]":"border-[#1F2937] text-gray-500 cursor-not-allowed"}`,title:"",children:[f.jsx(kx,{size:14}),"Clear"]})]})]}),U&&Y&&f.jsxs("div",{className:"text-xs text-gray-400 bg-[#0A0F1C] border border-[#1F2937] rounded-lg p-2",children:["",f.jsx("span",{className:"text-gray-200",children:Y})]}),x.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(F=>{const ee=F.id===S;return f.jsxs("div",{className:`flex items-center gap-1 rounded-lg border px-2 py-1 ${ee?"bg-blue-500/20 border-blue-500 text-white":"bg-[#0A0F1C] border-[#374151] text-gray-300"}`,children:[f.jsxs("button",{type:"button",onClick:()=>E(F.id),className:"text-xs",title:"",children:[F.name,f.jsx("span",{className:"ml-2 text-[10px] text-gray-400",children:Zu(F.size)})]}),f.jsx("button",{type:"button",onClick:()=>De(F.id),className:"ml-1 text-gray-400 hover:text-white",title:"Remove Attachment","aria-label":"Remove attachment",children:f.jsx(rg,{size:14})})]},F.id)})}),oe&&f.jsxs("div",{className:"bg-[#0A0F1C] border border-[#1F2937] rounded-lg p-3 text-gray-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"text-xs text-gray-300",children:["",f.jsx("span",{className:"text-emerald-400",children:oe.name})]}),f.jsx("button",{type:"button",onClick:()=>E(null),className:"text-xs text-gray-400 hover:text-white",children:""})]}),f.jsx("pre",{className:"text-xs whitespace-pre-wrap max-h-[160px] overflow-auto text-gray-300",children:oe.text.length>4e3?oe.text.slice(0,4e3)+`

...()`:oe.text})]}),f.jsx("textarea",{className:"w-full min-h-[160px] lg:min-h-[220px] bg-[#0A0F1C] border border-[#1F2937] rounded-lg p-3 text-white",placeholder:"Describe your task... (Voice input enabled; attachments are processed automatically)",value:l,onChange:F=>c(F.target.value)}),f.jsx("button",{disabled:!X,onClick:B,className:`px-5 py-2 rounded-lg flex items-center gap-2 text-sm ${X?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:d==="loading"?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"h-3 w-3 rounded-full border border-white/60 border-t-transparent animate-spin"}),"Loading"]}):f.jsxs(f.Fragment,{children:[f.jsx(ng,{size:16})," Generate"]})}),m&&f.jsxs("div",{className:"relative bg-[#0A0F1C] border border-[#1F2937] rounded-lg p-4 text-gray-200 whitespace-pre-wrap",children:[f.jsx("button",{onClick:J,className:"absolute top-2 right-2 text-xs text-gray-400 hover:text-white","aria-label":"Copy result",title:"Copy",children:y?f.jsx(Ri,{size:14}):f.jsx(eg,{size:14})}),m]})]})]})},nw=[{key:"all",label:"All"},{key:"analysis",label:"Analysis"},{key:"creation",label:"Content Creation"},{key:"business",label:"Business"},{key:"academic",label:"Academic Research"},{key:"tech",label:"Technology"},{key:"role",label:"Role"},{key:"tool",label:"Tools"},{key:"other",label:"Other"}],aw=["writing_master","summarizer","copywriter","role_playing","storyteller","rewriter","deep_analysis","researcher"],Wu=8,rw={writing_master:"creation",summarizer:"creation",copywriter:"creation",storyteller:"creation",rewriter:"creation",writing_editor_inspector:"creation",writing_polish:"creation",deep_analysis:"analysis",researcher:"analysis",market_insights:"analysis",data_interpreter:"analysis",interview_gen:"analysis",decision_maker:"analysis",paper_reader:"academic",academic_study:"academic",course_design:"academic",explainer:"academic",ppt_architect:"business",email_pro:"business",pitch_deck:"business",product_spec:"business",pm_okr:"business",biz_model:"business",role_playing:"role",sop_engine:"tech",tech_stack:"tech",debugger:"tech",meta_prompt:"tool",multi_agent:"tech",no_code:"tech",risk_control:"tool",knowledge_base:"tool"};function iw(r){const a=(r??"").trim().toLowerCase();return a==="analysis"||a==="creation"||a==="business"||a==="academic"||a==="tech"||a==="role"||a==="tool"||a==="other"?a:"other"}function ip(r){if(r.category&&r.category!=="all")return r.category;const a=rw[r.frontModuleId];return a||(r.group?iw(r.group):"other")}function sw(){var X,oe,W;const r=ln(),a=Mt(),i=new URLSearchParams(a.search).get("debug")==="1",[l,c]=T.useState([]),[d,h]=T.useState("all"),[m,g]=T.useState(""),[y,b]=T.useState(""),[x,w]=T.useState(null),[S,E]=T.useState(!1),[R,N]=T.useState(!1);T.useEffect(()=>{m.trim()?N(!0):N(!1)},[m]),T.useEffect(()=>{if(typeof window>"u")return;const I=window.matchMedia("(min-width: 1024px)"),he=()=>E(I.matches);return he(),I.addEventListener?(I.addEventListener("change",he),()=>I.removeEventListener("change",he)):(I.addListener(he),()=>I.removeListener(he))},[]),T.useEffect(()=>{Cc().then(I=>{const he=I.data??[];c(he),he.length&&b(he[0].frontModuleId)})},[]);const M=T.useMemo(()=>{const I=m.trim().toLowerCase();return l.filter(he=>{const Oe=ip(he),Xe=d==="all"?!0:Oe===d,De=(he.frontModuleLabel??"").toLowerCase(),We=(he.frontModuleId??"").toLowerCase(),B=I?De.includes(I)||We.includes(I):!0;return Xe&&B})},[l,d,m]),V=T.useMemo(()=>{if(d!=="all")return[];const I=new Map(l.map(De=>[De.frontModuleId,De])),he=[];aw.forEach(De=>{const We=I.get(De);We&&he.push(We)});const Oe=new Set(he.map(De=>De.frontModuleId)),Xe=M.filter(De=>!Oe.has(De.frontModuleId));return he.concat(Xe).slice(0,Wu)},[l,M,d]),U=T.useMemo(()=>m.trim()||R?M:d==="all"?V:M.slice(0,Wu),[M,m,R,d,V]);T.useEffect(()=>{U.length&&(!y||!U.some(I=>I.frontModuleId===y))&&(b(U[0].frontModuleId),w(null))},[U,y]);const $=T.useMemo(()=>l.find(I=>I.frontModuleId===y),[l,y]),Y=(X=$==null?void 0:$.variants)==null?void 0:X.find(I=>I.variantId===x),K=((W=(oe=Y==null?void 0:Y.backendModules)==null?void 0:oe[0])==null?void 0:W.promptKey)??"";return f.jsxs("div",{className:"relative flex flex-col flex-1 min-h-0",children:[i?f.jsxs("div",{className:"fixed bottom-2 left-2 right-2 z-[9999] rounded-lg bg-black/70 text-white text-xs p-2 lg:hidden",children:["modules: ",l.length," | visible: ",U.length," | category: ",d," | keyword:"," ",m||"(empty)"]}):null,f.jsxs("div",{className:"pointer-events-none absolute inset-0 hidden lg:block",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(800px_420px_at_60%_10%,rgba(59,130,246,0.14),rgba(10,15,28,0)_65%),radial-gradient(700px_380px_at_30%_20%,rgba(16,185,129,0.12),rgba(10,15,28,0)_65%),radial-gradient(120%_80%_at_50%_20%,rgba(0,0,0,0)_55%,rgba(0,0,0,0.6)_100%)]"}),f.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[length:48px_48px]"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:gap-8 xl:gap-10 flex-1 min-h-0 relative lg:grid-cols-[360px_minmax(0,1fr)]",children:[f.jsxs("div",{className:"w-full lg:w-[360px] min-w-0 min-h-0 border border-[#1F2937] rounded-2xl bg-[#111827]/80 backdrop-blur p-3 flex flex-col shadow-[0_20px_60px_-40px_rgba(15,23,42,0.9),0_0_0_1px_rgba(59,130,246,0.06)]",children:[f.jsx("div",{className:"flex flex-nowrap md:flex-wrap gap-2 mb-3 overflow-x-auto pb-1",children:nw.map(I=>f.jsx("button",{onClick:()=>{h(I.key)},className:`px-3 py-1.5 rounded-lg text-xs border transition-colors ${d===I.key?"bg-blue-500/20 border-blue-500 text-white":"bg-[#0A0F1C] border-[#374151] text-gray-300 hover:bg-[#1F2937]"}`,children:I.label},I.key))}),f.jsx("div",{className:"mb-3",children:f.jsx("input",{value:m,onChange:I=>g(I.target.value),placeholder:"Search by module ID or name",className:"w-full px-3 py-2 rounded-lg text-sm bg-[#0A0F1C] border border-[#374151] text-white placeholder:text-gray-500 focus:outline-none focus:border-blue-500"})}),f.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain custom-scrollbar pr-1",children:[U.map(I=>{var he;return f.jsx("button",{onClick:()=>{S?(b(I.frontModuleId),w(null)):r(`/modules/general/${I.frontModuleId}`)},className:`w-full text-left p-3 rounded-lg mb-1 border transition-colors ${y===I.frontModuleId?"bg-blue-500/10 border-blue-400/30":"border-transparent hover:bg-[#1F2937]/70"}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:y===I.frontModuleId?"text-white":"text-white/80",children:I.frontModuleLabel??I.frontModuleId}),f.jsxs("div",{className:y===I.frontModuleId?"text-xs text-gray-300 mt-1":"text-xs text-white/40 mt-1",children:["Variants: ",((he=I.variants)==null?void 0:he.length)??0]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[f.jsx("span",{className:"text-[10px] font-mono",children:ip(I)}),f.jsx(fl,{size:14})]})]})},I.frontModuleId)}),!m.trim()&&M.length>Wu?f.jsx("button",{type:"button",onClick:()=>N(I=>!I),className:"w-full mt-2 px-4 py-2 rounded-lg border border-[#1F2937] text-xs text-[#9CA3AF] hover:text-white hover:bg-[#1F2937] transition-colors",children:R?"Show less":`View all (${M.length})`}):null]})]}),f.jsx("div",{className:"hidden lg:flex flex-[2] min-w-0 min-h-0",children:f.jsx("div",{className:"w-full min-w-0 max-w-none h-full border border-white/10 rounded-3xl bg-[#0E1526]/60 p-6 lg:p-8 xl:p-10 shadow-[0_20px_80px_rgba(0,0,0,0.35)]",children:$?f.jsx(f.Fragment,{children:f.jsx("div",{className:"mx-auto w-full max-w-[1040px]",children:x&&Y&&K?f.jsx(ig,{moduleType:"general",moduleKey:K,moduleData:{title:$.frontModuleLabel??$.frontModuleId,desc:Y.label||Y.variantId,promptPreview:"",variant:Y},onBack:()=>w(null)}):x&&!K?f.jsx("div",{className:"text-sm text-gray-400",children:"Missing promptKey. This variant cannot run yet."}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:$.frontModuleLabel??$.frontModuleId}),f.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Module ID: ",$.frontModuleId]}),f.jsx("div",{className:"space-y-2",children:($.variants??[]).length?($.variants??[]).map(I=>f.jsxs("button",{type:"button",onClick:()=>w(I.variantId),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors flex items-center justify-between gap-3 ${x===I.variantId?"border-blue-500/40 bg-blue-500/10":"border-[#1F2937] hover:bg-[#1F2937]"}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white/90 font-medium",children:I.label||I.variantId}),I.description?f.jsx("div",{className:"text-xs text-white/40 mt-1",children:I.description}):null]}),f.jsx(fl,{size:16,className:"text-[#6B7280]"})]},I.variantId)):f.jsx("div",{className:"text-sm text-gray-400",children:"No variants available."})})]})})}):f.jsx("div",{className:"text-sm text-gray-400",children:"No module selected."})})})]})]})}const lw=({tabs:r,activeId:a,onChange:i})=>f.jsx("div",{className:"flex items-center gap-1 border-b border-slate-800 mb-6 overflow-x-auto custom-scrollbar pb-1",children:r.map(l=>{const c=l.id===a;return f.jsxs("button",{onClick:()=>i(l.id),className:`
              relative px-4 py-3 text-sm font-medium transition-all whitespace-nowrap
              ${c?"text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-900/30 rounded-t-lg"}
            `,children:[l.label,c&&f.jsx("span",{className:"absolute left-0 right-0 bottom-0 h-0.5 bg-emerald-500 shadow-[0_-2px_6px_rgba(16,185,129,0.3)]"})]},l.id)})}),ow=[{id:"f1",industryId:"finance",title:"Industry Research Report Outline",desc:"Generate a broker/consulting-style research report structure from the given topic.",level:"Advanced",promptPreview:`# Role
Investment Analyst

# Task
Generate a structured research report outline for [Topic].

# Structure
1. Executive Summary
2. Industry Overview
3. Competitive Landscape
4. Investment Risks`},{id:"f2",industryId:"finance",title:"Rapid Earnings Report Review",desc:"Input key points and output structured analysis and investment-angle commentary.",level:"Pro",promptPreview:`# Role
Financial Analyst

# Task
Analyze the provided financial report highlights.

# Output
- Key Metrics Analysis
- YoY/QoQ Growth
- Management Guidance Interpretation`},{id:"p1",industryId:"product",title:"PRD Requirements Doc Generator",desc:"Generate a standard PRD structure and feature description from a one-line idea.",level:"Advanced",promptPreview:`# Role
Senior Product Manager

# Task
Draft a PRD based on the user's idea.

# Sections
1. Background & Goals
2. User Stories
3. Functional Requirements
4. Success Metrics`},{id:"p2",industryId:"product",title:"Competitive Analysis Comparison Table",desc:"Generate a multi-dimension comparison table and differences summary.",level:"Basic",promptPreview:`# Role
Product Strategist

# Task
Compare [Product A] vs [Product B].

# Output
Markdown Table comparing:
- Core Features
- Pricing Strategy
- UX/UI
- Target Audience`},{id:"re1",industryId:"real-estate",title:"Project Pitch Script",desc:"Generate scripts for different customer segments.",level:"Basic",promptPreview:`# Role
Real Estate Agent

# Task
Generate sales scripts for a new property.`},{id:"op1",industryId:"operation",title:"Event Planning SOP",desc:"End-to-end SOP from goals to execution details.",level:"Basic",promptPreview:`# Role
Operations Manager

# Task
Create an event planning SOP.`},{id:"ac1",industryId:"academic",title:"Abstract Rewrite",desc:"Optimize the abstract to match journal submission style.",level:"Advanced",promptPreview:`# Role
Academic Editor

# Task
Rewrite the abstract for clarity and impact.`},{id:"dev1",industryId:"developer",title:"Code Review Assistant",desc:"Find bugs and produce optimization suggestions.",level:"Advanced",promptPreview:`# Role
Senior Engineer

# Task
Review the code for bugs, performance, and readability.`},{id:"bus1",industryId:"business",title:"Business Negotiation Email",desc:"High-EQ negotiation messaging.",level:"Basic",promptPreview:`# Role
Negotiation Expert

# Task
Draft a negotiation email.`},{id:"cr1",industryId:"creator",title:"Viral Post Copy",desc:"Generate clicky titles and emoji-rich body text.",level:"Basic",promptPreview:`# Role
Social Media Manager

# Task
Write a viral post for XiaoHongShu (Red Note).`}],sp=[{id:"finance",label:"Finance"},{id:"product",label:"Product"},{id:"real-estate",label:"Real Estate"},{id:"operation",label:"Operations"},{id:"academic",label:"Academic"},{id:"developer",label:"Developer"},{id:"business",label:"Business"},{id:"creator",label:"Creator"}],uw=()=>{const[r,a]=T.useState(sp[0].id),i=ow.filter(c=>c.industryId===r),l=c=>{window.alert("This industry template is under construction. Please stay tuned.")};return f.jsxs("div",{className:"flex flex-col w-full h-full pb-20",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#9CA3AF] mb-6 pt-2",children:[f.jsx(en,{to:"/modules",className:"hover:text-[#F9FAFB] transition-colors",children:"Module Center"}),f.jsx("span",{className:"text-[#4B5563]",children:"/"}),f.jsx("span",{className:"text-[#F9FAFB]",children:"Industry Templates"})]}),f.jsxs("div",{className:"relative pt-0 pb-10 text-center z-10",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#3B82F6]/10 border border-[#3B82F6]/20 text-[#3B82F6] text-xs font-medium mb-6",children:[f.jsx(Wp,{size:12}),f.jsx("span",{children:"Industry Solutions"})]}),f.jsx("h1",{className:"text-[32px] font-semibold text-[#F9FAFB] tracking-tight mb-2 drop-shadow-sm",children:"Industry-Grade Templates"}),f.jsx("p",{className:"text-[#9CA3AF] text-base max-w-2xl mx-auto mb-8",children:"High-precision templates for different roles and scenarios so AI feels like a colleague who knows your industry."}),f.jsx("div",{className:"flex justify-center px-6",children:f.jsx(lw,{tabs:sp,activeId:r,onChange:a})})]}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:i.length>0?i.map(c=>f.jsxs("div",{className:"group relative flex flex-col justify-between rounded-2xl border border-[#1F2937] bg-[#111827] p-6 hover:bg-[#1A1D24] hover:border-[#3B82F6]/50 transition-all duration-300 hover:shadow-[0_0_30px_rgba(59,130,246,0.15)] hover:-translate-y-1",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"p-2.5 bg-[#1F2937] rounded-xl text-[#9CA3AF] group-hover:text-[#3B82F6] group-hover:bg-[#3B82F6]/10 transition-colors border border-[#374151] group-hover:border-[#3B82F6]/20",children:f.jsx(Pb,{size:20})}),f.jsx("span",{className:`text-[10px] px-2.5 py-1 rounded-full border font-medium ${c.level==="Pro"?"border-amber-500/30 text-amber-400 bg-amber-500/10":"border-[#374151] text-[#6B7280] bg-[#1F2937]"}`,children:c.level})]}),f.jsx("h2",{className:"text-lg font-bold text-[#F9FAFB] mb-2 group-hover:text-[#3B82F6] transition-colors",children:c.title}),f.jsx("p",{className:"text-sm text-[#9CA3AF] leading-relaxed group-hover:text-[#D1D5DB]",children:c.desc})]}),f.jsxs("button",{onClick:()=>l(),className:"mt-8 pt-4 border-t border-[#1F2937] flex items-center justify-between w-full text-left",children:[f.jsx("span",{className:"text-xs font-bold text-[#6B7280] group-hover:text-white transition-colors uppercase tracking-wider",children:"Use Template"}),f.jsx(Ti,{size:14,className:"group-hover:translate-x-1 transition-transform text-[#3B82F6]"})]})]},c.id)):f.jsx("div",{className:"col-span-3 py-20 text-center text-[#6B7280]",children:"No templates available for this category."})})]})};function lp(){const r=ln(),{moduleId:a,variantId:i}=Vp(),[l,c]=T.useState([]),[d,h]=T.useState(!0);T.useEffect(()=>{let y=!0;return Cc().then(b=>{y&&(c(b.data??[]),h(!1))}).catch(()=>{y&&(c([]),h(!1))}),()=>{y=!1}},[]);const m=T.useMemo(()=>l.find(y=>y.frontModuleId===a),[l,a]),g=(m==null?void 0:m.variants)??[];return f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-1.5 text-xs text-[#9CA3AF] hover:text-white transition-colors",children:[f.jsx(tx,{size:14}),"Back"]})}),f.jsx("div",{className:"border border-[#1F2937] rounded-xl bg-[#111827] p-5",children:d?f.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):m?f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:m.frontModuleLabel??m.frontModuleId}),f.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Module ID: ",m.frontModuleId]}),i?f.jsxs("div",{className:"text-xs text-emerald-400 mb-4",children:["Selected: ",i]}):null,f.jsx("div",{className:"space-y-2",children:g.length?g.map(y=>f.jsxs("button",{type:"button",onClick:()=>{console.log("variant click",{moduleId:m.frontModuleId,variantId:y.variantId}),r(`/modules/general/${m.frontModuleId}/${y.variantId}/run`)},className:`w-full text-left px-4 py-3 rounded-lg border transition-colors flex items-center justify-between gap-3 cursor-pointer ${i===y.variantId?"border-blue-500/40 bg-blue-500/10":"border-[#1F2937] hover:bg-[#1F2937]"}`,children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-white font-medium",children:y.label||y.name||y.variantId}),y.description?f.jsx("div",{className:"text-xs text-gray-400 mt-1",children:y.description}):null]}),f.jsx(fl,{size:16,className:"text-[#6B7280]"})]},y.variantId)):f.jsx("div",{className:"text-sm text-gray-400",children:"No variants found"})})]}):f.jsx("div",{className:"text-sm text-gray-400",children:"Module not found"})})]})}function cw(){var x,w;const r=ln(),{moduleId:a,variantId:i}=Vp(),[l,c]=T.useState([]),[d,h]=T.useState(!0);T.useEffect(()=>{let S=!0;return Cc().then(E=>{S&&(c(E.data??[]),h(!1))}).catch(()=>{S&&(c([]),h(!1))}),()=>{S=!1}},[]);const m=T.useMemo(()=>l.find(S=>S.frontModuleId===a),[l,a]),y=((m==null?void 0:m.variants)??[]).find(S=>S.variantId===i),b=((w=(x=y==null?void 0:y.backendModules)==null?void 0:x[0])==null?void 0:w.promptKey)??"";return d?f.jsx("div",{className:"text-sm text-gray-400",children:"Loading..."}):!m||!i||!y?f.jsxs("div",{className:"text-sm text-gray-400",children:["",a," / ",i]}):b?f.jsx(ig,{moduleType:"general",moduleKey:b,moduleData:{title:m.frontModuleLabel??m.frontModuleId,desc:y.label||y.name||"",promptPreview:"",variant:y},onBack:()=>r(-1)}):f.jsxs("div",{className:"border border-[#1F2937] rounded-xl bg-[#111827] p-5",children:[f.jsx("div",{className:"text-sm text-gray-400 mb-3",children:" promptKey"}),f.jsxs("div",{className:"text-xs text-gray-500",children:["moduleId: ",a," | variantId: ",i]}),f.jsx("button",{type:"button",onClick:()=>r(-1),className:"mt-4 px-4 py-2 rounded-lg text-xs font-medium border border-[#1F2937] text-white hover:bg-[#1F2937] transition-colors",children:"Back"})]})}const dw=["Write a polite follow-up email to a client about next steps.","Summarize a long document into five clear takeaways.","Create a simple weekly social content plan for a small brand.","Draft an SOP for onboarding a new team member.","Compare three competitors and list gaps we can win on."],hw=["E.g. write a business email, run a competitor analysis, summarize a document, generate an SOP","Describe your task in one sentence","Tell me what you want to accomplish"],fw=()=>{const r=ln(),[a,i]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[m,g]=T.useState(""),y=T.useMemo(()=>hw[0],[]);T.useEffect(()=>{if(typeof window>"u")return;const w=new URLSearchParams(window.location.search).get("force")==="1";!window.matchMedia("(max-width: 900px)").matches&&!w&&r("/modules/core",{replace:!0})},[r]);const b=async x=>{x.preventDefault();const w=a.trim();if(!w){h(!0);return}c(!0),g("Connecting to the planner...");try{const S=await fetch("/api/intent/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:w})}),E=await S.json();if(!S.ok)throw new Error((E==null?void 0:E.error)||"Request failed");r("/m2/run",{state:{text:w,planId:E.plan_id,summary:E.summary,questions:E.questions??[]}})}catch{r("/m2/run",{state:{text:w,planId:"plan_local",summary:"We are setting up your plan.",questions:[]}})}finally{c(!1),g("")}};return f.jsx("div",{className:"min-h-[100dvh] bg-[#0A0F1C] text-[#F9FAFB] overflow-x-hidden",children:f.jsx("div",{className:"min-h-[100dvh] flex flex-col px-4 pt-10 pb-12 bg-[radial-gradient(1200px_700px_at_50%_-10%,rgba(59,130,246,0.2),rgba(10,15,28,0)_60%),linear-gradient(180deg,rgba(10,15,28,0.95),rgba(10,15,28,1))]",children:f.jsxs("div",{className:"w-full max-w-xl mx-auto flex flex-col gap-8",children:[f.jsxs("header",{className:"space-y-3",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-[#6B7280]",children:"Studio"}),f.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-white",children:"What do you want to do?"}),f.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Describe the outcome you want and we will plan the next steps."})]}),f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:a,onChange:x=>{i(x.target.value),d&&h(!1)},rows:4,placeholder:y,className:"w-full rounded-2xl border border-[#1F2937] bg-[#0F172A] p-4 text-sm text-white placeholder:text-[#6B7280] focus:outline-none focus:ring-2 focus:ring-[#3B82F6]/60"}),d&&!a.trim()&&f.jsx("p",{className:"text-xs text-[#F87171]",children:"Please enter your request"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:dw.map(x=>f.jsx("button",{type:"button",onClick:()=>{i(x),h(!1)},className:"rounded-full border border-[#1F2937] bg-[#111827]/70 px-3 py-1.5 text-xs text-[#E5E7EB] hover:border-[#3B82F6]/50 hover:text-white transition-colors",children:x},x))}),f.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-xl bg-[#3B82F6] py-3 text-sm font-semibold text-white shadow-lg shadow-[#1D4ED8]/20 transition hover:bg-[#2563EB] disabled:cursor-not-allowed disabled:opacity-70",children:l?"Preparing...":"Continue"})]}),m&&f.jsx("div",{className:"text-xs text-[#6B7280] text-center",children:m})]})})})},mw=f.jsxs("div",{className:"rounded-xl border border-[#1F2937] bg-[#0F172A] p-4 space-y-2",children:[f.jsx("p",{className:"text-sm text-[#E5E7EB] font-medium",children:"About this request"}),f.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"We may be able to help with this request, but the result depends on how specific and complete the information is."}),f.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"If this turns out to be outside our current scope, heres what we can help with:"}),f.jsxs("ul",{className:"text-sm text-[#9CA3AF] list-disc pl-5",children:[f.jsx("li",{children:"A simplified version of this request"}),f.jsx("li",{children:"A closely related scenario"})]}),f.jsx("p",{className:"text-xs text-[#6B7280]",children:"This is not a limitation  its how we ensure professional and reliable results."})]}),pw=()=>{const r=ln(),i=Mt().state,[l,c]=T.useState({}),[d,h]=T.useState(""),[m,g]=T.useState(!1),[y,b]=T.useState(""),x=T.useMemo(()=>(i==null?void 0:i.questions)??[],[i==null?void 0:i.questions]);if(T.useEffect(()=>{if(typeof window>"u")return;const Y=new URLSearchParams(window.location.search).get("force")==="1";!window.matchMedia("(max-width: 900px)").matches&&!Y&&r("/modules/core",{replace:!0})},[r]),!(i!=null&&i.text))return f.jsx("div",{className:"min-h-[100dvh] bg-[#0A0F1C] text-[#F9FAFB] flex items-center justify-center px-4",children:f.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-[#1F2937] bg-[#0F172A] p-6 text-center space-y-3",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Request not found"}),f.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Please start from the entry page."}),f.jsx("button",{type:"button",onClick:()=>r("/m2"),className:"mt-2 w-full rounded-xl bg-[#3B82F6] py-2.5 text-sm font-semibold text-white",children:"Go back"})]})});const{text:w,planId:S,summary:E}=i,R=x.length>0&&(E==null?void 0:E.toLowerCase().includes("you want to")),N=($,Y)=>{c(K=>({...K,[$]:Y}))},M=async $=>{g(!0);try{const Y=await fetch("/api/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),K=await Y.json();if(!Y.ok)throw new Error((K==null?void 0:K.error)||"Request failed");h((K==null?void 0:K.output)??"")}catch{h("Something went wrong. Please try again.")}finally{g(!1)}},V=()=>{M({plan_id:S,text:w,answers:l})},U=()=>{y.trim()&&M({plan_id:S,text:w,answers:l,refineInstruction:y.trim(),previousOutput:d})};return f.jsx("div",{className:"min-h-[100dvh] bg-[#0A0F1C] text-[#F9FAFB] overflow-x-hidden",children:f.jsx("div",{className:"min-h-[100dvh] px-4 pt-8 pb-12 bg-[radial-gradient(1200px_700px_at_50%_-10%,rgba(59,130,246,0.2),rgba(10,15,28,0)_60%),linear-gradient(180deg,rgba(10,15,28,0.95),rgba(10,15,28,1))]",children:f.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-6",children:[f.jsxs("header",{className:"space-y-2",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-[#6B7280]",children:"Studio"}),f.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Your plan"})]}),f.jsxs("section",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl border border-[#1F2937] bg-[#0F172A] p-4 space-y-2",children:[f.jsx("p",{className:"text-xs text-[#6B7280] uppercase tracking-[0.2em]",children:"Summary"}),f.jsx("p",{className:"text-sm text-[#E5E7EB]",children:E})]}),R&&mw]}),x.length>0&&f.jsxs("section",{className:"rounded-2xl border border-[#1F2937] bg-[#0F172A] p-4 space-y-4",children:[f.jsx("p",{className:"text-xs text-[#6B7280] uppercase tracking-[0.2em]",children:"Clarifying questions"}),f.jsx("div",{className:"space-y-3",children:x.map($=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm text-[#E5E7EB]",children:$.label}),$.type==="select"?f.jsxs("select",{value:l[$.id]??"",onChange:Y=>N($.id,Y.target.value),className:"w-full rounded-xl border border-[#1F2937] bg-[#0B1220] px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#3B82F6]/60",children:[f.jsx("option",{value:"",children:"Select an option"}),($.options??[]).map(Y=>f.jsx("option",{value:Y,children:Y},Y))]}):f.jsx("input",{type:"text",value:l[$.id]??"",onChange:Y=>N($.id,Y.target.value),placeholder:"Type your answer",className:"w-full rounded-xl border border-[#1F2937] bg-[#0B1220] px-3 py-2 text-sm text-white placeholder:text-[#6B7280] focus:outline-none focus:ring-2 focus:ring-[#3B82F6]/60"})]},$.id))})]}),f.jsx("button",{type:"button",onClick:V,disabled:m,className:"w-full rounded-xl bg-[#3B82F6] py-3 text-sm font-semibold text-white shadow-lg shadow-[#1D4ED8]/20 transition hover:bg-[#2563EB] disabled:cursor-not-allowed disabled:opacity-70",children:m?"Preparing...":"Generate"}),f.jsxs("section",{className:"rounded-2xl border border-[#1F2937] bg-[#0F172A] p-4 space-y-3",children:[f.jsx("p",{className:"text-xs text-[#6B7280] uppercase tracking-[0.2em]",children:"Output"}),d?f.jsx("div",{className:"text-sm text-[#E5E7EB] whitespace-pre-wrap",children:d}):f.jsx("p",{className:"text-sm text-[#6B7280]",children:"No output yet. Generate to see results."})]}),f.jsxs("section",{className:"rounded-2xl border border-[#1F2937] bg-[#0F172A] p-4 space-y-3",children:[f.jsx("p",{className:"text-xs text-[#6B7280] uppercase tracking-[0.2em]",children:"Not satisfied? Add one more line."}),f.jsx("input",{type:"text",value:y,onChange:$=>b($.target.value),placeholder:"Add a refinement request",className:"w-full rounded-xl border border-[#1F2937] bg-[#0B1220] px-3 py-2 text-sm text-white placeholder:text-[#6B7280] focus:outline-none focus:ring-2 focus:ring-[#3B82F6]/60"}),f.jsx("button",{type:"button",onClick:U,disabled:m||!y.trim(),className:"w-full rounded-xl border border-[#3B82F6] py-2.5 text-sm font-semibold text-[#3B82F6] transition hover:bg-[#1D4ED8]/10 disabled:cursor-not-allowed disabled:opacity-60",children:m?"Preparing...":"Generate again"})]})]})})})};function bl(r,a){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i}function gw(r,a,i,l){function c(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(b){try{y(l.next(b))}catch(x){h(x)}}function g(b){try{y(l.throw(b))}catch(x){h(x)}}function y(b){b.done?d(b.value):c(b.value).then(m,g)}y((l=l.apply(r,a||[])).next())})}const yw=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class kc extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}}class vw extends kc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class op extends kc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class up extends kc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var hc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(hc||(hc={}));class bw{constructor(a,{headers:i={},customFetch:l,region:c=hc.Any}={}){this.url=a,this.headers=i,this.region=c,this.fetch=yw(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return gw(this,arguments,void 0,function*(i,l={}){var c;let d,h;try{const{headers:m,method:g,body:y,signal:b,timeout:x}=l;let w={},{region:S}=l;S||(S=this.region);const E=new URL(`${this.url}/${i}`);S&&S!=="any"&&(w["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let R;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(w["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(w["Content-Type"]="application/json",R=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?R=JSON.stringify(y):R=y;let N=b;x&&(h=new AbortController,d=setTimeout(()=>h.abort(),x),b?(N=h.signal,b.addEventListener("abort",()=>h.abort())):N=h.signal);const M=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:R,signal:N}).catch(Y=>{throw new vw(Y)}),V=M.headers.get("x-relay-error");if(V&&V==="true")throw new op(M);if(!M.ok)throw new up(M);let U=((c=M.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),$;return U==="application/json"?$=yield M.json():U==="application/octet-stream"||U==="application/pdf"?$=yield M.blob():U==="text/event-stream"?$=M:U==="multipart/form-data"?$=yield M.formData():$=yield M.text(),{data:$,error:null,response:M}}catch(m){return{data:null,error:m,response:m instanceof up||m instanceof op?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var xw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},ww=class{constructor(r){var a,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,m=null,g=null,y=d.status,b=d.statusText;if(d.ok){var x,w;if(i.method!=="HEAD"){var S;const M=await d.text();M===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=M:m=JSON.parse(M))}const R=(x=i.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),N=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&N&&N.length>1&&(g=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var E;const R=await d.text();try{h=JSON.parse(R),Array.isArray(h)&&d.status===404&&(m=[],h=null,y=200,b="OK")}catch{d.status===404&&R===""?(y=204,b="No Content"):h={message:R}}if(h&&i.isMaybeSingle&&(!(h==null||(E=h.details)===null||E===void 0)&&E.includes("0 rows"))&&(h=null,y=200,b="OK"),h&&i.shouldThrowOnError)throw new xw(h)}return{error:h,data:m,count:g,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let m="";const g=d==null?void 0:d.cause;if(g){var y,b,x,w;const E=(y=g==null?void 0:g.message)!==null&&y!==void 0?y:"",R=(b=g==null?void 0:g.code)!==null&&b!==void 0?b:"";m=`${(x=d==null?void 0:d.name)!==null&&x!==void 0?x:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(w=g==null?void 0:g.name)!==null&&w!==void 0?w:"Error"}: ${E}`,R&&(m+=` (${R})`),g!=null&&g.stack&&(m+=`
${g.stack}`)}else{var S;m=(S=d==null?void 0:d.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,a)}returns(){return this}overrideTypes(){return this}},_w=class extends ww{select(r){let a=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${r}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(d,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const m=[r?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const cp=new RegExp("[,()]");var wr=class extends _w{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&cp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,a){const i=Array.from(new Set(a)).map(l=>typeof l=="string"&&cp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${c}fts${d}.${a}`),this}match(r){return Object.entries(r).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(r,a,i){return this.url.searchParams.append(r,`not.${a}.${i}`),this}or(r,{foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,i){return this.url.searchParams.append(r,`${a}.${i}`),this}},Sw=class{constructor(r,{headers:a={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(r,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let d=!1;const h=(r??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new wr({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new wr({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new wr({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new wr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var a;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new wr({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Ew=class sg{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Sw(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new sg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:d}={}){var h;let m;const g=new URL(`${this.url}/rpc/${a}`);let y;const b=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(b)),x=l&&Object.values(i).some(b);x?(m="POST",y=i):l||c?(m=l?"HEAD":"GET",Object.entries(i).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{g.searchParams.append(S,E)})):(m="POST",y=i);const w=new Headers(this.headers);return x?w.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&w.set("Prefer",`count=${d}`),new wr({method:m,url:g,headers:w,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Tw{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const c=l.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Aw="2.90.0",jw=`realtime-js/${Aw}`,lg="1.0.0",Ow="2.0.0",dp=lg,fc=1e4,Rw=1e3,Nw=100;var na;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(na||(na={}));var Ze;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ze||(Ze={}));var Wt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Wt||(Wt={}));var mc;(function(r){r.websocket="websocket"})(mc||(mc={}));var Aa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Aa||(Aa={}));class Cw{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var i,l;const c=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,i,l){var c,d;const h=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",y=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+y.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(S),R=0;E.setUint8(R++,this.KINDS.userBroadcastPush),E.setUint8(R++,g.length),E.setUint8(R++,m.length),E.setUint8(R++,h.length),E.setUint8(R++,y.length),E.setUint8(R++,x.length),E.setUint8(R++,i),Array.from(g,M=>E.setUint8(R++,M.charCodeAt(0))),Array.from(m,M=>E.setUint8(R++,M.charCodeAt(0))),Array.from(h,M=>E.setUint8(R++,M.charCodeAt(0))),Array.from(y,M=>E.setUint8(R++,M.charCodeAt(0))),Array.from(x,M=>E.setUint8(R++,M.charCodeAt(0)));var N=new Uint8Array(S.byteLength+l.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(l),S.byteLength),N.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,d,h,m,g]=l;return i({join_ref:c,ref:d,topic:h,event:m,payload:g})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,c)}}_decodeUserBroadcast(a,i,l){const c=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),m=i.getUint8(4);let g=this.HEADER_LENGTH+4;const y=l.decode(a.slice(g,g+c));g=g+c;const b=l.decode(a.slice(g,g+d));g=g+d;const x=l.decode(a.slice(g,g+h));g=g+h;const w=a.slice(g,a.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,E={type:this.BROADCAST_EVENT,event:b,payload:S};return h>0&&(E.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a==null?void 0:a.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class og{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const hp=(r,a,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=kw(h,r,a,c),d),{}):{}},kw=(r,a,i,l)=>{const c=a.find(m=>m.name===r),d=c==null?void 0:c.type,h=i[r];return d&&!l.includes(d)?ug(d,h):pc(h)},ug=(r,a)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return zw(a,i)}switch(r){case Ue.bool:return Uw(a);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return Dw(a);case Ue.json:case Ue.jsonb:return Mw(a);case Ue.timestamp:return Bw(a);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return pc(a);default:return pc(a)}},pc=r=>r,Uw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Dw=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},Mw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},zw=(r,a)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const h=r.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>ug(a,m))}return r},Bw=r=>typeof r=="string"?r.replace(" ","T"):r,cg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class ec{constructor(a,i,l={},c=fc){this.channel=a,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var fp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(fp||(fp={}));class Ai{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,c,d,h),this.pendingDiffs.forEach(g=>{this.state=Ai.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ai.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,c){const d=this.cloneDeep(a),h=this.transformState(i),m={},g={};return this.map(d,(y,b)=>{h[y]||(g[y]=b)}),this.map(h,(y,b)=>{const x=d[y];if(x){const w=b.map(N=>N.presence_ref),S=x.map(N=>N.presence_ref),E=b.filter(N=>S.indexOf(N.presence_ref)<0),R=x.filter(N=>w.indexOf(N.presence_ref)<0);E.length>0&&(m[y]=E),R.length>0&&(g[y]=R)}else m[y]=b}),this.syncDiff(d,{joins:m,leaves:g},l,c)}static syncDiff(a,i,l,c){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var y;const b=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(g),b.length>0){const x=a[m].map(S=>S.presence_ref),w=b.filter(S=>x.indexOf(S.presence_ref)<0);a[m].unshift(...w)}l(m,b,g)}),this.map(h,(m,g)=>{let y=a[m];if(!y)return;const b=g.map(x=>x.presence_ref);y=y.filter(x=>b.indexOf(x.presence_ref)<0),a[m]=y,c(m,y,g),y.length===0&&delete a[m]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const c=a[l];return"metas"in c?i[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=c,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(mp||(mp={}));var ji;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ji||(ji={}));var jn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Er{constructor(a,i={config:{}},l){var c,d;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ec(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new og(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Ai(this),this.broadcastEndpointURL=cg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>a==null?void 0:a(jn.CHANNEL_ERROR,S)),this._onClose(()=>a==null?void 0:a(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a==null||a(jn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(E=R==null?void 0:R.length)!==null&&E!==void 0?E:0,M=[];for(let V=0;V<N;V++){const U=R[V],{filter:{event:$,schema:Y,table:K,filter:X}}=U,oe=S&&S[V];if(oe&&oe.event===$&&Er.isFilterValueEqual(oe.schema,Y)&&Er.isFilterValueEqual(oe.table,K)&&Er.isFilterValueEqual(oe.filter,X))M.push(Object.assign(Object.assign({},U),{id:oe.id}));else{this.unsubscribe(),this.state=Ze.errored,a==null||a(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,a&&a(jn.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ze.errored,a==null||a(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===Ze.joined&&a===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(a,i={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,g;const y=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ze.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new ec(this,Wt.leave,{},a),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(d),h}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ec(this,a,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Nw){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var c,d;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:y,join:b}=Wt;if(l&&[m,g,y,b].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var E,R,N;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(R=S.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(S=>S.callback(w,l)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var E,R,N,M,V,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const $=S.id,Y=(E=S.filter)===null||E===void 0?void 0:E.event;return $&&((R=i.ids)===null||R===void 0?void 0:R.includes($))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const $=(V=(M=S==null?void 0:S.filter)===null||M===void 0?void 0:M.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return $==="*"||$===((U=i==null?void 0:i.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:R,table:N,commit_timestamp:M,type:V,errors:U}=E;w=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:M,eventType:V,new:{},old:{},errors:U}),this._getPayloadRecords(E))}S.callback(w,l)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const c=a.toLocaleLowerCase(),d={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Er.isEqual(c.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Wt.close,{},a)}_onError(a){this._on(Wt.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=hp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=hp(a.columns,a.old_record)),i}}const tc=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lw=[1e3,2e3,5e3,1e4],qw=1e4,$w=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hw{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fc,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tc,this.ref=0,this.reconnectTimer=null,this.vsn=dp,this.logger=tc,this.conn=null,this.sendBuffer=[],this.serializer=new Cw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=i==null?void 0:i.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${mc.websocket}`,this.httpEndpoint=cg(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tw.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return Aa.Connecting;case na.open:return Aa.Open;case na.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Er(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:l,payload:c,ref:d}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${i} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Rw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",y)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:d,ref:h}=i,m=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===na.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===na.open||this.conn.readyState===na.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Wt.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${a}${l}${c}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([$w],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const d={access_token:i,version:jw};i&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Wt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new og(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,c,d,h,m,g,y,b,x,w,S;switch(this.transport=(i=a==null?void 0:a.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a==null?void 0:a.timeout)!==null&&l!==void 0?l:fc,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:il.HEARTBEAT_INTERVAL,this.worker=(d=a==null?void 0:a.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a==null?void 0:a.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a==null?void 0:a.heartbeatCallback)!==null&&m!==void 0?m:tc,this.vsn=(g=a==null?void 0:a.vsn)!==null&&g!==void 0?g:dp,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a==null?void 0:a.reconnectAfterMs)!==null&&y!==void 0?y:(E=>Lw[E-1]||qw),this.vsn){case lg:this.encode=(b=a==null?void 0:a.encode)!==null&&b!==void 0?b:((E,R)=>R(JSON.stringify(E))),this.decode=(x=a==null?void 0:a.decode)!==null&&x!==void 0?x:((E,R)=>R(JSON.parse(E)));break;case Ow:this.encode=(w=a==null?void 0:a.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=a==null?void 0:a.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var Ci=class extends Error{constructor(r,a){var i;super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((i=a.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Gw(r,a,i){const l=new URL(a,r);if(i)for(const[c,d]of Object.entries(i))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function Vw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Fw(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:d,headers:h}){const m=Gw(r.baseUrl,l,c),g=await Vw(r.auth),y=await a(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...h},body:d?JSON.stringify(d):void 0}),b=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),w=x&&b?JSON.parse(b):b;if(!y.ok){const S=x?w:void 0,E=S==null?void 0:S.error;throw new Ci((E==null?void 0:E.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:S})}return{status:y.status,headers:y.headers,data:w}}}}function sl(r){return r.join("")}var Iw=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:sl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const i={namespace:r.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sl(r.namespace)}`}),!0}catch(a){if(a instanceof Ci&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(i){if(i instanceof Ci&&i.status===409)return;throw i}}};function pr(r){return r.join("")}var Kw=class{constructor(r,a="",i){this.client=r,this.prefix=a,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(r,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(i){if(i instanceof Ci&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(i){if(i instanceof Ci&&i.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw i}}},Yw=class{constructor(r){var l;let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Fw({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(l=r.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Iw(this.client,a),this.tableOps=new Kw(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},xl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function qe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Pw=class extends xl{constructor(r,a,i){super(r),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gc=class extends xl{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const Uc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Jw=()=>Response,yc=r=>{if(Array.isArray(r))return r.map(i=>yc(i));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=yc(l)}),a},Xw=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Qw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ki(r){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ki(r)}function Zw(r,a){if(ki(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(ki(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Ww(r){var a=Zw(r,"string");return ki(a)=="symbol"?a:a+""}function e_(r,a,i){return(a=Ww(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function pp(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function le(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?pp(Object(i),!0).forEach(function(l){e_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):pp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const nc=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},t_=async(r,a,i)=>{r instanceof await Jw()&&!(i!=null&&i.noResolveJson)?r.json().then(l=>{const c=r.status||500,d=(l==null?void 0:l.statusCode)||c+"";a(new Pw(nc(l),c,d))}).catch(l=>{a(new gc(nc(l),l))}):a(new gc(nc(r),r))},n_=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return r==="GET"||!l?c:(Xw(l)?(c.headers=le({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,a!=null&&a.duplex&&(c.duplex=a.duplex),le(le({},c),i))};async function qi(r,a,i,l,c,d){return new Promise((h,m)=>{r(i,n_(a,l,c,d)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>t_(g,m,l))})}async function Ui(r,a,i,l){return qi(r,"GET",a,i,l)}async function Zt(r,a,i,l,c){return qi(r,"POST",a,l,c,i)}async function vc(r,a,i,l,c){return qi(r,"PUT",a,l,c,i)}async function a_(r,a,i,l){return qi(r,"HEAD",a,le(le({},i),{},{noResolveJson:!0}),l)}async function Dc(r,a,i,l,c){return qi(r,"DELETE",a,l,c,i)}var r_=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}};let dg;dg=Symbol.toStringTag;var i_=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[dg]="BlobDownloadBuilder",this.promise=null}asStream(){return new r_(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}};const s_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var l_=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=i,this.fetch=Uc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,i,l){var c=this;try{let d;const h=le(le({},gp),l);let m=le(le({},c.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",c.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),g&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(m=le(le({},m),l.headers));const y=c._removeEmptyFolders(a),b=c._getFinalPath(y),x=await(r=="PUT"?vc:Zt)(c.fetch,`${c.url}/object/${b}`,d,le({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(qe(d))return{data:null,error:d};throw d}}async upload(r,a,i){return this.uploadOrUpdate("POST",r,a,i)}async uploadToSignedUrl(r,a,i,l){var c=this;const d=c._removeEmptyFolders(r),h=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${h}`);m.searchParams.set("token",a);try{let g;const y=le({upsert:gp.upsert},l),b=le(le({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{data:{path:d,fullPath:(await vc(c.fetch,m.toString(),g,{headers:b})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(qe(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,a){var i=this;try{let l=i._getFinalPath(r);const c=le({},i.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const d=await Zt(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(i.url+d.url),m=h.searchParams.get("token");if(!m)throw new xl("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async update(r,a,i){return this.uploadOrUpdate("PUT",r,a,i)}async move(r,a,i){var l=this;try{return{data:await Zt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async copy(r,a,i){var l=this;try{return{data:{path:(await Zt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async createSignedUrl(r,a,i){var l=this;try{let c=l._getFinalPath(r),d=await Zt(l.fetch,`${l.url}/object/sign/${c}`,le({expiresIn:a},i!=null&&i.transform?{transform:i.transform}:{}),{headers:l.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async createSignedUrls(r,a,i){var l=this;try{const c=await Zt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:r},{headers:l.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>le(le({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}download(r,a){const i=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(r),h=()=>Ui(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new i_(h,this.shouldThrowOnError)}async info(r){var a=this;const i=a._getFinalPath(r);try{return{data:yc(await Ui(a.fetch,`${a.url}/object/info/${i}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async exists(r){var a=this;const i=a._getFinalPath(r);try{return await a_(a.fetch,`${a.url}/object/${i}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(qe(l)&&l instanceof gc){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,a){const i=this._getFinalPath(r),l=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const d=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}async remove(r){var a=this;try{return{data:await Dc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async list(r,a,i){var l=this;try{const c=le(le(le({},s_),a),{},{prefix:r||""});return{data:await Zt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async listV2(r,a){var i=this;try{const l=le({},r);return{data:await Zt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},a),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const hg="2.90.0",fg={"X-Client-Info":`storage-js/${hg}`};var o_=class{constructor(r,a={},i,l){this.shouldThrowOnError=!1;const c=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},fg),a),this.fetch=Uc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const i=a.listBucketOptionsToQueryString(r);return{data:await Ui(a.fetch,`${a.url}/bucket${i}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await Ui(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createBucket(r,a={public:!1}){var i=this;try{return{data:await Zt(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async updateBucket(r,a){var i=this;try{return{data:await vc(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async emptyBucket(r){var a=this;try{return{data:await Zt(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Dc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},u_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=le(le({},fg),a),this.fetch=Uc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Zt(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async listBuckets(r){var a=this;try{const i=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&i.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&i.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&i.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&i.set("sortOrder",r.sortOrder),r!=null&&r.search&&i.set("search",r.search);const l=i.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await Ui(a.fetch,c,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await Dc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}from(r){var a=this;if(!Qw(r))throw new xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Yw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const Mc={"X-Client-Info":`storage-js/${hg}`,"Content-Type":"application/json"};var mg=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ct(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var ac=class extends mg{constructor(r,a,i){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},c_=class extends mg{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const zc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),d_=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},yp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),h_=async(r,a,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(i!=null&&i.noResolveJson)){const l=r.status||500,c=r;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";a(new ac(yp(d),l,h))}).catch(()=>{const d=l+"";a(new ac(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";a(new ac(c.statusText||`HTTP ${l} error`,l,d))}}else a(new c_(yp(r),r))},f_=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return l?(d_(l)?(c.headers=le({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,le(le({},c),i)):c};async function m_(r,a,i,l,c,d){return new Promise((h,m)=>{r(i,f_(a,l,c,d)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>h_(g,m,l))})}async function kt(r,a,i,l,c){return m_(r,"POST",a,l,c,i)}var p_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=le(le({},Mc),a),this.fetch=zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async getIndex(r,a){var i=this;try{return{data:await kt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}async listIndexes(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async deleteIndex(r,a){var i=this;try{return{data:await kt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ct(l))return{data:null,error:l};throw l}}},g_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=le(le({},Mc),a),this.fetch=zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kt(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async getVectors(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await kt(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async queryVectors(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kt(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}},y_=class{constructor(r,a={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=le(le({},Mc),a),this.fetch=zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async getBucket(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var a=this;try{return{data:await kt(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}async deleteBucket(r){var a=this;try{return{data:await kt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}}},v_=class extends y_{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new b_(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,i=this;return a().call(i,r)}async getBucket(r){var a=()=>super.getBucket,i=this;return a().call(i,r)}async listBuckets(r={}){var a=()=>super.listBuckets,i=this;return a().call(i,r)}async deleteBucket(r){var a=()=>super.deleteBucket,i=this;return a().call(i,r)}},b_=class extends p_{constructor(r,a,i,l){super(r,a,l),this.vectorBucketName=i}async createIndex(r){var a=()=>super.createIndex,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,i=this;return a().call(i,i.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,i=this;return a().call(i,i.vectorBucketName,r)}index(r){return new x_(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},x_=class extends g_{constructor(r,a,i,l,c){super(r,a,c),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var a=()=>super.putVectors,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var a=()=>super.getVectors,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,i=this;return a().call(i,le(le({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},w_=class extends o_{constructor(r,a={},i,l){super(r,a,i,l)}from(r){return new l_(this.url,this.headers,r,this.fetch)}get vectors(){return new v_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new u_(this.url+"/iceberg",this.headers,this.fetch)}};const pg="2.90.0",_r=30*1e3,bc=3,rc=bc*_r,__="http://localhost:9999",S_="supabase.auth.token",E_={"X-Client-Info":`gotrue-js/${pg}`},xc="X-Supabase-Api-Version",gg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A_=600*1e3;class Di extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class j_ extends Di{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function O_(r){return ne(r)&&r.name==="AuthApiError"}class ja extends Di{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class Nn extends Di{constructor(a,i,l,c){super(a,l,c),this.name=i,this.status=l}}class Nt extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R_(r){return ne(r)&&r.name==="AuthSessionMissingError"}class gr extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends Nn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ol extends Nn{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(r){return ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class vp extends Nn{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C_ extends Nn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wc extends Nn{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function ic(r){return ne(r)&&r.name==="AuthRetryableFetchError"}class bp extends Nn{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class _c extends Nn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xp=` 	
\r=`.split(""),k_=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<xp.length;a+=1)r[xp[a].charCodeAt(0)]=-2;for(let a=0;a<ml.length;a+=1)r[ml[a].charCodeAt(0)]=a;return r})();function wp(r,a,i){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(ml[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(ml[l]),a.queuedBits-=6}}function yg(r,a,i){const l=k_[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function _p(r){const a=[],i=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{M_(h,l,i)};for(let h=0;h<r.length;h+=1)yg(r.charCodeAt(h),c,d);return a.join("")}function U_(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function D_(r,a){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}U_(l,a)}}function M_(r,a,i){if(a.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Tr(r){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)yg(r.charCodeAt(c),i,l);return new Uint8Array(a)}function z_(r){const a=[];return D_(r,i=>a.push(i)),new Uint8Array(a)}function Oa(r){const a=[],i={queue:0,queuedBits:0},l=c=>{a.push(c)};return r.forEach(c=>wp(c,i,l)),wp(null,i,l),a.join("")}function B_(r){return Math.round(Date.now()/1e3)+r}function L_(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},vg=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function q_(r){const a={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return i.searchParams.forEach((l,c)=>{a[c]=l}),a}const bg=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),$_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Sr=async(r,a,i)=>{await r.setItem(a,JSON.stringify(i))},Ea=async(r,a)=>{const i=await r.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ot=async(r,a)=>{await r.removeItem(a)};class wl{constructor(){this.promise=new wl.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}wl.promiseConstructor=Promise;function sc(r){const a=r.split(".");if(a.length!==3)throw new _c("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!T_.test(a[l]))throw new _c("JWT not in base64url format");return{header:JSON.parse(_p(a[0])),payload:JSON.parse(_p(a[1])),signature:Tr(a[2]),raw:{header:a[0],payload:a[1]}}}async function H_(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function G_(r,a){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!a(d,null,h)){l(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function V_(r){return("0"+r.toString(16)).substr(-2)}function F_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let d=0;d<56;d++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,V_).join("")}async function I_(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function K_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await I_(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(r,a,i=!1){const l=F_();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Sr(r,`${a}-code-verifier`,c);const d=await K_(l);return[d,l===d?"plain":"s256"]}const Y_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P_(r){const a=r.headers.get(xc);if(!a||!a.match(Y_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function J_(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function X_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(r){if(!Q_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lc(){const r={};return new Proxy(r,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z_(r,a){return new Proxy(r,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,c)}})}function Sp(r){return JSON.parse(JSON.stringify(r))}const Ta=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),W_=[502,503,504];async function Ep(r){var a;if(!$_(r))throw new wc(Ta(r),0);if(W_.includes(r.status))throw new wc(Ta(r),r.status);let i;try{i=await r.json()}catch(d){throw new ja(Ta(d),d)}let l;const c=P_(r);if(c&&c.getTime()>=gg["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new bp(Ta(i),r.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Nt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new bp(Ta(i),r.status,i.weak_password.reasons);throw new j_(Ta(i),r.status||500,l)}const e1=(r,a,i,l)=>{const c={method:r,headers:(a==null?void 0:a.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function se(r,a,i,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[xc]||(d[xc]=gg["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await t1(r,a,i+m,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function t1(r,a,i,l,c,d){const h=e1(a,l,c,d);let m;try{m=await r(i,Object.assign({},h))}catch(g){throw console.error(g),new wc(Ta(g),0)}if(m.ok||await Ep(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await Ep(g)}}function Qt(r){var a;let i=null;r1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=B_(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:i,user:l},error:null}}function Tp(r){const a=Qt(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function aa(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function n1(r){return{data:r,error:null}}function a1(r){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d}=r,h=bl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:i,hashed_token:l,redirect_to:c,verification_type:d},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Ap(r){return r}function r1(r){return r.access_token&&r.refresh_token&&r.expires_in}const oc=["global","local","others"];class i1{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=bg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=oc[0]){if(oc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:aa})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=bl(a,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:a1,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ne(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:aa})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,c,d,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Ap});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);y[`${N}Page`]=R}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){vr(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:aa})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){vr(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:aa})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){vr(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:aa})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){vr(a.userId);try{const{data:i,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteFactor(a){vr(a.userId),vr(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,c,d,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a==null?void 0:a.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Ap});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);y[`${N}Page`]=R}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}}function jp(r={}){return{getItem:a=>r[a]||null,setItem:(a,i)=>{r[a]=i},removeItem:a=>{delete r[a]}}}const br={debug:!!(globalThis&&vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class s1 extends xg{}async function l1(r,a,i){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new s1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(br.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function o1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function u1(r){return parseInt(r,16)}function c1(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function d1(r){var a;const{chainId:i,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:g,resources:y,scheme:b,uri:x,version:w}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=wg(r.address),E=b?`${b}://${l}`:l,R=r.statement?`${r.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${S}

${R}`;let M=`URI: ${x}
Version: ${w}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(M+=`
Expiration Time: ${c.toISOString()}`),m&&(M+=`
Not Before: ${m.toISOString()}`),g&&(M+=`
Request ID: ${g}`),y){let V=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);V+=`
- ${U}`}M+=V}return`${N}
${M}`}class Je extends Error{constructor({message:a,code:i,cause:l,name:c}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class pl extends Je{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function h1({error:r,options:a}){var i,l,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Je({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(_g(h)){if(d.rp.id!==h)return new Je({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function f1({error:r,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Je({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(_g(l)){if(i.rpId!==l)return new Je({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class m1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const p1=new m1;function g1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:i,excludeCredentials:l}=r,c=bl(r,["challenge","user","excludeCredentials"]),d=Tr(a).buffer,h=Object.assign(Object.assign({},i),{id:Tr(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const y=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Tr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function y1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:i}=r,l=bl(r,["challenge","allowCredentials"]),c=Tr(a).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Tr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function v1(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Oa(new Uint8Array(r.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function b1(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Oa(new Uint8Array(c.authenticatorData)),clientDataJSON:Oa(new Uint8Array(c.clientDataJSON)),signature:Oa(new Uint8Array(c.signature)),userHandle:c.userHandle?Oa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function _g(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Op(){var r,a;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function x1(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new pl("Browser returned unexpected credential type",a)}:{data:null,error:new pl("Empty credential response",a)}}catch(a){return{data:null,error:h1({error:a,options:r})}}}async function w1(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new pl("Browser returned unexpected credential type",a)}:{data:null,error:new pl("Empty credential response",a)}}catch(a){return{data:null,error:f1({error:a,options:r})}}}const _1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},S1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gl(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))l[d]=h;else if(i(h))l[d]=h;else if(a(h)){const m=l[d];a(m)?l[d]=gl(m,h):l[d]=gl(h)}else l[d]=h}return l}function E1(r,a){return gl(_1,r,a||{})}function T1(r,a){return gl(S1,r,a||{})}class A1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:c},d){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!h)return{data:null,error:m};const g=c??p1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=E1(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:x}=await x1({publicKey:y,signal:g});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const y=T1(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:x}=await w1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new ja("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Di("rpId is required for WebAuthn authentication")};try{if(!Op())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:d});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new ja("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!i)return{data:null,error:new Di("rpId is required for WebAuthn registration")};try{if(!Op())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:d});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new ja("Unexpected error in register",h)}}}}o1();const j1={url:__,storageKey:S_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rp(r,a,i){return await i()}const xr={};class Mi{get jwks(){var a,i;return(i=(a=xr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=xr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},j1),a);if(this.storageKey=d.storageKey,this.instanceID=(i=Mi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ut()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new i1({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=bg(d.fetch),this.lock=d.lock||Rp,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&ut()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=l1:this.lock=Rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jp(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=jp(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(ut()&&(i=q_(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ut()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),N_(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ne(i)?this._returnResult({error:i}):this._returnResult({error:new ja("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a==null?void 0:a.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:Qt}),{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,l,c;try{let d;if("email"in a){const{email:b,password:x,options:w}=a;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await yr(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:b,password:x,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:E},xform:Qt})}else if("phone"in a){const{phone:b,password:x,options:w}=a;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Qt})}else throw new ll("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:h,options:m}=a;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Tp})}else if("phone"in a){const{phone:d,password:h,options:m}=a;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Tp})}else throw new ll("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new gr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,c,d,h,m,g,y,b,x,w;let S,E;if("message"in a)S=a.message,E=a.signature;else{const{chain:R,wallet:N,statement:M,options:V}=a;let U;if(ut())if(typeof N=="object")U=N;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")U=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const $=new URL((i=V==null?void 0:V.url)!==null&&i!==void 0?i:window.location.href),Y=await U.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=wg(Y[0]);let X=(l=V==null?void 0:V.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const W=await U.request({method:"eth_chainId"});X=u1(W)}const oe={domain:$.host,address:K,statement:M,uri:$.href,version:"1",chainId:X,nonce:(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=V==null?void 0:V.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=V==null?void 0:V.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=V==null?void 0:V.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=d1(oe),E=await U.request({method:"personal_sign",params:[c1(S),K]})}try{const{data:R,error:N}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Qt});if(N)throw N;if(!R||!R.session||!R.user){const M=new gr;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(a){var i,l,c,d,h,m,g,y,b,x,w,S;let E,R;if("message"in a)E=a.message,R=a.signature;else{const{chain:N,wallet:M,statement:V,options:U}=a;let $;if(ut())if(typeof M=="object")$=M;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))$=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=M}const Y=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in $&&$.signIn){const K=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),V?{statement:V}:null));let X;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")X=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)X=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)E=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),R=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Y.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(c=(l=U==null?void 0:U.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U==null?void 0:U.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((x=(b=U==null?void 0:U.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...U.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const K=await $.signMessage(new TextEncoder().encode(E),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=K}}try{const{data:N,error:M}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Oa(R)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Qt});if(M)throw M;if(!N||!N.session||!N.user){const V=new gr;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:M})}catch(N){if(ne(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const i=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new C_;const{data:d,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Qt});if(await ot(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const m=new gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:l,token:c,access_token:d,nonce:h}=a,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Qt}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const b=new gr;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,c,d,h;try{if("email"in a){const{email:m,options:g}=a;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await yr(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in a){const{phone:m,options:g}=a,{data:y,error:b}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:b})}throw new ll("You must provide either an email or phone number.")}catch(m){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var i,l;try{let c,d;"options"in a&&(c=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Qt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var i,l,c,d,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yr(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:n1});return!((d=y.data)===null||d===void 0)&&d.url&&ut()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new Nt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:d}=a,{error:h}=await se(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:d}=a,{data:h,error:m}=await se(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new ll("You must provide either an email or phone number and a type")}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<rc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await Ea(this.userStorage,this.storageKey+"-user");h!=null&&h.user?a.user=h.user:a.user=lc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=Z_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:aa}):await this._useSession(async i=>{var l,c,d;const{data:h,error:m}=i;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:aa})})}catch(i){if(ne(i))return R_(i)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Nt;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await yr(this.storage,this.storageKey));const{data:y,error:b}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:aa});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Nt;const i=Date.now()/1e3;let l=i,c=!0,d=null;const{payload:h}=sc(a.access_token);if(h.exp&&(l=h.exp,c=l<=i),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:h,error:m}=i;if(m)throw m;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(a!=null&&a.refresh_token))throw new Nt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!ut())throw new ol("No browser detected.");if(a.error||a.error_description||a.error_code)throw new ol(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new vp("No code detected.");const{data:V,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:g,token_type:y}=a;if(!d||!m||!h||!y)throw new ol("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(m);let w=b+x;g&&(w=parseInt(g));const S=w-b;S*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const E=w-x;b-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,b):b-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,b);const{data:R,error:N}=await this._getUser(d);if(N)throw N;const M={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:w,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:a.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({error:d});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(O_(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=L_(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,c;try{const{data:{session:d},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await yr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:c}=await this._useSession(async d=>{var h,m,g,y,b;const{data:x,error:w}=d;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ut()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:a.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:d}}=i;if(c)throw c;const{options:h,provider:m,token:g,access_token:y,nonce:b}=a,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qt}),{data:w,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new gr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(c){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await G_(async c=>(c>0&&await H_(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Qt})),(c,d)=>{const h=200*Math.pow(2,c);return d&&ic(d)&&Date.now()+h-l<_r})}catch(l){if(this._debug(i,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),ut()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ea(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Sr(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h==null?void 0:h.user)!==null&&a!==void 0?a:lc()}else if(c&&!c.user&&!c.user){const h=await Ea(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await ot(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,c)):c.user=lc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<rc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${rc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),ic(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new wl;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new Nt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),ne(d)){const h={data:null,error:d};return ic(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,i,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,i)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const d=Sp(c);await Sr(this.storage,this.storageKey,d)}else{const c=Sp(i);await Sr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_r}ms, refresh threshold is ${bc} ticks`),c<=bc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof xg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await yr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,c;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?v1(a.webauthn.credential_response):b1(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:g1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:y1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i==null?void 0:i.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=sc(l.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Nt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ut()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Nt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ut()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(m=>m.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+A_>c)return l;const{data:d,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});l=S.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:g}}=sc(l);i!=null&&i.allowExpired||J_(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!y){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:h},error:null}}const b=X_(c.alg),x=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,z_(`${m}.${g}`)))throw new _c("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Mi.nextInstanceID={};const O1=Mi,R1="2.90.0";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const N1={"X-Client-Info":`supabase-js-${Si}/${R1}`},C1={headers:N1},k1={schema:"public"},U1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D1={};function zi(r){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},zi(r)}function M1(r,a){if(zi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,a);if(zi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function z1(r){var a=M1(r,"string");return zi(a)=="symbol"?a:a+""}function B1(r,a,i){return(a=z1(a))in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}function Np(r,a){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Ge(r){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Np(Object(i),!0).forEach(function(l){B1(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Np(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const L1=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),q1=()=>Headers,$1=(r,a,i)=>{const l=L1(i),c=q1();return async(d,h)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:r;let y=new c(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),l(d,Ge(Ge({},h),{},{headers:y}))}};function H1(r){return r.endsWith("/")?r:r+"/"}function G1(r,a){var i,l;const{db:c,auth:d,realtime:h,global:m}=r,{db:g,auth:y,realtime:b,global:x}=a,w={db:Ge(Ge({},g),c),auth:Ge(Ge({},y),d),realtime:Ge(Ge({},b),h),storage:{},global:Ge(Ge(Ge({},x),m),{},{headers:Ge(Ge({},(i=x==null?void 0:x.headers)!==null&&i!==void 0?i:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function V1(r){const a=r==null?void 0:r.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H1(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var F1=class extends O1{constructor(r){super(r)}},I1=class{constructor(r,a,i){var l,c;this.supabaseUrl=r,this.supabaseKey=a;const d=V1(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:k1,realtime:D1,auth:Ge(Ge({},U1),{},{storageKey:h}),global:C1},g=G1(i??{},m);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=$1(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Ew(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new w_(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new bw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:d,flowType:h,lock:m,debug:g,throwOnError:y},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F1({url:this.authUrl.href,headers:Ge(Ge({},w),b),storageKey:d,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:m,debug:g,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Hw(this.realtimeUrl.href,Ge(Ge({},r),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const K1=(r,a,i)=>new I1(r,a,i);function Y1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const a=r.version;if(a==null)return!1;const i=a.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Y1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P1="https://fzhelxtappicqvaokoso.supabase.co",J1="sb_publishable_11G0mKSMrM5842g1W7D4WA_K5UW9Ctc",Kt=K1(P1,J1,{auth:{persistSession:!0,autoRefreshToken:!0}}),Sg=async r=>{try{await Kt.auth.signOut()}finally{r("/login")}},X1="Fuyou AI",Q1=" Task OS",Z1="What is ",An=()=>f.jsx("span",{translate:"no",children:X1}),W1=()=>{const[r,a]=T.useState(null),i=ln();T.useEffect(()=>{let d=!0;Kt.auth.getUser().then(({data:m})=>{var g;d&&a(((g=m.user)==null?void 0:g.email)??null)});const{data:h}=Kt.auth.onAuthStateChange((m,g)=>{var y;d&&a(((y=g==null?void 0:g.user)==null?void 0:y.email)??null)});return()=>{d=!1,h.subscription.unsubscribe()}},[]);const l=()=>{const d=document.getElementById("features");d&&d.scrollIntoView({behavior:"smooth"})},c=async()=>{await Sg(i)};return f.jsxs("div",{className:"min-h-screen bg-[linear-gradient(180deg,#0B0F15_0%,#0F141C_40%,#111827_100%)] font-sans text-white selection:bg-brand-500/30 overflow-x-hidden",children:[f.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between border-b border-white/[0.02] relative z-50",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("span",{className:"font-semibold text-lg tracking-tight text-white/95",children:f.jsx(An,{})})}),f.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-slate-400",children:[f.jsx("button",{onClick:l,className:"hover:text-white transition-colors",children:"Features"}),f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Docs"}),f.jsx(en,{to:"/app/modules",className:"hover:text-white transition-colors",children:"Modules"}),r?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-slate-300",children:r}),f.jsxs("button",{type:"button",onClick:c,className:"bg-brand-600 hover:bg-brand-500 text-white px-5 py-2 rounded-lg transition-all shadow-[0_2px_10px_rgba(59,130,246,0.3)] flex items-center gap-2 group font-semibold",children:[f.jsx("span",{className:"sr-only",children:"Signed in"}),f.jsx("span",{children:"Sign out"}),f.jsx(Ti,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(en,{to:"/login",className:"hover:text-white transition-colors",children:"Sign in"}),f.jsxs(en,{to:"/login",className:"bg-brand-600 hover:bg-brand-500 text-white px-5 py-2 rounded-lg transition-all shadow-[0_2px_10px_rgba(59,130,246,0.3)] flex items-center gap-2 group font-semibold",children:["Get Started ",f.jsx(An,{}),f.jsx(Ti,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})]})]})]})]}),f.jsx("header",{className:"max-w-[1440px] mx-auto px-6 lg:px-12 pt-16 lg:pt-24 pb-20 relative z-10",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 lg:gap-20 items-center",children:[f.jsxs("div",{className:"flex flex-col justify-center max-w-xl relative z-20",children:[f.jsx("div",{className:"mb-6",children:f.jsx("span",{className:"font-semibold text-white tracking-tight text-lg",children:f.jsx(An,{})})}),f.jsxs("h1",{className:"text-5xl lg:text-[56px] font-semibold leading-[1.1] tracking-tight mb-2 text-white",children:["From Complex Requests",f.jsx("br",{}),"to Executable Workflows"]}),f.jsxs("p",{className:"text-lg lg:text-[20px] leading-[1.6] text-slate-400 font-normal mb-8 max-w-[36rem]",children:[f.jsx(An,{})," turns ambiguous requirements into reliable automation by combining professional task understanding, structured decomposition, and an execution engine."]}),f.jsx("div",{className:"space-y-3 mb-10",children:["General Task Processor (GTP)","Structured task decomposition and execution","Reusable workflow templates for teams"].map((d,h)=>f.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[f.jsx(Ri,{size:16,className:"text-slate-500"}),f.jsx("span",{className:"text-base font-normal",children:d})]},h))}),f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs(en,{to:"/login",className:"bg-brand-600 hover:bg-brand-500 text-white px-7 py-4 rounded-xl font-medium text-base shadow-[0_4px_14px_rgba(59,130,246,0.35)] transition-all flex items-center gap-2",children:["Get Started ",f.jsx(An,{})," ",f.jsx(Ti,{size:18})]}),f.jsx("button",{onClick:l,className:"px-7 py-4 rounded-xl font-medium text-white/85 border border-white/[0.18] hover:border-white/40 hover:bg-white/[0.02] transition-all",children:"View features"})]})]}),f.jsxs("div",{className:"relative z-10 w-full max-w-[600px] aspect-[4/3] mx-auto lg:mr-0",children:[f.jsx("div",{className:"absolute -inset-1 bg-brand-500/20 blur-3xl opacity-20 rounded-full"}),f.jsxs("div",{className:"relative h-full w-full bg-white/[0.03] backdrop-blur-2xl border border-white/[0.12] rounded-3xl shadow-[0_8px_32px_rgba(0,0,0,0.45)] p-8 flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/[0.08] pb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20 border border-red-500/50"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20 border border-green-500/50"})]}),f.jsxs("div",{className:"text-xs font-mono text-slate-500 uppercase tracking-widest",children:[f.jsx(An,{}),Q1]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Current Task"}),f.jsxs("div",{className:"text-lg font-medium text-white flex items-center gap-2",children:[f.jsx(Fb,{size:18,className:"text-brand-400"}),"Deep Market Analysis: SaaS Industry Trends"]})]}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-white/[0.03] bg-white/[0.01] text-slate-500",children:[f.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px]",children:"1"}),f.jsx("div",{className:"flex-1 font-mono text-sm",children:"Task Understanding"}),f.jsx(Ri,{size:14,className:"text-slate-600"})]}),f.jsxs("div",{className:"relative flex items-center gap-4 p-3 rounded-xl border border-brand-400/50 bg-brand-900/20 text-white shadow-[0_0_25px_rgba(59,130,246,0.15)] overflow-hidden group",children:[f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-brand-500"}),f.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-500 flex items-center justify-center text-[10px] text-white font-bold animate-pulse",children:"2"}),f.jsxs("div",{className:"flex-1 font-mono text-sm flex items-center justify-between",children:[f.jsx("span",{children:"Data Gathering"}),f.jsx("span",{className:"text-[10px] bg-brand-500/20 text-brand-300 px-2 py-0.5 rounded",children:"RUNNING"})]})]}),f.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-white/[0.03] bg-white/[0.01] text-slate-600 opacity-60",children:[f.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-800 flex items-center justify-center text-[10px]",children:"3"}),f.jsx("div",{className:"flex-1 font-mono text-sm",children:"Structured Breakdown"})]}),f.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-white/[0.03] bg-white/[0.01] text-slate-600 opacity-60",children:[f.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-800 flex items-center justify-center text-[10px]",children:"4"}),f.jsx("div",{className:"flex-1 font-mono text-sm",children:"Execution Engine"})]})]}),f.jsx("div",{className:"absolute top-8 right-8 w-2 h-2 rounded-full bg-brand-400 animate-ping"})]})]})]})}),f.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-24 border-b border-white/[0.05] relative z-10",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsxs("p",{className:"text-xs font-semibold tracking-[0.2em] text-brand-400 uppercase mb-4",children:[Z1,f.jsx(An,{})]}),f.jsxs("h2",{className:"text-3xl lg:text-4xl font-semibold text-white mb-6",children:[f.jsx(An,{})," is a Professional Task Automator"]}),f.jsx("p",{className:"mt-4 text-lg text-slate-400 max-w-3xl mx-auto leading-relaxed",children:"It is not a content generator. It is a professional GTP (Generative Task Processor) that turns requirements into structured, executable workflows from understanding to breakdown, execution, and calibration."})]}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{title:"Task Understanding",desc:"Extract goals, constraints, and boundaries from a single prompt to validate task readiness."},{title:"Structured Breakdown",desc:"Decompose complex work into controllable steps with clear inputs, methods, and checks."},{title:"Execution Engine",desc:"Generate standardized instructions and structured prompts for reliable execution."},{title:"Output Calibration",desc:"Iterate on structure and prompts by comparing expected and actual outputs."}].map((d,h)=>f.jsxs("div",{className:"group relative rounded-2xl border border-slate-700/50 bg-slate-900/40 backdrop-blur-md p-6 flex flex-col gap-3 hover:bg-slate-800/50 transition-colors",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-500/5 to-transparent opacity-0 group-hover:opacity-100 rounded-2xl transition-opacity"}),f.jsx("h3",{className:"text-sm font-semibold text-slate-200 relative z-10",children:d.title}),f.jsx("p",{className:"text-sm text-slate-400 leading-relaxed relative z-10 line-clamp-3",children:d.desc})]},h))})]}),f.jsx("section",{id:"features",className:"max-w-7xl mx-auto px-6 py-24 relative z-10",children:f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-stretch",children:[f.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900/50 border border-slate-800/50 backdrop-blur-sm h-full",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-400 mb-6",children:f.jsx(tg,{size:24})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Seven Core Frameworks"}),f.jsx("p",{className:"text-slate-400 leading-relaxed line-clamp-3",children:"Built-in CoT, TMO, and structured prompt patterns that keep output quality consistent."})]}),f.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900/50 border border-slate-800/50 backdrop-blur-sm h-full",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center text-purple-400 mb-6",children:f.jsx(ag,{size:24})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Prompt Optimization Studio"}),f.jsx("p",{className:"text-slate-400 leading-relaxed line-clamp-3",children:"Capture constraints and context, then generate system-grade prompts with clear structure."})]}),f.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900/50 border border-slate-800/50 backdrop-blur-sm h-full",children:[f.jsx("div",{className:"w-12 h-12 bg-emerald-500/10 rounded-xl flex items-center justify-center text-emerald-400 mb-6",children:f.jsx(hx,{size:24})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Industry-Ready Templates"}),f.jsx("p",{className:"text-slate-400 leading-relaxed line-clamp-3",children:"Cover product, consulting, research, and legal workflows with expert-grade templates."})]})]})}),f.jsx("footer",{className:"border-t border-white/[0.05] bg-[#0B0F15] py-12 text-center text-slate-500 text-sm relative z-10",children:f.jsxs("p",{children:[" 2025 ",f.jsx(An,{}),". All rights reserved."]})})]})},eS=()=>{var V,U;const r=ln(),a=Mt(),[i,l]=T.useState("email"),[c,d]=T.useState(""),[h,m]=T.useState(""),[g,y]=T.useState(!1),[b,x]=T.useState(0),[w,S]=T.useState(null),E=((U=(V=a.state)==null?void 0:V.from)==null?void 0:U.pathname)||"/modules";T.useEffect(()=>{let $=!0;const Y=oe=>{const W=new URL(window.location.href),I=new URLSearchParams(W.search),he=W.hash||"",Oe=he.includes("?")?he.split("?")[1]:"";return new URLSearchParams(Oe).get(oe)||I.get(oe)},K=()=>{const oe=`${window.location.origin}/#/login`;window.history.replaceState({},"",oe)};return(async()=>{const oe=Y("code"),W=Y("access_token"),I=Y("refresh_token");if(oe){const Oe=new URL(window.location.href);Oe.hash="",Oe.search=`?code=${encodeURIComponent(oe)}`;const{data:Xe,error:De}=await Kt.auth.exchangeCodeForSession(Oe.toString());if(!$)return;if(De){S(De.message),K();return}if(Xe.session){K(),r(E,{replace:!0});return}}if(W&&I){const{data:Oe,error:Xe}=await Kt.auth.setSession({access_token:W,refresh_token:I});if(!$)return;if(Xe){S(Xe.message),K();return}if(Oe.session){K(),r(E,{replace:!0});return}}const{data:he}=await Kt.auth.getSession();$&&he.session&&r(E,{replace:!0})})(),()=>{$=!1}},[r,E]),T.useEffect(()=>{if(b>0){const $=setTimeout(()=>x(b-1),1e3);return()=>clearTimeout($)}},[b]);const R=async()=>{if(!c)return;y(!0),S(null);const{error:$}=await Kt.auth.signInWithOtp({email:c,options:{shouldCreateUser:!0,emailRedirectTo:`${window.location.origin}/#/login`}});if($){S($.message),y(!1);return}l("otp"),x(60),y(!1)},N=$=>{$.preventDefault(),R()},M=async $=>{if($.preventDefault(),!h)return;y(!0),S(null);const{data:Y,error:K}=await Kt.auth.verifyOtp({email:c,token:h,type:"email"});if(K){S(K.message),y(!1);return}if(!(Y!=null&&Y.session)){S("No session returned. Please retry login."),y(!1);return}y(!1),r(E,{replace:!0})};return f.jsxs("div",{className:"min-h-screen bg-[linear-gradient(180deg,#0B0F15_0%,#0F141C_40%,#111827_100%)] flex items-center justify-center px-4 font-sans relative overflow-hidden",children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[f.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-brand-600/10 rounded-full blur-[100px]"}),f.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-indigo-900/10 rounded-full blur-[120px]"})]}),f.jsx("div",{className:"absolute top-6 left-6 z-20",children:f.jsxs("button",{onClick:()=>r("/"),className:"text-slate-400 hover:text-white flex items-center gap-2 transition-colors group text-sm font-medium",children:[f.jsx(Zp,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})}),f.jsxs("div",{className:"w-full max-w-md bg-white/95 backdrop-blur-xl border border-slate-200 shadow-2xl rounded-2xl p-8 md:p-10 relative z-10 transition-all duration-500",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-xl flex items-center justify-center text-white font-bold text-2xl mx-auto mb-4 shadow-lg shadow-brand-500/30",children:"P"}),f.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:i==="email"?"Welcome to Prompt OS":"Enter the verification code"}),f.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:i==="email"?"Log in to start your 30-day free trial":f.jsxs("span",{children:["Code sent to ",f.jsx("span",{className:"text-slate-800 font-medium",children:c})]})})]}),w&&f.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:w}),i==="email"&&f.jsxs("form",{className:"space-y-5 animate-in fade-in slide-in-from-bottom-4 duration-300",onSubmit:N,children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Work Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(_x,{className:"absolute left-3.5 top-3.5 text-slate-400",size:18}),f.jsx("input",{type:"email",required:!0,value:c,onChange:$=>{d($.target.value),S(null)},className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:bg-white transition-all text-slate-900 placeholder:text-slate-400",placeholder:"name@company.com",autoFocus:!0})]})]}),f.jsx("button",{type:"submit",disabled:g||!c,className:"w-full bg-brand-600 hover:bg-brand-500 disabled:opacity-70 disabled:cursor-not-allowed text-white font-semibold py-3.5 rounded-xl transition-all shadow-lg shadow-brand-500/20 active:scale-[0.98] flex items-center justify-center gap-2",children:g?f.jsxs(f.Fragment,{children:[f.jsx(Ni,{size:18,className:"animate-spin"}),"Sending"]}):f.jsxs(f.Fragment,{children:["Get verification code ",f.jsx(Ti,{size:18})]})})]}),i==="otp"&&f.jsxs("form",{className:"space-y-5 animate-in fade-in slide-in-from-right-8 duration-300",onSubmit:M,children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1",children:"Verification Code"}),f.jsxs("div",{className:"relative",children:[f.jsx(vx,{className:"absolute left-3.5 top-3.5 text-slate-400",size:18}),f.jsx("input",{type:"text",required:!0,value:h,onChange:$=>{m($.target.value),S(null)},className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:bg-white transition-all text-slate-900 placeholder:text-slate-400 tracking-widest font-mono text-lg",placeholder:"12345678",maxLength:8,autoFocus:!0})]})]}),f.jsx("button",{type:"submit",disabled:g||h.length<8,className:"w-full bg-brand-600 hover:bg-brand-500 disabled:opacity-70 disabled:cursor-not-allowed text-white font-semibold py-3.5 rounded-xl transition-all shadow-lg shadow-brand-500/20 active:scale-[0.98] flex items-center justify-center gap-2",children:g?f.jsxs(f.Fragment,{children:[f.jsx(Ni,{size:18,className:"animate-spin"}),"Verifying"]}):f.jsxs(f.Fragment,{children:["Enter Prompt OS",f.jsx(ax,{size:18})]})}),f.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[f.jsx("button",{type:"button",onClick:()=>l("email"),className:"text-slate-400 hover:text-slate-600 transition-colors",children:"Change email"}),f.jsx("button",{type:"button",disabled:b>0,onClick:()=>void R(),className:`font-medium transition-colors ${b>0?"text-slate-300 cursor-not-allowed":"text-brand-600 hover:text-brand-700"}`,children:b>0?`Resend in ${b}s`:"Resend verification code"})]})]}),f.jsx("div",{className:"mt-8 border-t border-slate-100 pt-6",children:f.jsxs("details",{className:"group text-sm text-slate-500 cursor-pointer",children:[f.jsxs("summary",{className:"text-center text-slate-400 hover:text-brand-600 font-medium list-none flex items-center justify-center gap-1 transition-colors select-none",children:["View 15-day trial benefits",f.jsx("span",{className:"group-open:rotate-180 transition-transform text-xs",children:""})]}),f.jsxs("div",{className:"mt-4 space-y-2 bg-slate-50/80 p-4 rounded-xl text-slate-600 text-xs leading-relaxed border border-slate-100 animate-in fade-in slide-in-from-top-2",children:[f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-brand-500 rounded-full"})," Access  5 core frameworks"]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-brand-500 rounded-full"})," Full access to Prompt Optimizer"]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-brand-500 rounded-full"})," Auto-downgrade to Free after trial"]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-brand-500 rounded-full"})," No credit card required. No automatic charges."]})]})]})}),f.jsx("p",{className:"text-[10px] text-center mt-8 text-slate-300",children:"By logging in, you agree to the User Agreement and Privacy Policy"})]})]})},uc=({children:r})=>{const a=Mt(),[i,l]=T.useState(!0),[c,d]=T.useState(!1);return T.useEffect(()=>{let h=!0;Kt.auth.getSession().then(({data:g})=>{h&&(d(!!g.session),l(!1))});const{data:m}=Kt.auth.onAuthStateChange((g,y)=>{h&&(d(!!y),l(!1))});return()=>{h=!1,m.subscription.unsubscribe()}},[]),i?f.jsx("div",{className:"min-h-screen bg-[#0A0F1C] text-slate-400 flex items-center justify-center text-sm",children:"Loading..."}):c?f.jsx(f.Fragment,{children:r}):f.jsx(ul,{to:"/login",state:{from:a},replace:!0})},tS=()=>{const[r,a]=T.useState(null),[i,l]=T.useState(!1),[c,d]=T.useState(!1),h=Mt(),m=ln();T.useEffect(()=>{let y=!0;Kt.auth.getUser().then(({data:x})=>{var w;y&&a(((w=x.user)==null?void 0:w.email)??null)});const{data:b}=Kt.auth.onAuthStateChange((x,w)=>{var S;y&&a(((S=w==null?void 0:w.user)==null?void 0:S.email)??null)});return()=>{y=!1,b.subscription.unsubscribe()}},[]),T.useEffect(()=>{l(!1)},[h.pathname]);const g=r?r.slice(0,2).toUpperCase():"JD";return f.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#0A0F1C] text-[#F9FAFB] font-sans selection:bg-[#3B82F6]/30",children:[f.jsxs("header",{className:"h-[64px] border-b border-[#1F2937] bg-[#0A0F1C]/90 backdrop-blur flex items-center justify-between px-6 flex-shrink-0 z-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"button",onClick:()=>l(!0),className:"lg:hidden p-2 rounded-lg text-[#9CA3AF] hover:text-white hover:bg-[#111827] transition-colors","aria-label":"Open menu","aria-controls":"app-sidebar","aria-expanded":i,title:"Menu",children:f.jsx(Ex,{size:18})}),f.jsx(en,{to:"/modules/core",className:"flex items-center justify-center text-slate-100",children:f.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H80C88.2843 20 95 26.7157 95 35V40C95 48.2843 88.2843 55 80 55H60L55 60H75C83.2843 60 90 66.7157 90 75V80C90 88.2843 83.2843 95 75 95H40L35 100H20L25 20Z",fill:"url(#logo_gradient)"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"logo_gradient",x1:"20",y1:"20",x2:"95",y2:"100",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#3B82F6"}),f.jsx("stop",{offset:"1",stopColor:"#6366F1"})]})})]})}),f.jsxs("div",{className:"flex flex-col leading-none",children:[f.jsx("span",{className:"text-sm font-bold text-[#F9FAFB] tracking-wide",children:"FUYOU"}),f.jsx("span",{className:"text-[9px] text-[#9CA3AF] font-bold tracking-wider",children:"PROMPT OS"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(en,{to:"/m2",className:"text-[#9CA3AF] hover:text-[#3B82F6] flex items-center gap-1.5 text-xs lg:text-sm font-medium transition-colors",children:f.jsx("span",{children:"Studio"})}),f.jsxs(en,{to:"/",className:"text-[#9CA3AF] hover:text-[#3B82F6] flex items-center gap-1.5 text-xs lg:text-sm font-medium transition-colors",children:[f.jsx(xx,{size:14}),f.jsx("span",{className:"hidden lg:inline",children:"Home"})]}),f.jsxs("div",{className:"flex items-center gap-2 relative",children:[r&&f.jsx("span",{className:"hidden lg:inline text-xs lg:text-sm text-[#9CA3AF]",children:r}),f.jsx("button",{type:"button",onClick:()=>d(y=>!y),className:"h-8 w-8 rounded-full bg-[#1F2937] border border-[#374151] flex items-center justify-center text-[10px] font-medium text-white hover:border-[#6B7280] transition-colors lg:cursor-default","aria-haspopup":"menu","aria-expanded":c,"aria-label":"User menu",children:g}),c&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>d(!1)}),f.jsxs("div",{className:"absolute right-0 top-full mt-2 z-50 w-[190px] rounded-xl border border-[#1F2937] bg-[#0A0F1C] shadow-xl lg:hidden",role:"menu",children:[f.jsx("div",{className:"px-3 py-2 text-[11px] text-[#9CA3AF] border-b border-[#1F2937]",children:r||""}),f.jsx("button",{type:"button",onClick:()=>Sg(m),className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-[#111827] rounded-b-xl",role:"menuitem",children:"Sign out"})]})]})]})]})]}),f.jsx("div",{className:"md:hidden shrink-0 border-b border-[#1F2937] bg-[#0A0F1C] px-4 py-3",children:f.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto text-xs text-[#9CA3AF] overscroll-x-contain [-webkit-overflow-scrolling:touch] touch-pan-x",children:[f.jsx(Ei,{to:"/modules/core",className:({isActive:y})=>`px-3 py-1.5 rounded-full border transition-colors ${y?"border-[#1F2937] bg-[#111827]/60 text-white":"border-[#1F2937] bg-transparent text-[#9CA3AF] hover:text-white hover:bg-[#111827]/40"}`,children:""}),f.jsx(Ei,{to:"/modules/general",className:({isActive:y})=>`px-3 py-1.5 rounded-full border transition-colors ${y?"border-[#1F2937] bg-[#111827]/60 text-white":"border-[#1F2937] bg-transparent text-[#9CA3AF] hover:text-white hover:bg-[#111827]/40"}`,children:""}),f.jsx(Ei,{to:"/modules/industry",className:({isActive:y})=>`px-3 py-1.5 rounded-full border transition-colors ${y?"border-[#1F2937] bg-[#111827]/60 text-white":"border-[#1F2937] bg-transparent text-[#9CA3AF] hover:text-white hover:bg-[#111827]/40"}`,children:""})]})}),f.jsxs("div",{className:"flex flex-1 min-h-0 min-w-0 w-full overflow-x-hidden overflow-hidden",children:[f.jsx(zx,{isOpen:i,onClose:()=>l(!1)}),f.jsx("main",{className:"flex-1 min-w-0 w-full max-w-full relative overflow-hidden flex flex-col min-h-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px),radial-gradient(1200px_700px_at_20%_0%,rgba(59,130,246,0.16),rgba(10,15,28,0)_60%),radial-gradient(1000px_600px_at_80%_10%,rgba(16,185,129,0.12),rgba(10,15,28,0)_60%),radial-gradient(120%_80%_at_50%_20%,rgba(0,0,0,0)_60%,rgba(0,0,0,0.7)_100%),linear-gradient(180deg,rgba(10,15,28,0.98),rgba(10,15,28,1))] bg-[length:40px_40px,40px_40px,auto,auto,auto,auto]",children:f.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar p-4 sm:p-6 lg:p-6 w-full flex flex-col min-w-0",children:f.jsx(ab,{})})})]})]})};function nS(){return f.jsx(Rb,{children:f.jsxs(ib,{children:[f.jsx(ht,{path:"/",element:f.jsx(W1,{})}),f.jsx(ht,{path:"/login",element:f.jsx(eS,{})}),f.jsxs(f.Fragment,{children:[f.jsx(ht,{path:"/m2",element:f.jsx(uc,{children:f.jsx(fw,{})})}),f.jsx(ht,{path:"/m2/run",element:f.jsx(uc,{children:f.jsx(pw,{})})})]}),f.jsxs(ht,{path:"/modules",element:f.jsx(uc,{children:f.jsx(tS,{})}),children:[f.jsx(ht,{index:!0,element:f.jsx(ul,{to:"core",replace:!0})}),f.jsx(ht,{path:"core",element:f.jsx(Yx,{})}),f.jsx(ht,{path:"general",element:f.jsx(sw,{})}),f.jsx(ht,{path:"general/:moduleId",element:f.jsx(lp,{})}),f.jsx(ht,{path:"general/:moduleId/:variantId",element:f.jsx(lp,{})}),f.jsx(ht,{path:"general/:moduleId/:variantId/run",element:f.jsx(cw,{})}),f.jsx(ht,{path:"industry",element:f.jsx(uw,{})})]}),f.jsx(ht,{path:"/app/*",element:f.jsx(ul,{to:"/modules",replace:!0})}),f.jsx(ht,{path:"*",element:f.jsx(ul,{to:"/",replace:!0})})]})})}const Eg=document.getElementById("root");if(!Eg)throw new Error("Could not find root element to mount to");const aS=iv.createRoot(Eg);aS.render(f.jsx(Qy.StrictMode,{children:f.jsx(nS,{})}));
