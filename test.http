@base = http://localhost:3000
@json = application/json

###
# 0) 健康检查：确认 Next 服务活着
GET {{base}}/api/ping

###
# 1) 最小链路（强烈推荐先跑这个）
# 目标：不依赖 moduleId 映射，直接跑 promptKey → engine → modelOutput
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "promptKey": "A1-01",
  "engineType": "gemini",
  "mode": "default",
  "userInput": "你好，给我一个关于“保险产品介绍”的写作大纲。"
}

###
# 2) 通用模块：单个 moduleId 测试（m1）
# 目标：验证 moduleId(m1) → 映射/解析 → realKey → runPromptModule
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m1",
  "engineType": "gemini",
  "mode": "default",
  "userInput": "你好"
}

###
# 3) 通用模块：m1-m31 批量测试（你可以逐个点 Send Request）
# 说明：如果某个 m? 还没映射/没模板，会返回错误（这是正常的，方便你定位缺哪个）
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m2",
  "engineType": "gemini",不愿意付费？"
}

###
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m3",
  "engineType": "gemini",
  "mode": "default",
  "userInput": "请帮我做一个市场调研提纲，主题：AI 写作工具。"
}

###
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m4",
  "engineType": "gemini",
  "mode": "default",
  "userInput": "我想做一个新产品，帮我 brainstorm 10 个方向。"
}

###
# —— 下面给你一个“复制模板”，你把 m5 改成 m6/m7... 一路到 m31 即可 —— #
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m5",
  "engineType": "gemini",
  "mode": "default",
  "userInput": "测试：请输出该模块的标准格式结果。"
}

###
# 4) 行业模块：占位测试（如果你行业模板还没落地，先确认不会 500）
# 注意：industryId 随便填一个，用于检查字段透传
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "f1",
  "engineType": "gemini",
  "mode": "default",
  "industryId": "insurance",
  "userInput": "请给我一个行业研究报告提纲：保险行业 2025"
}

###
# 5) Pro / Base 测试（如果你后端未来要区分 mode=pro/base）
# 现在先用来验证：mode 字段不会把系统打挂
POST {{base}}/api/generate
Content-Type: {{json}}

{
  "moduleId": "m1",
  "engineType": "gemini",
  "mode": "pro",
  "userInput": "请用更专业、更结构化的方式输出。"
}

